\hypertarget{class_scintilab_1_1_form_main}{\section{Scintilab.\+Form\+Main Klasse Referanse}
\label{class_scintilab_1_1_form_main}\index{Scintilab.\+Form\+Main@{Scintilab.\+Form\+Main}}
}


Hovedklasse for \hyperlink{namespace_scintilab}{Scintilab}.  


Arvediagram for Scintilab.\+Form\+Main\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_scintilab_1_1_form_main}
\end{center}
\end{figure}
\subsection*{Public medlemsfunksjoner}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_scintilab_1_1_form_main_a7f176c8b5bf31282b730dbfd05155642}{Form\+Main} ()
\item 
bool \hyperlink{class_scintilab_1_1_form_main_ac34ad4400cb8a7b5d38feca1f620b3cb}{Generate\+Bat\+From\+Params} (\hyperlink{class_scintilab_1_1_job_params}{Job\+Params} jp)
\item 
void \hyperlink{class_scintilab_1_1_form_main_ab1eef461219a3b724d3bf3af0cd68e94}{Generate\+Reanal\+Bat\+From\+Params} (string temp\+Name, string archive\+Name, \hyperlink{class_scintilab_1_1_job_params}{Job\+Params} jp)
\end{DoxyCompactItemize}
\subsection*{Public attributter}
\begin{DoxyCompactItemize}
\item 
List$<$ \hyperlink{class_scintilab_1_1_detector}{Detector} $>$ \hyperlink{class_scintilab_1_1_form_main_a88f16134102d9e4c5630adf5ff97f090}{Detectors} = null
\end{DoxyCompactItemize}
\subsection*{Private medlemsfunksjoner}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_scintilab_1_1_detector}{Detector} \hyperlink{class_scintilab_1_1_form_main_aff4482e0919480013a53fe56cfb374ba}{get\+Detector\+By\+Name} (string name)
\item 
\hyperlink{class_scintilab_1_1_beaker}{Beaker} \hyperlink{class_scintilab_1_1_form_main_a28d6ae4e27996e005e989b7256a45460}{get\+Beaker\+By\+Name} (string name)
\item 
\hyperlink{class_scintilab_1_1_q_a_beaker}{Q\+A\+Beaker} \hyperlink{class_scintilab_1_1_form_main_ae8b1f6bb6a734ec6ad54794d345ce650}{get\+Q\+A\+Beaker\+By\+Name} (string name)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a79453298b8521054e8012d9df6fe6b93}{clear\+Adm\+Detectors} ()
\item 
void \hyperlink{class_scintilab_1_1_form_main_af1716116c6d9b7a6900fb3ac10b7cf26}{clear\+Adm\+Beakers} ()
\item 
void \hyperlink{class_scintilab_1_1_form_main_a94e0c785ff92478f3bb21311a6bdf50f}{clear\+Adm\+Q\+A\+Beakers} ()
\item 
void \hyperlink{class_scintilab_1_1_form_main_a01c213a0d1456773b92d4d431a9d1cdb}{clear\+Samp\+Params} ()
\item 
void \hyperlink{class_scintilab_1_1_form_main_ace8f1fb51afa44804deec60a6dc42bcb}{populate\+Samp\+Geom} (string det\+Name)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a2d2ec0fa77e4dd0a81bb186b8021b210}{populate\+Samp\+Geom\+With\+Q\+A} (string det\+Name)
\item 
void \hyperlink{class_scintilab_1_1_form_main_ab744904cac6a4bf90ebbe326b658e2e5}{add\+Cal\+Files\+To\+Samp} (\hyperlink{class_scintilab_1_1_detector}{Detector} d, string beaker\+Name)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a14289005c3867f1744618030dc33d79c}{Menu\+Item\+Exit\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a7919f1d4c3819a3c85df4107bbf82a59}{Update\+Detector\+Lists} ()
\item 
void \hyperlink{class_scintilab_1_1_form_main_a6c96beb015193d225dd65035759f8484}{Form\+Main\+\_\+\+Load} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_ab8ea1ca503bf5fecfdf241a6813fbbca}{Application\+\_\+\+Idle} (object sender, System.\+Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_ab53847bf056f4cec151f5ad5d5e0ceec}{On\+Jobs\+Changed} (object source, File\+System\+Event\+Args e)
\item 
bool \hyperlink{class_scintilab_1_1_form_main_a158d3b89f669d3b2a24ba750caef3eec}{Lookup\+New\+Detectors} ()
\item 
bool \hyperlink{class_scintilab_1_1_form_main_a072f08bc198944051dffd3d8fac4cc9d}{check\+For\+Errors} (string filename)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a26420269c1a616c31de7521deebbef5f}{update\+Grid\+Jobs} ()
\item 
void \hyperlink{class_scintilab_1_1_form_main_a9cfeb3e22a98715b97f61b779e56b260}{btn\+Menu\+Jobs\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a41ead05b3b898979155de24a559af523}{btn\+Menu\+Archive\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a2432aabab8e149c90ce3c5de9779d33a}{Menu\+Item\+Admin\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_aca32a54e95297f770c9022441cb74a90}{btn\+Back\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_aa8c918f5dc9b6c05a02109bf41eec156}{tabs\+\_\+\+Selected\+Index\+Changed} (object sender, Event\+Args e)
\item 
bool \hyperlink{class_scintilab_1_1_form_main_a0fc122d41cfd2269400517c27dfb2aa3}{Detector\+Has\+Job} (\hyperlink{class_scintilab_1_1_detector}{Detector} d)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a4793aee20cbfead78e08f36997b9837c}{lv\+Detectors\+\_\+\+Selected\+Index\+Changed} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_ad85e690e8d5fa96cbf9c0a7632bd7140}{Set\+Sample\+Fields\+Status} (bool enable)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a566e7914e95ee64d886ef430796b9f64}{btn\+Samp\+Read\+Barcode\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_ab155e944ae752fdde630c1f4a4827902}{lb\+Adm\+Det\+List\+\_\+\+Selected\+Index\+Changed} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_ae3ae1f6cec4d61f964b0c4e0a4468a4c}{lb\+Adm\+Geom\+List\+\_\+\+Selected\+Index\+Changed} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_adb8fdd0575ceff94bb6a842e25b9f0f1}{lb\+Adm\+Q\+A\+List\+\_\+\+Selected\+Index\+Changed} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a262b28336ad08680d43100f4cd5afe03}{cbox\+Samp\+Geom\+\_\+\+Selected\+Index\+Changed} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a182cf23da0489ee71d0fd1a90abacdf0}{btn\+Adm\+Det\+Save\+\_\+\+Click} (object sender, Event\+Args e)
\item 
string \hyperlink{class_scintilab_1_1_form_main_aaac85ee2e1b1f107ed9f653435c6b025}{get\+File} (string title, string dir, string filter)
\item 
string \hyperlink{class_scintilab_1_1_form_main_af1dbdd5d9d15c9a665a249394091b4f1}{get\+Folder} (string title)
\item 
void \hyperlink{class_scintilab_1_1_form_main_adaf37500d9e85e8a8fa5494e0070994c}{btn\+Adm\+Det\+Bkg\+Sub\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a675dfb6e115d582b0158853c9ac698e2}{btn\+Adm\+Det\+N\+I\+D\+Lib\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a45d3024dfac28a98d3f282079dd53206}{btn\+Adm\+Det\+Geom\+Cal\+Add\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_ad3fe00a88fb8da2b88832fc60e7fd674}{btn\+Adm\+Det\+Geom\+Cal\+Edit\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a93fd0bccb6ec721eca356f868939e68b}{populate\+Sample\+From\+File} (string filename)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a12209de63c7a7c7d6790466e9be3edd5}{btn\+Samp\+Start\+\_\+\+Click} (object sender, Event\+Args e)
\item 
string \hyperlink{class_scintilab_1_1_form_main_ad8de93638ebc50f712d85af269ba383d}{get\+Q\+A\+Box\+From\+Detector} (\hyperlink{class_scintilab_1_1_detector}{Detector} d, string geom)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a6306e9b64d524deb6b9f5fb0a6259647}{btn\+Job\+Open\+Spectrum\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_adaef6dd7659666d44b846de21d5b14df}{btn\+Jobs\+Show\+Output\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a953db9b2ca7c1a92c327871b4a448934}{btn\+Adm\+Genie\+Folder\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_ae1b0cb30ebcecd34d4ad1a59cbce6d38}{btn\+Adm\+Save\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a6e20ae5c9d1546f174e52e347657e6db}{btn\+Adm\+Template\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_ab14307d4fa2fc950a86baf6b0a56514c}{btn\+Adm\+L\+I\+M\+S\+Import\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_ad9f04197f41acec2571a81ca2966069f}{btn\+Adm\+L\+I\+M\+S\+Export\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a99614128337091c0589a30ba511397b6}{btn\+Adm\+Det\+Geom\+Cal\+Delete\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a947d821789ec1a55af6af94c2faea82d}{tv\+Archive\+\_\+\+After\+Select} (object sender, Tree\+View\+Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a9e03fe4c4af959f108ded057804996f6}{btn\+Adm\+Q\+A\+New\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_af337ca12fa73a28ae1c34b7169777d69}{btn\+Archive\+Reanal\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a267fcaa644ed5e84053883a9164adf6b}{btn\+Open\+Q\+A\+Plot\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a0a801bd487880ec77bdd03a36926a660}{btn\+Job\+Show\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a7cef2942c91ce3e6d209aec5e17f8751}{btn\+Samp\+Anal\+Bkg\+Sub\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_aa1b4a5be131daa0da4742d5011088756}{btn\+Samp\+Anal\+N\+I\+D\+Lib\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a5a12d967594f000e71f7f8e79eded8d4}{btn\+Archive\+Show\+Report\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a732f051d849b79cd620a0f699d3dcaeb}{btn\+Archive\+Show\+Params\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a73fdda90a8617b61e3de31be6b659564}{btn\+Archive\+Print\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a6d7ebeb5c9dadf53b29f7faccdad6102}{Menu\+Item\+Logout\+\_\+\+Click} (object sender, Event\+Args e)
\item 
bool \hyperlink{class_scintilab_1_1_form_main_a6cb8b069c0d1b488dbf0abef2b8fcfb3}{check\+Valid\+Integer} (char ch)
\item 
bool \hyperlink{class_scintilab_1_1_form_main_ac7955a16efd0a7b15614c904db1c4d20}{check\+Valid\+Decimal} (string txt, char ch)
\item 
void \hyperlink{class_scintilab_1_1_form_main_ae3cd051584a2767807a47d1d45a13d4e}{Integer\+\_\+\+Key\+Press} (object sender, Key\+Press\+Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a8b2aed106bf6da84eade77654137b723}{Decimal\+\_\+\+Key\+Press} (object sender, Key\+Press\+Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a6b4990d68fbc5c9c543e4403f5630229}{btn\+Adm\+Q\+A\+Save\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a52f26a9255f72e013f3b2067905838ca}{btn\+Adm\+Geom\+Save\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a5aefdcf34c90024ca153c8b8f1200c01}{populate\+Sample\+View} (\hyperlink{class_scintilab_1_1_selection_info}{Selection\+Info} si)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a73ffa9e06d5936a593bf11d78f6abbc0}{btn\+Menu\+Sample\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a909462e7826215219d895954dec393c3}{btn\+Archive\+Create\+Bkg\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a91cb583dc09f198b098c9d99647053e1}{btn\+Adm\+Geo\+New\+\_\+\+Click} (object sender, Event\+Args e)
\item 
void \hyperlink{class_scintilab_1_1_form_main_a477fe2e53536fb7a63e77656fb196cd4}{btn\+Archive\+Show\+Spectrum\+\_\+\+Click} (object sender, Event\+Args e)
\end{DoxyCompactItemize}
\subsection*{Private attributter}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_scintilab_1_1_system_parameters}{System\+Parameters} \hyperlink{class_scintilab_1_1_form_main_ad41498eb151a72c77ad94c7285d0f506}{Sys\+Par} = null
\item 
List$<$ \hyperlink{class_scintilab_1_1_beaker}{Beaker} $>$ \hyperlink{class_scintilab_1_1_form_main_aaff2cbfd906f576997bce08ece74dae8}{Beakers} = null
\item 
List$<$ \hyperlink{class_scintilab_1_1_q_a_beaker}{Q\+A\+Beaker} $>$ \hyperlink{class_scintilab_1_1_form_main_af318208d55e4a144a14abde1adc7559d}{Q\+A\+Beakers} = null
\item 
\hyperlink{class_scintilab_1_1_selection_info}{Selection\+Info} \hyperlink{class_scintilab_1_1_form_main_a57c8340ae2caaec775ad70d8036514fb}{Sel\+Info} = new \hyperlink{class_scintilab_1_1_selection_info}{Selection\+Info}()
\item 
File\+System\+Watcher \hyperlink{class_scintilab_1_1_form_main_a0331bda673387e5d96deebd876575d1d}{watcher} = new File\+System\+Watcher()
\item 
bool \hyperlink{class_scintilab_1_1_form_main_a751a47b90ebd11367991fc095818d8a2}{update\+Jobs} = false
\item 
bool \hyperlink{class_scintilab_1_1_form_main_a389e9c6697c567d84058d178053a837c}{is\+Reanal} = false
\end{DoxyCompactItemize}


\subsection{Detaljert beskrivelse}
Hovedklasse for \hyperlink{namespace_scintilab}{Scintilab}. 

Definisjon på linje 19 i filen Form\+Main.\+cs.



\subsection{Konstruktør-\/ \& destruktør-\/dokumentasjon}
\hypertarget{class_scintilab_1_1_form_main_a7f176c8b5bf31282b730dbfd05155642}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Form\+Main@{Form\+Main}}
\index{Form\+Main@{Form\+Main}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Form\+Main}]{\setlength{\rightskip}{0pt plus 5cm}Scintilab.\+Form\+Main.\+Form\+Main (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{class_scintilab_1_1_form_main_a7f176c8b5bf31282b730dbfd05155642}
Konstruktør 

Definisjon på linje 41 i filen Form\+Main.\+cs.


\begin{DoxyCode}
42         \{
43             InitializeComponent();
44         \}
\end{DoxyCode}


\subsection{Medlemsfunksjon-\/dokumentasjon}
\hypertarget{class_scintilab_1_1_form_main_ab744904cac6a4bf90ebbe326b658e2e5}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!add\+Cal\+Files\+To\+Samp@{add\+Cal\+Files\+To\+Samp}}
\index{add\+Cal\+Files\+To\+Samp@{add\+Cal\+Files\+To\+Samp}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{add\+Cal\+Files\+To\+Samp}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+add\+Cal\+Files\+To\+Samp (
\begin{DoxyParamCaption}
\item[{{\bf Detector}}]{d, }
\item[{string}]{beaker\+Name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ab744904cac6a4bf90ebbe326b658e2e5}
Fyll inn gyldige .C\+A\+L filer for valg detektor og beger


\begin{DoxyParams}{Parametre}
{\em d} & Valgt detektor \\
\hline
{\em beaker\+Name} & Navn på valgt beger \\
\hline
\end{DoxyParams}


Definisjon på linje 286 i filen Form\+Main.\+cs.


\begin{DoxyCode}
287         \{
288             cboxSampAdvCal.Items.Clear(); \textcolor{comment}{// Tøm dropdown for calbreringsfiler}
289             \textcolor{comment}{// Opprett filnavnfilter for kalibreringsfiler}
290             \textcolor{keywordtype}{string} filter = d.Name + beakerName + \textcolor{stringliteral}{"*.CAL"};
291             \textcolor{comment}{// Opprett liste over filbaner til kalibreringsfiler som tilfredstiller filteret}
292             \textcolor{keywordtype}{string}[] files = Directory.GetFiles(\hyperlink{class_scintilab_1_1_config_a8bb782f1eebd5ba14d686c57bc981298}{Config.CalDir}, filter);
293             \textcolor{comment}{// Legg til kalibreringsfilene i dropdown (kun filnavnet)}
294             \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{string} fn \textcolor{keywordflow}{in} files)
295                 cboxSampAdvCal.Items.Add(Path.GetFileName(fn));
296 
297             \textcolor{comment}{// Sett aktivt beger i dropdown hvis det finnes i detektor definisjonen}
298             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < d.BeakerInfoList.Count; i++)
299                 \textcolor{keywordflow}{if} (d.BeakerInfoList[i].BeakerName == beakerName)
300                     cboxSampAdvCal.Text = Path.GetFileName(d.BeakerInfoList[i].CalibrationFile);
301         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ab8ea1ca503bf5fecfdf241a6813fbbca}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Application\+\_\+\+Idle@{Application\+\_\+\+Idle}}
\index{Application\+\_\+\+Idle@{Application\+\_\+\+Idle}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Application\+\_\+\+Idle}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+Application\+\_\+\+Idle (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{System.\+Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ab8ea1ca503bf5fecfdf241a6813fbbca}
Hendelse for program i inaktiv tilstand 

Definisjon på linje 523 i filen Form\+Main.\+cs.


\begin{DoxyCode}
524         \{
525             \textcolor{comment}{// Sjekk om jobb katalogen trenger oppdatering}
526             \textcolor{keywordflow}{if} (\hyperlink{class_scintilab_1_1_form_main_a751a47b90ebd11367991fc095818d8a2}{updateJobs})
527             \{
528                 \hyperlink{class_scintilab_1_1_form_main_a751a47b90ebd11367991fc095818d8a2}{updateJobs} = \textcolor{keyword}{false};
529                 \hyperlink{class_scintilab_1_1_form_main_a26420269c1a616c31de7521deebbef5f}{updateGridJobs}(); \textcolor{comment}{// Oppdater jobb informasjon}
530             \}
531 
532             \textcolor{comment}{// Diverse oppdateringer for grensesnittet}
533             \textcolor{keywordflow}{if} (tabs.SelectedTab == tabAdmin && tabsAdmin.SelectedTab == tabAdminQA && btnAdmQANew.Visible 
      == \textcolor{keyword}{false})
534                 btnAdmQANew.Visible = \textcolor{keyword}{true};
535             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((tabs.SelectedTab != tabAdmin || tabsAdmin.SelectedTab != tabAdminQA) && btnAdmQANew.
      Visible == \textcolor{keyword}{true})
536                 btnAdmQANew.Visible = \textcolor{keyword}{false};
537 
538             \textcolor{keywordflow}{if} (tabs.SelectedTab == tabAdmin && tabsAdmin.SelectedTab == tabAdminGeom && btnAdmGeoNew.
      Visible == \textcolor{keyword}{false})
539                 btnAdmGeoNew.Visible = \textcolor{keyword}{true};
540             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((tabs.SelectedTab != tabAdmin || tabsAdmin.SelectedTab != tabAdminGeom) && 
      btnAdmGeoNew.Visible == \textcolor{keyword}{true})
541                 btnAdmGeoNew.Visible = \textcolor{keyword}{false};
542         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_adaf37500d9e85e8a8fa5494e0070994c}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Adm\+Det\+Bkg\+Sub\+\_\+\+Click@{btn\+Adm\+Det\+Bkg\+Sub\+\_\+\+Click}}
\index{btn\+Adm\+Det\+Bkg\+Sub\+\_\+\+Click@{btn\+Adm\+Det\+Bkg\+Sub\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Adm\+Det\+Bkg\+Sub\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Adm\+Det\+Bkg\+Sub\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_adaf37500d9e85e8a8fa5494e0070994c}
Hendelse for valg av en detektors bakgrunnsfil under administrasjonssidene 

Definisjon på linje 1256 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1257         \{
1258             \textcolor{keywordflow}{if} (lbAdmDetList.SelectedIndices.Count == 0)
1259                 \textcolor{keywordflow}{return};
1260             \textcolor{comment}{// Sett opp filter}
1261             \textcolor{keywordtype}{string} filter = \textcolor{stringliteral}{"Bakgrunnsfiler|"} + lbAdmDetList.SelectedItem.ToString() + \textcolor{stringliteral}{"*.CNF"};
1262             \textcolor{keywordtype}{string} bkgfile = \hyperlink{class_scintilab_1_1_form_main_aaac85ee2e1b1f107ed9f653435c6b025}{getFile}(\textcolor{stringliteral}{"Velg bakgrunnsfil"}, Config.BkgDir, filter);
1263             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(bkgfile))
1264                 tbAdmDetBkgSub.Text = bkgfile;
1265         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a45d3024dfac28a98d3f282079dd53206}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Adm\+Det\+Geom\+Cal\+Add\+\_\+\+Click@{btn\+Adm\+Det\+Geom\+Cal\+Add\+\_\+\+Click}}
\index{btn\+Adm\+Det\+Geom\+Cal\+Add\+\_\+\+Click@{btn\+Adm\+Det\+Geom\+Cal\+Add\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Adm\+Det\+Geom\+Cal\+Add\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Adm\+Det\+Geom\+Cal\+Add\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a45d3024dfac28a98d3f282079dd53206}
Hendelse for ny kobling av en detektors beger og .C\+A\+L fil under administrasjonssidene 

Definisjon på linje 1280 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1281         \{
1282             List<string> usedGeoms = \textcolor{keyword}{new} List<string>(); \textcolor{comment}{// Liste med beger som allerede er i bruk}
1283             \textcolor{comment}{// Fyll inn liste}
1284             \textcolor{keywordflow}{foreach} (DataGridViewRow row \textcolor{keywordflow}{in} gridAdmDetGeomCalQA.Rows)
1285                 usedGeoms.Add(row.Cells[0].Value as String);
1286 
1287             \textcolor{comment}{// Vis vindu for ny beger/CAL kombinasjon}
1288             FormCreateGeomCalQA form = \textcolor{keyword}{new} FormCreateGeomCalQA(lbAdmDetList.SelectedItem.ToString(), ref 
      usedGeoms, ref \hyperlink{class_scintilab_1_1_form_main_aaff2cbfd906f576997bce08ece74dae8}{Beakers}, ref \hyperlink{class_scintilab_1_1_form_main_af318208d55e4a144a14abde1adc7559d}{QABeakers}, \hyperlink{class_scintilab_1_1_config_a8bb782f1eebd5ba14d686c57bc981298}{Config.CalDir});
1289             
1290             \textcolor{keywordflow}{if} (form.ShowDialog() == DialogResult.OK)
1291             \{
1292                 \textcolor{comment}{// Legg til ny beger/CAL kombinasjon i grensesnitt}
1293                 gridAdmDetGeomCalQA.Rows.Add(form.SelectedGeometry, Config.CalDir + form.SelectedCalFile, 
      form.SelectedQABox); 
1294             \}
1295         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a99614128337091c0589a30ba511397b6}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Adm\+Det\+Geom\+Cal\+Delete\+\_\+\+Click@{btn\+Adm\+Det\+Geom\+Cal\+Delete\+\_\+\+Click}}
\index{btn\+Adm\+Det\+Geom\+Cal\+Delete\+\_\+\+Click@{btn\+Adm\+Det\+Geom\+Cal\+Delete\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Adm\+Det\+Geom\+Cal\+Delete\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Adm\+Det\+Geom\+Cal\+Delete\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a99614128337091c0589a30ba511397b6}
Hendelse for sletting av detektor, beger, cal kobling under administrasjonssidene 

Definisjon på linje 1970 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1971         \{
1972             \textcolor{comment}{// Avbryt hvis det/cal/QA kombinasjon ikke er valgt}
1973             \textcolor{keywordflow}{if} (gridAdmDetGeomCalQA.SelectedCells.Count == 0)
1974                 \textcolor{keywordflow}{return};
1975 
1976             \textcolor{comment}{// Hent beger og detektor fra grensesnitt}
1977             \textcolor{keywordtype}{string} geom = gridAdmDetGeomCalQA.SelectedCells[0].Value as String;
1978             Detector d = \hyperlink{class_scintilab_1_1_form_main_aff4482e0919480013a53fe56cfb374ba}{getDetectorByName}(lbAdmDetList.SelectedItem.ToString());
1979 
1980             \textcolor{comment}{// Fjern det/cal/QA kombinasjon fra detektor hvis den finnes}
1981             \textcolor{keywordflow}{foreach} (BeakerInfo bi \textcolor{keywordflow}{in} d.BeakerInfoList)
1982             \{
1983                 \textcolor{keywordflow}{if} (bi.BeakerName.ToUpper() == geom.ToUpper())
1984                 \{
1985                     d.BeakerInfoList.Remove(bi);
1986                     \textcolor{keywordflow}{break};
1987                 \}
1988             \}
1989 
1990             \textcolor{comment}{// Oppdater grensesnitt for det/cal/QA kombinasjoner}
1991             gridAdmDetGeomCalQA.Rows.Clear();
1992             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < d.BeakerInfoList.Count; j++)
1993             \{
1994                 BeakerInfo bi = d.BeakerInfoList[j];
1995                 gridAdmDetGeomCalQA.Rows.Add(bi.BeakerName, bi.CalibrationFile, bi.QAName);
1996             \}
1997         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ad3fe00a88fb8da2b88832fc60e7fd674}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Adm\+Det\+Geom\+Cal\+Edit\+\_\+\+Click@{btn\+Adm\+Det\+Geom\+Cal\+Edit\+\_\+\+Click}}
\index{btn\+Adm\+Det\+Geom\+Cal\+Edit\+\_\+\+Click@{btn\+Adm\+Det\+Geom\+Cal\+Edit\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Adm\+Det\+Geom\+Cal\+Edit\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Adm\+Det\+Geom\+Cal\+Edit\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ad3fe00a88fb8da2b88832fc60e7fd674}
Hendelse for redigering av kobling av en detektors beger og .C\+A\+L fil under administrasjonssidene 

Definisjon på linje 1300 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1301         \{
1302             \textcolor{comment}{// Avbryt hvis ingen beger/CAL kombinasjon er valgt}
1303             \textcolor{keywordflow}{if} (gridAdmDetGeomCalQA.SelectedCells.Count == 0)
1304                 \textcolor{keywordflow}{return};
1305 
1306             \textcolor{comment}{// Vis vindu for editering av beger/QA kombinasjon}
1307             \textcolor{keywordtype}{string} geom = gridAdmDetGeomCalQA.SelectedCells[0].Value as String;
1308             FormEditGeomCalQA form = \textcolor{keyword}{new} FormEditGeomCalQA(lbAdmDetList.SelectedItem.ToString(), geom, ref 
      \hyperlink{class_scintilab_1_1_form_main_af318208d55e4a144a14abde1adc7559d}{QABeakers}, \hyperlink{class_scintilab_1_1_config_a8bb782f1eebd5ba14d686c57bc981298}{Config.CalDir});
1309             form.CurrentCalFile = gridAdmDetGeomCalQA.SelectedCells[1].Value as String;
1310             form.CurrentQABox = gridAdmDetGeomCalQA.SelectedCells[2].Value as String;
1311             \textcolor{keywordflow}{if} (form.ShowDialog() == DialogResult.OK)
1312             \{
1313                 \textcolor{comment}{// Oppdater grensesnitt}
1314                 gridAdmDetGeomCalQA.SelectedCells[1].Value = form.SelectedCalFile;
1315                 gridAdmDetGeomCalQA.SelectedCells[2].Value = form.SelectedQABox;
1316             \}
1317         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a675dfb6e115d582b0158853c9ac698e2}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Adm\+Det\+N\+I\+D\+Lib\+\_\+\+Click@{btn\+Adm\+Det\+N\+I\+D\+Lib\+\_\+\+Click}}
\index{btn\+Adm\+Det\+N\+I\+D\+Lib\+\_\+\+Click@{btn\+Adm\+Det\+N\+I\+D\+Lib\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Adm\+Det\+N\+I\+D\+Lib\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Adm\+Det\+N\+I\+D\+Lib\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a675dfb6e115d582b0158853c9ac698e2}
Hendelse for valg av en detektors N\+I\+D-\/bibliotek under administrasjonssidene 

Definisjon på linje 1270 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1271         \{
1272             \textcolor{keywordtype}{string} nlbfile = \hyperlink{class_scintilab_1_1_form_main_aaac85ee2e1b1f107ed9f653435c6b025}{getFile}(\textcolor{stringliteral}{"Velg NID Bibliotek"}, Config.LibDir, \textcolor{stringliteral}{"NID Bibliotek|*.NLB"});
1273             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(nlbfile))
1274                 tbAdmDetNIDLib.Text = nlbfile;
1275         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a182cf23da0489ee71d0fd1a90abacdf0}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Adm\+Det\+Save\+\_\+\+Click@{btn\+Adm\+Det\+Save\+\_\+\+Click}}
\index{btn\+Adm\+Det\+Save\+\_\+\+Click@{btn\+Adm\+Det\+Save\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Adm\+Det\+Save\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Adm\+Det\+Save\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a182cf23da0489ee71d0fd1a90abacdf0}
Hendelse for lagring av detektor under administrasjonssidene 

Definisjon på linje 1047 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1048         \{
1049             \textcolor{comment}{// Sjekk at påkrevde felter er fyllt inn}
1050             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(cboxAdmDetQAPresetArea.Text))
1051             \{
1052                 \textcolor{keywordflow}{if} (String.IsNullOrEmpty(tbAdmDetQAPresetAreaValue.Text)
1053                     || String.IsNullOrEmpty(tbAdmDetQAPresetAreaChanFrom.Text)
1054                     || String.IsNullOrEmpty(tbAdmDetQAPresetAreaChanTo.Text))
1055                 \{
1056                     MessageBox.Show(\textcolor{stringliteral}{"En eller fler påkrevde felter mangler for ref. boks - preset area"});
1057                     \textcolor{keywordflow}{return};
1058                 \}
1059             \}
1060             \textcolor{keywordflow}{else}
1061             \{
1062                 \textcolor{comment}{// Sett inn default verdier for noen felter}
1063                 tbAdmDetQAPresetAreaValue.Text = \textcolor{stringliteral}{"0"};
1064                 tbAdmDetQAPresetAreaChanFrom.Text = \textcolor{stringliteral}{"0"};
1065                 tbAdmDetQAPresetAreaChanTo.Text = \textcolor{stringliteral}{"0"};
1066             \}
1067 
1068             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(cboxAdmDetQAPresetTime.Text))
1069             \{
1070                 \textcolor{keywordflow}{if} (String.IsNullOrEmpty(tbAdmDetQAPresetTimeValue.Text) || String.IsNullOrEmpty(
      cboxAdmDetQAPresetTimeUnit.Text))
1071                 \{
1072                     MessageBox.Show(\textcolor{stringliteral}{"En eller fler påkrevde felter mangler for ref. boks - preset time"});
1073                     \textcolor{keywordflow}{return};
1074                 \}
1075             \}
1076             \textcolor{keywordflow}{else} tbAdmDetQAPresetTimeValue.Text = \textcolor{stringliteral}{"0"};
1077 
1078             \textcolor{keywordflow}{if} (String.IsNullOrEmpty(cboxAdmDetQAPresetArea.Text) && String.IsNullOrEmpty(
      cboxAdmDetQAPresetTime.Text))
1079             \{
1080                 MessageBox.Show(\textcolor{stringliteral}{"Du må sette enten preset area eller preset time for ref. boks"});
1081                 \textcolor{keywordflow}{return};
1082             \}
1083 
1084 
1085             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(cboxAdmDetBkgPresetArea.Text))
1086             \{
1087                 \textcolor{keywordflow}{if} (String.IsNullOrEmpty(tbAdmDetBkgPresetAreaValue.Text)
1088                     || String.IsNullOrEmpty(tbAdmDetBkgPresetAreaChanFrom.Text)
1089                     || String.IsNullOrEmpty(tbAdmDetBkgPresetAreaChanTo.Text))
1090                 \{
1091                     MessageBox.Show(\textcolor{stringliteral}{"En eller fler påkrevde felter mangler for ref. boks - preset area"});
1092                     \textcolor{keywordflow}{return};
1093                 \}
1094             \}
1095             \textcolor{keywordflow}{else}
1096             \{
1097                 tbAdmDetBkgPresetAreaValue.Text = \textcolor{stringliteral}{"0"};
1098                 tbAdmDetBkgPresetAreaChanFrom.Text = \textcolor{stringliteral}{"0"};
1099                 tbAdmDetBkgPresetAreaChanTo.Text = \textcolor{stringliteral}{"0"};
1100             \}
1101 
1102             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(cboxAdmDetBkgPresetTime.Text))
1103             \{
1104                 \textcolor{keywordflow}{if} (String.IsNullOrEmpty(tbAdmDetBkgPresetTimeValue.Text) || String.IsNullOrEmpty(
      cboxAdmDetBkgPresetTimeUnit.Text))
1105                 \{
1106                     MessageBox.Show(\textcolor{stringliteral}{"En eller fler påkrevde felter mangler for ref. boks - preset time"});
1107                     \textcolor{keywordflow}{return};
1108                 \}
1109             \}
1110             \textcolor{keywordflow}{else} tbAdmDetBkgPresetTimeValue.Text = \textcolor{stringliteral}{"0"};
1111 
1112             \textcolor{keywordflow}{if} (String.IsNullOrEmpty(cboxAdmDetBkgPresetArea.Text) && String.IsNullOrEmpty(
      cboxAdmDetBkgPresetTime.Text))
1113             \{
1114                 MessageBox.Show(\textcolor{stringliteral}{"Du må sette enten preset area eller preset time for ref. boks"});
1115                 \textcolor{keywordflow}{return};
1116             \}
1117 
1118             \textcolor{comment}{// SJekk at NID Conf. Thresh. er større enn 0 og mindre enn 1}
1119             \textcolor{keywordtype}{double} nct = Utils.ConvertToDouble(tbAdmDetNIDConfThresh.Text);
1120             \textcolor{keywordflow}{if} (!(nct > 0.0 && nct < 1.0))
1121             \{
1122                 MessageBox.Show(\textcolor{stringliteral}{"NID Conf. Thresh. må være større enn 0.0 og mindre enn 1.0"});
1123                 \textcolor{keywordflow}{return};
1124             \}
1125 
1126             \textcolor{keywordflow}{try}
1127             \{
1128                 \textcolor{comment}{// Fyll valgt detektor med verdier fra felter}
1129                 Detector d = \hyperlink{class_scintilab_1_1_form_main_aff4482e0919480013a53fe56cfb374ba}{getDetectorByName}(lbAdmDetList.SelectedItem.ToString());
1130                 d.InUse = cbAdmDetInUse.Checked;
1131                 d.SearchRegionFrom = Convert.ToInt32(tbAdmDetSearchRegionFrom.Text);
1132                 d.SearchRegionTo = Convert.ToInt32(tbAdmDetSearchRegionTo.Text);
1133                 d.Tolerance = Utils.ConvertToDouble(tbAdmDetTolerance.Text);
1134                 d.SignificanceThreshold = Utils.ConvertToDouble(tbAdmDetSignThresh.Text);
1135                 d.PeakAreaRegionFrom = Convert.ToInt32(tbAdmDetPeakAreaRegionFrom.Text);
1136                 d.PeakAreaRegionTo = Convert.ToInt32(tbAdmDetPeakAreaRegionTo.Text);
1137                 d.Continuum = Utils.ConvertToDouble(tbAdmDetContinuum.Text);
1138                 d.ContinuumFunction = cboxAdmDetContinuumFunc.Text;
1139                 d.CriticalLevel = cbAdmDetCriticalLevel.Checked;
1140                 d.FitSinglets = cbAdmDetFitSinglets.Checked;
1141                 d.DisplayROIs = cbAdmDetDisplayROIs.Checked;
1142                 d.UseFixedTailParameter = cbAdmDetUseFixedTailParam.Checked;
1143                 d.RejectZeroAreaPeaks = cbAdmDetRejectZeroAreaPeaks.Checked;
1144                 d.UseFixedFWHM = cbAdmDetUseFixedFWHM.Checked;
1145                 d.MaxFWHMSBetweenPeaks = Utils.ConvertToDouble(tbAdmDetMaxFHWMBetPeaks.Text);
1146                 d.MaxFWHMSForLeftLimit = Utils.ConvertToDouble(tbAdmDetMaxFHWMLeftLim.Text);
1147                 d.MaxFWHMSForRightLimit = Utils.ConvertToDouble(tbAdmDetMaxFHWMRightLim.Text);
1148                 d.BackgroundSubtract = tbAdmDetBkgSub.Text;
1149                 d.EfficiencyCalibrationType = cboxAdmDetEffCalType.Text;
1150                 d.NIDLibrary = tbAdmDetNIDLib.Text;
1151                 d.NIDConfidenceThreshold = Utils.ConvertToDouble(tbAdmDetNIDConfThresh.Text);
1152                 d.MDAConfidenceFactor = Utils.ConvertToDouble(tbAdmDetMDAConfFac.Text);
1153                 d.InhibitATDCorrection = cbAdmDetInhibitATDCorr.Checked;
1154                 d.UseStoredLibrary = cbAdmDetUseStoredLib.Checked;
1155                 d.PerformMDATest = cbAdmDetPerfMDATest.Checked;
1156                 d.PresetCount = cboxAdmDetPresetArea.Text;
1157                 d.PresetCountValue = Convert.ToInt32(tbAdmDetPresetAreaValue.Text);
1158                 d.PresetCountChanFrom = Convert.ToInt32(tbAdmDetPresetAreaChanFrom.Text);
1159                 d.PresetCountChanTo = Convert.ToInt32(tbAdmDetPresetAreaChanTo.Text);
1160                 d.PresetTime = cboxAdmDetPresetTime.Text;
1161                 d.PresetTimeValue = Convert.ToInt32(tbAdmDetPresetTimeValue.Text);
1162                 d.PresetTimeUnit = cboxAdmDetPresetTimeUnit.Text;
1163                 d.RandomError = Utils.ConvertToDouble(tbAdmDetRandErr.Text);
1164                 d.SystematicError = Utils.ConvertToDouble(tbAdmDetSysErr.Text);
1165                 d.BeakerInfoList.Clear();
1166                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < gridAdmDetGeomCalQA.Rows.Count; i++)
1167                 \{
1168                     BeakerInfo bi = \textcolor{keyword}{new} BeakerInfo();
1169                     bi.BeakerName = gridAdmDetGeomCalQA.Rows[i].Cells[\textcolor{stringliteral}{"Geom"}].Value as String;
1170                     bi.CalibrationFile = gridAdmDetGeomCalQA.Rows[i].Cells[\textcolor{stringliteral}{"CalFile"}].Value as String;
1171                     bi.QAName = gridAdmDetGeomCalQA.Rows[i].Cells[\textcolor{stringliteral}{"QABeaker"}].Value as String;
1172                     d.BeakerInfoList.Add(bi);
1173                 \}
1174 
1175                 d.QARefPresetArea = cboxAdmDetQAPresetArea.Text;
1176                 \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbAdmDetQAPresetAreaValue.Text))
1177                     d.QARefPresetAreaValue = Convert.ToInt32(tbAdmDetQAPresetAreaValue.Text);
1178                 \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbAdmDetQAPresetAreaChanFrom.Text))
1179                     d.QARefPresetAreaChanFrom = Convert.ToInt32(tbAdmDetQAPresetAreaChanFrom.Text);
1180                 \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbAdmDetQAPresetAreaChanTo.Text))
1181                     d.QARefPresetAreaChanTo = Convert.ToInt32(tbAdmDetQAPresetAreaChanTo.Text);
1182 
1183                 d.QARefPresetTime = cboxAdmDetQAPresetTime.Text;
1184                 \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbAdmDetQAPresetTimeValue.Text))
1185                     d.QARefPresetTimeValue = Convert.ToInt32(tbAdmDetQAPresetTimeValue.Text);
1186                 d.QARefPresetTimeUnit = cboxAdmDetQAPresetTimeUnit.Text;
1187 
1188                 d.QABkgPresetArea = cboxAdmDetBkgPresetArea.Text;
1189                 \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbAdmDetBkgPresetAreaValue.Text))
1190                     d.QABkgPresetAreaValue = Convert.ToInt32(tbAdmDetBkgPresetAreaValue.Text);
1191                 \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbAdmDetBkgPresetAreaChanFrom.Text))
1192                     d.QABkgPresetAreaChanFrom = Convert.ToInt32(tbAdmDetBkgPresetAreaChanFrom.Text);
1193                 \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbAdmDetBkgPresetAreaChanTo.Text))
1194                     d.QABkgPresetAreaChanTo = Convert.ToInt32(tbAdmDetBkgPresetAreaChanTo.Text);
1195 
1196                 d.QABkgPresetTime = cboxAdmDetBkgPresetTime.Text;
1197                 \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbAdmDetBkgPresetTimeValue.Text))
1198                     d.QABkgPresetTimeValue = Convert.ToInt32(tbAdmDetBkgPresetTimeValue.Text);
1199                 d.QABkgPresetTimeUnit = cboxAdmDetBkgPresetTimeUnit.Text;
1200 
1201                 \textcolor{comment}{// Lagre detektor tilbake til fil}
1202                 Utils.SerializeDetectors(\hyperlink{class_scintilab_1_1_form_main_a88f16134102d9e4c5630adf5ff97f090}{Detectors});
1203 
1204                 lblStatus.Text = \textcolor{stringliteral}{"Detector "} + d.Name + \textcolor{stringliteral}{" ble lagret"};
1205             \}
1206             \textcolor{keywordflow}{catch} (Exception ex)
1207             \{
1208                 \textcolor{comment}{// Rapporter feil}
1209                 MessageBox.Show(ex.Message + \textcolor{stringliteral}{" Sjekk at desimaler har riktig format"});
1210             \}
1211         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a953db9b2ca7c1a92c327871b4a448934}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Adm\+Genie\+Folder\+\_\+\+Click@{btn\+Adm\+Genie\+Folder\+\_\+\+Click}}
\index{btn\+Adm\+Genie\+Folder\+\_\+\+Click@{btn\+Adm\+Genie\+Folder\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Adm\+Genie\+Folder\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Adm\+Genie\+Folder\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a953db9b2ca7c1a92c327871b4a448934}
Hendelse for valg av Genie2k katalog under administrasjonssidene 

Definisjon på linje 1884 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1885         \{
1886             \textcolor{keywordtype}{string} genieFolder = \hyperlink{class_scintilab_1_1_form_main_af1dbdd5d9d15c9a665a249394091b4f1}{getFolder}(\textcolor{stringliteral}{"Velg Genie katalog"});
1887             \textcolor{keywordflow}{if}(!String.IsNullOrEmpty(genieFolder))
1888                 tbAdmGenieFolder.Text = genieFolder;
1889         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a52f26a9255f72e013f3b2067905838ca}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Adm\+Geom\+Save\+\_\+\+Click@{btn\+Adm\+Geom\+Save\+\_\+\+Click}}
\index{btn\+Adm\+Geom\+Save\+\_\+\+Click@{btn\+Adm\+Geom\+Save\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Adm\+Geom\+Save\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Adm\+Geom\+Save\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a52f26a9255f72e013f3b2067905838ca}
Hendelse for lagring av beger på administrasjonssidene 

Definisjon på linje 2488 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2489         \{
2490             \textcolor{keywordflow}{if} (lbAdmGeomList.SelectedItems.Count == 0)
2491                 \textcolor{keywordflow}{return};
2492 
2493             \textcolor{keywordtype}{string} geom = lbAdmGeomList.SelectedItems[0] as String;
2494             Beaker b = \hyperlink{class_scintilab_1_1_form_main_a28d6ae4e27996e005e989b7256a45460}{getBeakerByName}(geom);
2495             b.Manufacturer = tbAdmGeomManufacturer.Text;
2496             b.InUse = cbAdmGeomInUse.Checked;
2497             Utils.SerializeBeakers(\hyperlink{class_scintilab_1_1_form_main_aaff2cbfd906f576997bce08ece74dae8}{Beakers});
2498             lblStatus.Text = \textcolor{stringliteral}{"Geometri "} + geom + \textcolor{stringliteral}{" ble lagret"};
2499 
2500             cboxAdmQABeaker.Items.Clear();
2501             \hyperlink{class_scintilab_1_1_form_main_aaff2cbfd906f576997bce08ece74dae8}{Beakers} = Utils.DeserializeBeakers();
2502             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Beakers.Count(); i++)
2503             \{
2504                 \textcolor{comment}{//if (Beakers[i].InUse)}
2505                     cboxAdmQABeaker.Items.Add(Beakers[i].Name);
2506             \}
2507         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a91cb583dc09f198b098c9d99647053e1}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Adm\+Geo\+New\+\_\+\+Click@{btn\+Adm\+Geo\+New\+\_\+\+Click}}
\index{btn\+Adm\+Geo\+New\+\_\+\+Click@{btn\+Adm\+Geo\+New\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Adm\+Geo\+New\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Adm\+Geo\+New\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a91cb583dc09f198b098c9d99647053e1}
Hendelse for å opprette nytt beger under administrasjonssidene 

Definisjon på linje 2743 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2744         \{
2745             FormInputName form = \textcolor{keyword}{new} FormInputName(\textcolor{stringliteral}{"Velg et navn for geometri"});
2746             \textcolor{keywordflow}{if} (form.ShowDialog() == System.Windows.Forms.DialogResult.OK)
2747             \{
2748                 \textcolor{keywordflow}{if} (!Utils.ValidName(form.SelectedName))
2749                 \{
2750                     MessageBox.Show(\textcolor{stringliteral}{"Uglyldig tegn i navnet. Bruk kun tall, bokstaver og bindestrek"});
2751                     \textcolor{keywordflow}{return};
2752                 \}
2753                 Beaker newBeaker = \textcolor{keyword}{new} Beaker();
2754                 newBeaker.Name = form.SelectedName;
2755                 newBeaker.InUse = \textcolor{keyword}{false};
2756                 Beakers.Add(newBeaker);
2757 
2758                 lbAdmGeomList.Items.Clear();
2759                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Beakers.Count(); i++)
2760                     lbAdmGeomList.Items.Add(\hyperlink{class_scintilab_1_1_form_main_aaff2cbfd906f576997bce08ece74dae8}{Beakers}[i].Name);
2761 
2762                 MessageBox.Show(\textcolor{stringliteral}{"Husk å konfigurere geometri "} + newBeaker.Name);
2763             \}
2764         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ad9f04197f41acec2571a81ca2966069f}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Adm\+L\+I\+M\+S\+Export\+\_\+\+Click@{btn\+Adm\+L\+I\+M\+S\+Export\+\_\+\+Click}}
\index{btn\+Adm\+L\+I\+M\+S\+Export\+\_\+\+Click@{btn\+Adm\+L\+I\+M\+S\+Export\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Adm\+L\+I\+M\+S\+Export\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Adm\+L\+I\+M\+S\+Export\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ad9f04197f41acec2571a81ca2966069f}
Hendelse for valg av L\+I\+M\+S eksport katalog under administrasjonssidene 

Definisjon på linje 1960 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1961         \{
1962             \textcolor{keywordtype}{string} LIMSExportFolder = \hyperlink{class_scintilab_1_1_form_main_af1dbdd5d9d15c9a665a249394091b4f1}{getFolder}(\textcolor{stringliteral}{"Velg LIMS eksport katalog"});
1963             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(LIMSExportFolder))
1964                 tbAdmLIMSExport.Text = LIMSExportFolder;
1965         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ab14307d4fa2fc950a86baf6b0a56514c}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Adm\+L\+I\+M\+S\+Import\+\_\+\+Click@{btn\+Adm\+L\+I\+M\+S\+Import\+\_\+\+Click}}
\index{btn\+Adm\+L\+I\+M\+S\+Import\+\_\+\+Click@{btn\+Adm\+L\+I\+M\+S\+Import\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Adm\+L\+I\+M\+S\+Import\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Adm\+L\+I\+M\+S\+Import\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ab14307d4fa2fc950a86baf6b0a56514c}
Hendelse for valg av L\+I\+M\+S import katalog under administrasjonssidene 

Definisjon på linje 1950 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1951         \{
1952             \textcolor{keywordtype}{string} LIMSImportFolder = \hyperlink{class_scintilab_1_1_form_main_af1dbdd5d9d15c9a665a249394091b4f1}{getFolder}(\textcolor{stringliteral}{"Velg LIMS import katalog"});
1953             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(LIMSImportFolder))
1954                 tbAdmLIMSImport.Text = LIMSImportFolder;
1955         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a9e03fe4c4af959f108ded057804996f6}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Adm\+Q\+A\+New\+\_\+\+Click@{btn\+Adm\+Q\+A\+New\+\_\+\+Click}}
\index{btn\+Adm\+Q\+A\+New\+\_\+\+Click@{btn\+Adm\+Q\+A\+New\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Adm\+Q\+A\+New\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Adm\+Q\+A\+New\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a9e03fe4c4af959f108ded057804996f6}
Hendelse for oppretting av nytt Q\+A-\/beger under administrasjonssidene 

Definisjon på linje 2051 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2052         \{
2053             \textcolor{comment}{// Vis vindu for nytt QA-beger}
2054             FormInputName form = \textcolor{keyword}{new} FormInputName(\textcolor{stringliteral}{"Velg et navn"});
2055             \textcolor{keywordflow}{if} (form.ShowDialog() == System.Windows.Forms.DialogResult.OK)
2056             \{
2057                 \textcolor{comment}{// Sjekk at valgt navn er gyldig}
2058                 \textcolor{keywordflow}{if}(!Utils.ValidName(form.SelectedName))
2059                 \{
2060                     MessageBox.Show(\textcolor{stringliteral}{"Uglyldig tegn i navnet. Bruk kun tall, bokstaver og bindestrek"});
2061                     \textcolor{keywordflow}{return};
2062                 \}
2063 
2064                 \textcolor{comment}{// Opprett QA-beger datastruktur og legg den til i lista over QA-begere}
2065                 QABeaker newBeaker = \textcolor{keyword}{new} QABeaker();
2066                 newBeaker.Name = form.SelectedName;
2067                 newBeaker.RefDate = DateTime.Now;
2068                 newBeaker.InUse = \textcolor{keyword}{false};
2069                 QABeakers.Add(newBeaker);
2070 
2071                 \textcolor{comment}{// Oppdater grensesnitt}
2072                 lbAdmQAList.Items.Clear();
2073                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < QABeakers.Count(); i++)
2074                     lbAdmQAList.Items.Add(\hyperlink{class_scintilab_1_1_form_main_af318208d55e4a144a14abde1adc7559d}{QABeakers}[i].Name);
2075 
2076                 MessageBox.Show(\textcolor{stringliteral}{"Husk å konfigurere QA boks "} + newBeaker.Name);
2077             \}
2078         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a6b4990d68fbc5c9c543e4403f5630229}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Adm\+Q\+A\+Save\+\_\+\+Click@{btn\+Adm\+Q\+A\+Save\+\_\+\+Click}}
\index{btn\+Adm\+Q\+A\+Save\+\_\+\+Click@{btn\+Adm\+Q\+A\+Save\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Adm\+Q\+A\+Save\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Adm\+Q\+A\+Save\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a6b4990d68fbc5c9c543e4403f5630229}
Hendelse for lagring av Q\+A-\/beger på administrasjonssidene 

Definisjon på linje 2465 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2466         \{
2467             \textcolor{keywordflow}{if} (lbAdmQAList.SelectedItems.Count == 0)
2468                 \textcolor{keywordflow}{return};
2469 
2470             \textcolor{keywordtype}{string} qaGeom = lbAdmQAList.SelectedItems[0] as String;
2471             QABeaker qab = \hyperlink{class_scintilab_1_1_form_main_ae8b1f6bb6a734ec6ad54794d345ce650}{getQABeakerByName}(qaGeom);
2472             qab.InUse = cbAdmQAInUse.Checked;
2473             qab.BeakerName = cboxAdmQABeaker.Text;
2474 
2475             \textcolor{keywordtype}{string} dtstr = dtAdmQARefDate.Value.ToShortDateString() + \textcolor{stringliteral}{" "} + dtAdmQARefTime.Value.
      ToLongTimeString();
2476             qab.RefDate = DateTime.Parse(dtstr);
2477             qab.SampleType = tbAdmQASampType.Text;
2478             qab.SampleQuantity = Utils.ConvertToDouble(tbAdmQASampQuant.Text);
2479             qab.Unit = cboxAdmQASampUnit.Text;
2480             qab.Uncertainty = Utils.ConvertToDouble(tbAdmQASampUnc.Text);
2481             Utils.SerializeQABeakers(\hyperlink{class_scintilab_1_1_form_main_af318208d55e4a144a14abde1adc7559d}{QABeakers});
2482             lblStatus.Text = \textcolor{stringliteral}{"QA boks "} + qaGeom + \textcolor{stringliteral}{" ble lagret"};
2483         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ae1b0cb30ebcecd34d4ad1a59cbce6d38}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Adm\+Save\+\_\+\+Click@{btn\+Adm\+Save\+\_\+\+Click}}
\index{btn\+Adm\+Save\+\_\+\+Click@{btn\+Adm\+Save\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Adm\+Save\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Adm\+Save\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ae1b0cb30ebcecd34d4ad1a59cbce6d38}
Hendelse for lagring av generelle innstillinger under administrasjonssidene 

Definisjon på linje 1894 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1895         \{
1896             \textcolor{comment}{// Sjekk at påkrevde felter er fyllt inn}
1897             \textcolor{keywordflow}{if} (String.IsNullOrEmpty(tbAdmGenieFolder.Text) 
1898                 || String.IsNullOrEmpty(tbAdmSigma.Text)
1899                 || String.IsNullOrEmpty(tbAdmTemplate.Text)
1900                 || String.IsNullOrEmpty(tbAdmLIMSImport.Text)
1901                 || String.IsNullOrEmpty(tbAdmLIMSExport.Text)
1902                 || String.IsNullOrEmpty(cboxAdmSection.Text)
1903                 || String.IsNullOrEmpty(cboxAdmPlotScaleY.Text)
1904                 || String.IsNullOrEmpty(cboxAdmPlotScaleX.Text))
1905             \{
1906                 MessageBox.Show(\textcolor{stringliteral}{"En eller fler påkrevde felter mangler under Generelle innstillinger"});
1907                 \textcolor{keywordflow}{return};
1908             \}
1909 
1910             \textcolor{comment}{// Sjekk at Genie2k katalogbanen er gyldig}
1911             \textcolor{keywordflow}{if} (!Utils.ValidateGeniePath(\hyperlink{class_scintilab_1_1_form_main_ad41498eb151a72c77ad94c7285d0f506}{SysPar}, tbAdmGenieFolder.Text))
1912                 \textcolor{keywordflow}{return};
1913 
1914             tbAdmGenieFolder.Text = SysPar.GenieDirectory;
1915 
1916             \textcolor{keywordtype}{int} sig = Convert.ToInt32(tbAdmSigma.Text);
1917             \textcolor{keywordflow}{if} (sig < 1 || sig > 3)
1918             \{
1919                 MessageBox.Show(\textcolor{stringliteral}{"Sigma kan ikke være under 1 eller over 3"});
1920                 \textcolor{keywordflow}{return};
1921             \}
1922 
1923             \textcolor{comment}{// Fyll syspar datastrukturen med verdier fra feltene}
1924             SysPar.GenieDirectory = tbAdmGenieFolder.Text;
1925             SysPar.ErrorMultiplier = Convert.ToInt32(tbAdmSigma.Text);
1926             SysPar.ReportTemplate = tbAdmTemplate.Text;
1927             SysPar.ReportSection = cboxAdmSection.Text;
1928             SysPar.ReportScaleY = cboxAdmPlotScaleY.Text;
1929             SysPar.ReportScaleX = cboxAdmPlotScaleX.Text;
1930             SysPar.LimsImport = tbAdmLIMSImport.Text;
1931             SysPar.LimsExport = tbAdmLIMSExport.Text;
1932 
1933             \textcolor{comment}{// Lagre syspar datastrukturen tilbake til fil}
1934             Utils.SerializeSysPar(\hyperlink{class_scintilab_1_1_form_main_ad41498eb151a72c77ad94c7285d0f506}{SysPar});
1935         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a6e20ae5c9d1546f174e52e347657e6db}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Adm\+Template\+\_\+\+Click@{btn\+Adm\+Template\+\_\+\+Click}}
\index{btn\+Adm\+Template\+\_\+\+Click@{btn\+Adm\+Template\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Adm\+Template\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Adm\+Template\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a6e20ae5c9d1546f174e52e347657e6db}
Hendelse for valg av template fil under administrasjonssidene 

Definisjon på linje 1940 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1941         \{
1942             \textcolor{keywordtype}{string} fname = \hyperlink{class_scintilab_1_1_form_main_aaac85ee2e1b1f107ed9f653435c6b025}{getFile}(\textcolor{stringliteral}{"Velg template fil"}, Config.TemplateDir, \textcolor{stringliteral}{"Template fil
       (*.TPL)|*.TPL"});
1943             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(fname))
1944                 tbAdmTemplate.Text = fname;
1945         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a909462e7826215219d895954dec393c3}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Archive\+Create\+Bkg\+\_\+\+Click@{btn\+Archive\+Create\+Bkg\+\_\+\+Click}}
\index{btn\+Archive\+Create\+Bkg\+\_\+\+Click@{btn\+Archive\+Create\+Bkg\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Archive\+Create\+Bkg\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Archive\+Create\+Bkg\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a909462e7826215219d895954dec393c3}
Hendelse for å generere bakgrunnsfil basert på resultat i arkivet 

Definisjon på linje 2705 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2706         \{
2707             \textcolor{keywordflow}{if} (gridArchive.SelectedCells.Count == 0)
2708                 \textcolor{keywordflow}{return};
2709             
2710             \textcolor{keywordtype}{string} operation = gridArchive.SelectedRows[0].Cells[\textcolor{stringliteral}{"Operation"}].Value as String;
2711             \textcolor{keywordflow}{if} (operation != \textcolor{stringliteral}{"Bkg"})
2712             \{
2713                 MessageBox.Show(\textcolor{stringliteral}{"Du må velge en bakgrunnsfil!!"});
2714                 \textcolor{keywordflow}{return};
2715             \}
2716             
2717             \textcolor{keywordtype}{string} baseName = gridArchive.SelectedRows[0].Cells[\textcolor{stringliteral}{"Base"}].Value.ToString();
2718             \textcolor{keywordtype}{string} parFile = baseName + \textcolor{stringliteral}{".PAR"};
2719             JobParams jp = Utils.DeserializeJobParams(parFile);
2720 
2721             \textcolor{keywordtype}{string} bkgFile = baseName + \textcolor{stringliteral}{".CNF"};
2722             \textcolor{keywordtype}{string} newBkgFile = Config.BkgDir + jp.DetectorName + \textcolor{stringliteral}{"-"} + String.Format(\textcolor{stringliteral}{"\{0:00\}"}, 
      jp.SpectrumDate.Day) + String.Format(\textcolor{stringliteral}{"\{0:00\}"}, jp.SpectrumDate.Month) + jp.SpectrumDate.Year.ToString() + \textcolor{stringliteral}{".CNF"};
2723 
2724             \textcolor{keywordflow}{if}(File.Exists(newBkgFile))
2725                 \textcolor{keywordflow}{if} (MessageBox.Show(\textcolor{stringliteral}{"Filen finnes fra før, vil du overskrive?"}, \textcolor{stringliteral}{"Spørsmål"}, 
      MessageBoxButtons.YesNo) == System.Windows.Forms.DialogResult.No)
2726                     \textcolor{keywordflow}{return};
2727 
2728             File.Copy(bkgFile, newBkgFile, \textcolor{keyword}{true});
2729             lblStatus.Text = \textcolor{stringliteral}{"Ny bakgrunnsfil opprettet som "} + newBkgFile;
2730 
2731             DialogResult dialogResult = MessageBox.Show(\textcolor{stringliteral}{"Skal den valgte filen settes som standard Bkg-fil
       for "} + jp.DetectorName, \textcolor{stringliteral}{"Sett som standard Bkg-fil"}, MessageBoxButtons.YesNo);
2732             \textcolor{keywordflow}{if} (dialogResult == DialogResult.Yes)
2733             \{   
2734                 Detector d = \hyperlink{class_scintilab_1_1_form_main_aff4482e0919480013a53fe56cfb374ba}{getDetectorByName}(jp.DetectorName);
2735                 d.BackgroundSubtract = newBkgFile;
2736                 Utils.SerializeDetectors(\hyperlink{class_scintilab_1_1_form_main_a88f16134102d9e4c5630adf5ff97f090}{Detectors});
2737             \}  
2738         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a73fdda90a8617b61e3de31be6b659564}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Archive\+Print\+\_\+\+Click@{btn\+Archive\+Print\+\_\+\+Click}}
\index{btn\+Archive\+Print\+\_\+\+Click@{btn\+Archive\+Print\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Archive\+Print\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Archive\+Print\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a73fdda90a8617b61e3de31be6b659564}
Hendelse for å skrive ut et resultat under arkivet 

Definisjon på linje 2347 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2348         \{
2349             \textcolor{comment}{// Avbryt hvis ingen rad er valgt}
2350             \textcolor{keywordflow}{if} (gridArchive.SelectedRows.Count == 0)
2351                 \textcolor{keywordflow}{return};
2352 
2353             \textcolor{comment}{// Hent verdier fra grensesnittet}
2354             \textcolor{keywordtype}{string} baseName = gridArchive.SelectedRows[0].Cells[\textcolor{stringliteral}{"Base"}].Value as String;
2355             \textcolor{keywordtype}{string} rptFile = baseName + \textcolor{stringliteral}{".RPT"};
2356             \textcolor{keywordtype}{string} cnfFile = baseName + \textcolor{stringliteral}{".CNF"};
2357 
2358             \textcolor{comment}{// Opprett og initisier objekter for printing}
2359             PrintDialog pd = \textcolor{keyword}{new} PrintDialog();
2360             pd.PrinterSettings = \textcolor{keyword}{new} PrinterSettings();
2361             \hyperlink{class_multipad_print_document}{MultipadPrintDocument} printDoc = \textcolor{keyword}{new} 
      \hyperlink{class_multipad_print_document}{MultipadPrintDocument}();
2362 
2363             printDoc.PrinterSettings = pd.PrinterSettings;
2364             printDoc.Font = \textcolor{keyword}{new} Font(\textcolor{stringliteral}{"Courier New"}, 9, FontStyle.Regular);
2365             printDoc.Text = File.ReadAllText(rptFile, Encoding.UTF8);
2366             \textcolor{comment}{// Print rapporten}
2367             printDoc.Print();
2368 
2369             \textcolor{comment}{// Print plott}
2370             \textcolor{keywordtype}{string} cout;
2371             Utils.RunCommand(\textcolor{stringliteral}{"DATAPLOT"}, cnfFile + \textcolor{stringliteral}{" /SCALE="} + SysPar.ReportScaleY + \textcolor{stringliteral}{" /XSCALE="} + 
      SysPar.ReportScaleX + \textcolor{stringliteral}{" /ENHPLOT"}, out cout, \textcolor{keyword}{false});
2372         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_af337ca12fa73a28ae1c34b7169777d69}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Archive\+Reanal\+\_\+\+Click@{btn\+Archive\+Reanal\+\_\+\+Click}}
\index{btn\+Archive\+Reanal\+\_\+\+Click@{btn\+Archive\+Reanal\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Archive\+Reanal\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Archive\+Reanal\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_af337ca12fa73a28ae1c34b7169777d69}
Hendelse for reanalysering under arkivet 

Definisjon på linje 2083 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2084         \{
2085             \textcolor{keywordflow}{try}
2086             \{
2087                 \textcolor{comment}{// Avbryt hvis ingen analyse er valgt}
2088                 \textcolor{keywordflow}{if} (gridArchive.SelectedRows.Count == 0)
2089                     \textcolor{keywordflow}{return};
2090 
2091                 \textcolor{comment}{// Hent navn fra grensesnittet}
2092                 \textcolor{keywordtype}{string} specRef = gridArchive.SelectedRows[0].Cells[\textcolor{stringliteral}{"SpecRef"}].Value as String;
2093                 \textcolor{keywordtype}{string} sampId = gridArchive.SelectedRows[0].Cells[\textcolor{stringliteral}{"SampleID"}].Value as String;
2094                 \textcolor{keywordtype}{string} operation = gridArchive.SelectedRows[0].Cells[\textcolor{stringliteral}{"Operation"}].Value as String;
2095                 \textcolor{keywordtype}{string} collector = gridArchive.SelectedRows[0].Cells[\textcolor{stringliteral}{"Collector"}].Value as String;
2096 
2097                 \textcolor{keywordflow}{if} (operation != \textcolor{stringliteral}{"Prøve"})
2098                 \{
2099                     MessageBox.Show(\textcolor{stringliteral}{"Kan ikke reanalysere en "} + operation + \textcolor{stringliteral}{" måling"});
2100                     \textcolor{keywordflow}{return};
2101                 \}
2102                 operation = \textcolor{stringliteral}{"Sample"};
2103 
2104                 \textcolor{comment}{// Gjenskap .PAR filnavn}
2105                 \textcolor{keywordtype}{string} det = specRef.Substring(0, 2);
2106                 \textcolor{keywordtype}{string} year = \textcolor{stringliteral}{"20"} + specRef.Substring(2, 2);
2107                 \textcolor{keywordtype}{string} parFile = Config.ArchiveDir + det + Path.DirectorySeparatorChar + year + 
      Path.DirectorySeparatorChar + specRef + \textcolor{stringliteral}{"-"} + sampId + \textcolor{stringliteral}{"-"} + operation + \textcolor{stringliteral}{"-"} + collector + \textcolor{stringliteral}{".PAR"};
2108                 \textcolor{comment}{// Sjekk at .PAR fil finnes}
2109                 \textcolor{keywordflow}{if} (!File.Exists(parFile))
2110                 \{
2111                     MessageBox.Show(\textcolor{stringliteral}{"Finner ikke filen "} + parFile);
2112                     \textcolor{keywordflow}{return};
2113                 \}
2114 
2115                 \textcolor{comment}{// Fyll inn felter under prøve info}
2116                 \hyperlink{class_scintilab_1_1_form_main_a389e9c6697c567d84058d178053a837c}{isReanal} = \textcolor{keyword}{true};
2117                 SelInfo.Init();
2118                 SelInfo.AnalType = \textcolor{stringliteral}{"Sample"};
2119                 
2120                 \hyperlink{class_scintilab_1_1_form_main_ad85e690e8d5fa96cbf9c0a7632bd7140}{SetSampleFieldsStatus}(\textcolor{keyword}{true});
2121                 cboxSampAdvPreArea.Enabled = \textcolor{keyword}{false};
2122                 tbSampAdvPreAreaValue.Enabled = \textcolor{keyword}{false};
2123                 tbSampAdvPreAreaChanFrom.Enabled = \textcolor{keyword}{false};
2124                 tbSampAdvPreAreaChanTo.Enabled = \textcolor{keyword}{false};
2125                 cboxSampAdvPreTime.Enabled = \textcolor{keyword}{false};
2126                 tbSampAdvPreTimeValue.Enabled = \textcolor{keyword}{false};
2127                 cboxSampAdvPreTimeUnit.Enabled = \textcolor{keyword}{false};
2128 
2129                 \hyperlink{class_scintilab_1_1_form_main_a01c213a0d1456773b92d4d431a9d1cdb}{clearSampParams}();
2130 
2131                 \hyperlink{class_scintilab_1_1_form_main_ace8f1fb51afa44804deec60a6dc42bcb}{populateSampGeom}(det);
2132 
2133                 \textcolor{comment}{// Fyll inn felter fra datastruktur med jobb parametere}
2134                 JobParams jp = Utils.DeserializeJobParams(parFile);
2135 
2136                 lblToolsDetector.Text = det;
2137                 tbSampOrder.Text = jp.OrderName;
2138                 tbSampDesc.Text = jp.Description;
2139                 tbSampID.Text = jp.SampleID;
2140                 tbSampType.Text = jp.SampleType;
2141                 cboxSampGeom.Text = jp.Geometry; \textcolor{comment}{// FIXME: Beaker kan være utilgjengelig}
2142                 tbSampQuant.Text = jp.SampleQuantity.ToString();
2143                 cboxSampQuantUnit.Text = jp.SampleQuantityUnit;
2144                 tbSampQuantUnc.Text = jp.SampleQuantityError.ToString();
2145                 tbSampRef.Text = jp.SpecRef;
2146                 tbSampCollector.Text = jp.CollectorName;
2147                 tbSampComment.Text = jp.Comment;
2148                 cboxSampAdvCal.Text = Path.GetFileName(jp.CalibrationFile);
2149                 tbSampAdvRandErr.Text = jp.RandomError.ToString();
2150                 tbSampAdvSystErr.Text = jp.SystematicError.ToString();
2151                 cboxSampAdvPreArea.Text = jp.PresetCount;
2152                 tbSampAdvPreAreaValue.Text = jp.PresetCountValue.ToString();
2153                 tbSampAdvPreAreaChanFrom.Text = jp.PresetCountChanFrom.ToString();
2154                 tbSampAdvPreAreaChanTo.Text = jp.PresetCountChanTo.ToString();
2155                 cboxSampAdvPreTime.Text = jp.PresetTime;
2156                 tbSampAdvPreTimeValue.Text = jp.PresetTimeValue.ToString();
2157                 cboxSampAdvPreTimeUnit.Text = jp.PresetTimeUnit;
2158 
2159                 tbSampAnalTolerance.Text = jp.Tolerance.ToString();
2160                 tbSampAnalSigThresh.Text = jp.SignificanceThreshold.ToString();
2161                 tbSampAnalContinuum.Text = jp.Continuum.ToString();
2162                 cboxSampAnalContinuumFunc.Text = jp.ContinuumFunction;
2163                 cbSampAnalCritLev.Checked = jp.CriticalLevel;
2164                 cbSampAnalFitSinglets.Checked = jp.FitSinglets;
2165                 cbSampAnalDispRois.Checked = jp.DisplayROIs;
2166                 cbSampAnalUseFixed.Checked = jp.UseFixedTailParameter;
2167                 cbSampAnalRejectZero.Checked = jp.RejectZeroAreaPeaks;
2168                 cbSampAnalFixedFWHM.Checked = jp.UseFixedFWHM;
2169                 cboxSampAnalEffCal.Text = jp.EfficiencyCalibrationType;
2170                 tbSampAnalMaxFWHMBetween.Text = jp.MaxFWHMSBetweenPeaks.ToString();
2171                 tbSampAnalMaxFWHMLeft.Text = jp.MaxFWHMSForRightLimit.ToString();
2172                 tbSampAnalMaxFWHMRight.Text = jp.MaxFWHMSForRightLimit.ToString();
2173                 tbSampAnalBkgSub.Text = jp.BackgroundSubtractFile;
2174                 tbSampAnalNIDLib.Text = jp.NIDLibraryFile;
2175                 tbSampAnalNIDConfThresh.Text = jp.NIDConfidenceThreshold.ToString();
2176                 tbSampAnalMDAConfFac.Text = jp.MDAConfidenceFactor.ToString();
2177                 cbSampAnalInhibitATD.Checked = jp.InhibitATDCorrection;
2178                 cbSampAnalUseStoredLib.Checked = jp.UseStoredLibrary;
2179                 cbSampAnalPerformMDA.Checked = jp.PerformMDATest;
2180 
2181                 \textcolor{keywordflow}{if} (jp.BuildupType == \textcolor{stringliteral}{"NONE"})
2182                     tabsBuildup.SelectedTab = tabBuildupNone;
2183                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (jp.BuildupType == \textcolor{stringliteral}{"IRRAD"})
2184                     tabsBuildup.SelectedTab = tabBuildupIrrad;
2185                 \textcolor{keywordflow}{else} tabsBuildup.SelectedTab = tabBuildupDeposit;
2186                 dtSampBuildNoneDate.Value = jp.BuildupStartDate;
2187                 dtSampBuildNoneTime.Value = jp.BuildupStartDate;
2188                 dtSampBuildIrradDateFrom.Value = jp.BuildupStartDate;
2189                 dtSampBuildIrradTimeFrom.Value = jp.BuildupStartDate;
2190                 dtSampBuildIrradDateTo.Value = jp.BuildupEndDate;
2191                 dtSampBuildIrradTimeTo.Value = jp.BuildupEndDate;
2192                 dtSampBuildDepDateFrom.Value = jp.BuildupStartDate;
2193                 dtSampBuildDepTimeFrom.Value = jp.BuildupStartDate;
2194                 dtSampBuildDepDateTo.Value = jp.BuildupEndDate;
2195                 dtSampBuildDepTimeTo.Value = jp.BuildupEndDate;
2196 
2197                 cboxSampAdvPreArea.Enabled = \textcolor{keyword}{false};
2198                 tbSampAdvPreAreaValue.Enabled = \textcolor{keyword}{false};
2199                 tbSampAdvPreAreaChanFrom.Enabled = \textcolor{keyword}{false};
2200                 tbSampAdvPreAreaChanTo.Enabled = \textcolor{keyword}{false};
2201                 cboxSampAdvPreTime.Enabled = \textcolor{keyword}{false};
2202                 tbSampAdvPreTimeValue.Enabled = \textcolor{keyword}{false};
2203                 cboxSampAdvPreTimeUnit.Enabled = \textcolor{keyword}{false};
2204                 
2205                 tabs.SelectedTab = tabSample;
2206                 tabsSamples.SelectedTab = tabSamplesParams;
2207             \}
2208             \textcolor{keywordflow}{catch} (Exception ex)
2209             \{
2210                 MessageBox.Show(ex.Message);
2211             \}
2212         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a732f051d849b79cd620a0f699d3dcaeb}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Archive\+Show\+Params\+\_\+\+Click@{btn\+Archive\+Show\+Params\+\_\+\+Click}}
\index{btn\+Archive\+Show\+Params\+\_\+\+Click@{btn\+Archive\+Show\+Params\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Archive\+Show\+Params\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Archive\+Show\+Params\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a732f051d849b79cd620a0f699d3dcaeb}
Hendelse for å vise parametere for et resultat under arkivet 

Definisjon på linje 2330 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2331         \{
2332             \textcolor{comment}{// Avbryt hvis ingen rad er valgt}
2333             \textcolor{keywordflow}{if} (gridArchive.SelectedRows.Count == 0)
2334                 \textcolor{keywordflow}{return};
2335 
2336             \textcolor{comment}{// Hent verdier fra grensesnittet}
2337             \textcolor{keywordtype}{string} baseName = gridArchive.SelectedRows[0].Cells[\textcolor{stringliteral}{"Base"}].Value as String;
2338             \textcolor{keywordtype}{string} parFile = baseName + \textcolor{stringliteral}{".PAR"};
2339             \textcolor{comment}{// Vis vindu med parametere}
2340             FormQuickView form = \textcolor{keyword}{new} FormQuickView(File.ReadAllText(parFile));
2341             form.ShowDialog();
2342         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a5a12d967594f000e71f7f8e79eded8d4}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Archive\+Show\+Report\+\_\+\+Click@{btn\+Archive\+Show\+Report\+\_\+\+Click}}
\index{btn\+Archive\+Show\+Report\+\_\+\+Click@{btn\+Archive\+Show\+Report\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Archive\+Show\+Report\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Archive\+Show\+Report\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a5a12d967594f000e71f7f8e79eded8d4}
Hendelse for å vise et resultat under arkivet 

Definisjon på linje 2313 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2314         \{
2315             \textcolor{comment}{// Avbryt hvis ingen rad er valgt}
2316             \textcolor{keywordflow}{if} (gridArchive.SelectedRows.Count == 0)
2317                 \textcolor{keywordflow}{return};
2318 
2319             \textcolor{comment}{// Hent verdier fra grensesnittet}
2320             \textcolor{keywordtype}{string} baseName = gridArchive.SelectedRows[0].Cells[\textcolor{stringliteral}{"Base"}].Value as String;
2321             \textcolor{keywordtype}{string} rptFile = baseName + \textcolor{stringliteral}{".RPT"};
2322             \textcolor{comment}{// Vis vindu med rapporten}
2323             FormQuickView form = \textcolor{keyword}{new} FormQuickView(File.ReadAllText(rptFile, Encoding.GetEncoding(1252)));
2324             form.ShowDialog();
2325         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a477fe2e53536fb7a63e77656fb196cd4}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Archive\+Show\+Spectrum\+\_\+\+Click@{btn\+Archive\+Show\+Spectrum\+\_\+\+Click}}
\index{btn\+Archive\+Show\+Spectrum\+\_\+\+Click@{btn\+Archive\+Show\+Spectrum\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Archive\+Show\+Spectrum\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Archive\+Show\+Spectrum\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a477fe2e53536fb7a63e77656fb196cd4}
Hendelse for å vise et spekter fra arkivet 

Definisjon på linje 2769 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2770         \{
2771             \textcolor{keywordflow}{if} (gridArchive.SelectedCells.Count == 0)
2772                 \textcolor{keywordflow}{return};
2773 
2774             \textcolor{keywordtype}{string} baseName = gridArchive.SelectedRows[0].Cells[\textcolor{stringliteral}{"Base"}].Value as String;
2775             \textcolor{keywordtype}{string} cnfFile = baseName + \textcolor{stringliteral}{".CNF"};
2776             \textcolor{keywordflow}{if} (!File.Exists(cnfFile))
2777             \{
2778                 MessageBox.Show(\textcolor{stringliteral}{"Filen "} + cnfFile + \textcolor{stringliteral}{" ble ikke funnet"});
2779                 \textcolor{keywordflow}{return};
2780             \}
2781 
2782             lblStatus.Text = \textcolor{stringliteral}{"Laster nytt spekter, vent litt..."};
2783             Application.DoEvents();
2784             \textcolor{keywordtype}{string} cout;
2785             Utils.RunCommand(\textcolor{stringliteral}{"endview.exe"}, \textcolor{stringliteral}{""}, out cout, \textcolor{keyword}{true});
2786             Process.Start(\textcolor{stringliteral}{"putview.exe"}, cnfFile);
2787             lblStatus.Text = \textcolor{stringliteral}{""};
2788         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_aca32a54e95297f770c9022441cb74a90}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Back\+\_\+\+Click@{btn\+Back\+\_\+\+Click}}
\index{btn\+Back\+\_\+\+Click@{btn\+Back\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Back\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Back\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_aca32a54e95297f770c9022441cb74a90}
Hendelse for å gå tilbake til hovedmenyen 

Definisjon på linje 688 i filen Form\+Main.\+cs.


\begin{DoxyCode}
689         \{
690             \textcolor{comment}{// Skift til meny fanen}
691             tabs.SelectedTab = tabMenu;
692         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a6306e9b64d524deb6b9f5fb0a6259647}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Job\+Open\+Spectrum\+\_\+\+Click@{btn\+Job\+Open\+Spectrum\+\_\+\+Click}}
\index{btn\+Job\+Open\+Spectrum\+\_\+\+Click@{btn\+Job\+Open\+Spectrum\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Job\+Open\+Spectrum\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Job\+Open\+Spectrum\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a6306e9b64d524deb6b9f5fb0a6259647}
Hendelse som viser et spekter i Genie2k fra jobb-\/oversikten 

Definisjon på linje 1845 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1846         \{
1847             \textcolor{comment}{// Avbryt hvis ingen jobb er valgt}
1848             \textcolor{keywordflow}{if} (gridJobs.SelectedRows.Count == 0)
1849                 \textcolor{keywordflow}{return};
1850 
1851             \textcolor{comment}{// Hent detektornavn fra grensesnitt}
1852             \textcolor{keywordtype}{string} det = gridJobs.SelectedRows[0].Cells[\textcolor{stringliteral}{"Detector"}].Value as String;
1853 
1854             \textcolor{comment}{// Kjør "endview" i tilfelle et view er åpent allerede}
1855             \textcolor{keywordtype}{string} cout;
1856             Utils.RunCommand(\textcolor{stringliteral}{"endview.exe"}, \textcolor{stringliteral}{""}, out cout, \textcolor{keyword}{true});
1857 
1858             \textcolor{comment}{// Kjør putview for valgt detektor}
1859             Process.Start(\textcolor{stringliteral}{"putview.exe"}, \textcolor{stringliteral}{"det:"} + det);
1860         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a0a801bd487880ec77bdd03a36926a660}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Job\+Show\+\_\+\+Click@{btn\+Job\+Show\+\_\+\+Click}}
\index{btn\+Job\+Show\+\_\+\+Click@{btn\+Job\+Show\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Job\+Show\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Job\+Show\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a0a801bd487880ec77bdd03a36926a660}
Hendelse for å vise resultat av en jobb som er ferdig men ikke godkjent 

Definisjon på linje 2266 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2267         \{
2268             \textcolor{comment}{// Avbryt hvis ingen rad er merket}
2269             \textcolor{keywordflow}{if} (gridJobs.SelectedRows.Count == 0)
2270                 \textcolor{keywordflow}{return};
2271 
2272             \textcolor{comment}{// Hent verdier fra grensesnitt}
2273             \textcolor{keywordtype}{string} status = gridJobs.SelectedRows[0].Cells[\textcolor{stringliteral}{"JobStatus"}].Value as String;
2274             \textcolor{keywordflow}{if} (status.ToUpper() != \textcolor{stringliteral}{"FERDIG"})
2275             \{
2276                 lblStatus.Text = \textcolor{stringliteral}{"Jobben er ikke ferdig"};
2277                 \textcolor{keywordflow}{return};
2278             \}
2279             \textcolor{keywordtype}{string} det = gridJobs.SelectedRows[0].Cells[\textcolor{stringliteral}{"Detector"}].Value as String;
2280             Detector d = \hyperlink{class_scintilab_1_1_form_main_aff4482e0919480013a53fe56cfb374ba}{getDetectorByName}(det);
2281 
2282             \textcolor{comment}{// Vis vindu for godkjenning av jobb}
2283             FormJobReport form = \textcolor{keyword}{new} FormJobReport(Config.JobDir + det, \textcolor{stringliteral}{""}, \textcolor{keyword}{false}, ref d, 
      \hyperlink{class_scintilab_1_1_form_main_ad41498eb151a72c77ad94c7285d0f506}{SysPar});
2284             form.ShowDialog();
2285             \textcolor{keywordflow}{if} (form.UpdateDetectors)
2286                 Utils.SerializeDetectors(\hyperlink{class_scintilab_1_1_form_main_a88f16134102d9e4c5630adf5ff97f090}{Detectors});
2287         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_adaef6dd7659666d44b846de21d5b14df}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Jobs\+Show\+Output\+\_\+\+Click@{btn\+Jobs\+Show\+Output\+\_\+\+Click}}
\index{btn\+Jobs\+Show\+Output\+\_\+\+Click@{btn\+Jobs\+Show\+Output\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Jobs\+Show\+Output\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Jobs\+Show\+Output\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_adaef6dd7659666d44b846de21d5b14df}
Hendelse som viser en \char`\"{}standard output\char`\"{} fil fra jobb-\/oversikten 

Definisjon på linje 1865 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1866         \{
1867             \textcolor{comment}{// Avbryt hvis ingen jobb er valgt}
1868             \textcolor{keywordflow}{if} (gridJobs.SelectedRows.Count == 0)
1869                 \textcolor{keywordflow}{return};
1870 
1871             \textcolor{comment}{// Hent detektornavn fra grensesnitt}
1872             \textcolor{keywordtype}{string} det = gridJobs.SelectedRows[0].Cells[\textcolor{stringliteral}{"Detector"}].Value as String;
1873             \textcolor{comment}{// Vis .OUT filen i notepad hvis filen finnes}
1874             \textcolor{keywordtype}{string} outFile = Config.JobDir + det + \textcolor{stringliteral}{".OUT"};
1875             \textcolor{keywordflow}{if} (File.Exists(outFile))
1876                 Process.Start(\textcolor{stringliteral}{"notepad.exe"}, outFile);
1877             \textcolor{keywordflow}{else}
1878                 MessageBox.Show(\textcolor{stringliteral}{"Filen "} + outFile + \textcolor{stringliteral}{" ble ikke funnet"});
1879         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a41ead05b3b898979155de24a559af523}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Menu\+Archive\+\_\+\+Click@{btn\+Menu\+Archive\+\_\+\+Click}}
\index{btn\+Menu\+Archive\+\_\+\+Click@{btn\+Menu\+Archive\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Menu\+Archive\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Menu\+Archive\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a41ead05b3b898979155de24a559af523}
Hendelse for å vise arkivet 

Definisjon på linje 657 i filen Form\+Main.\+cs.


\begin{DoxyCode}
658         \{   
659             \textcolor{comment}{// Tøm arkiv informasjon i grensesnittet}
660             tvArchive.Nodes.Clear();
661 
662             \textcolor{comment}{// Finn alle kataloger under arkivet og oppdater grensesnittet}
663             \textcolor{keywordtype}{char}[] seps = \{ Path.DirectorySeparatorChar \};            
664             \textcolor{keywordtype}{string}[] dirs = Directory.GetDirectories(\hyperlink{class_scintilab_1_1_config_a772b5a6dcac628889128d1a896b36658}{Config.ArchiveDir});            
665             \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{string} dir \textcolor{keywordflow}{in} dirs)
666             \{
667                 \textcolor{keywordtype}{string}[] pathItems = dir.Split(seps, StringSplitOptions.RemoveEmptyEntries);
668                 TreeNode tn = \textcolor{keyword}{new} TreeNode(pathItems[pathItems.Length - 1]);                
669                 tvArchive.Nodes.Add(tn);
670             \}
671 
672             \textcolor{comment}{// Skift til arkiv fanen}
673             tabs.SelectedTab = tabArchive;
674         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a9cfeb3e22a98715b97f61b779e56b260}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Menu\+Jobs\+\_\+\+Click@{btn\+Menu\+Jobs\+\_\+\+Click}}
\index{btn\+Menu\+Jobs\+\_\+\+Click@{btn\+Menu\+Jobs\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Menu\+Jobs\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Menu\+Jobs\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a9cfeb3e22a98715b97f61b779e56b260}
Hendelse for å vise oversikt over eksisterende jobber 

Definisjon på linje 648 i filen Form\+Main.\+cs.


\begin{DoxyCode}
649         \{
650             \textcolor{comment}{// Skift til jobb fanen}
651             tabs.SelectedTab = tabJobs;
652         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a73ffa9e06d5936a593bf11d78f6abbc0}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Menu\+Sample\+\_\+\+Click@{btn\+Menu\+Sample\+\_\+\+Click}}
\index{btn\+Menu\+Sample\+\_\+\+Click@{btn\+Menu\+Sample\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Menu\+Sample\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Menu\+Sample\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a73ffa9e06d5936a593bf11d78f6abbc0}
Hendelse for valg av \char`\"{}prøve\char`\"{} i hovedmenyen 

Definisjon på linje 2646 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2647         \{
2648             SelInfo.Init();
2649             SelInfo.AllDetectors = \hyperlink{class_scintilab_1_1_form_main_a88f16134102d9e4c5630adf5ff97f090}{Detectors};
2650             SelInfo.AllBeakers = \hyperlink{class_scintilab_1_1_form_main_aaff2cbfd906f576997bce08ece74dae8}{Beakers};
2651             SelInfo.AllQABeakers = \hyperlink{class_scintilab_1_1_form_main_af318208d55e4a144a14abde1adc7559d}{QABeakers};
2652             SelInfo.SelectedLIMSFile = SysPar.LimsExport;
2653             SelInfo.SysPar = \hyperlink{class_scintilab_1_1_form_main_ad41498eb151a72c77ad94c7285d0f506}{SysPar};
2654 
2655             Button b = sender as Button;
2656             \textcolor{keywordflow}{switch} (b.Name)
2657             \{
2658                 \textcolor{keywordflow}{case} \textcolor{stringliteral}{"btnMenuRegSample"}:
2659                     SelInfo.AnalType = \textcolor{stringliteral}{"Sample"};
2660                     \textcolor{keywordflow}{break};
2661 
2662                 \textcolor{keywordflow}{case} \textcolor{stringliteral}{"btnMenuBkgSample"}:
2663                     SelInfo.AnalType = \textcolor{stringliteral}{"Bkg"};
2664                     \textcolor{keywordflow}{break};
2665 
2666                 \textcolor{keywordflow}{case} \textcolor{stringliteral}{"btnMenuRefSample"}:
2667                     SelInfo.AnalType = \textcolor{stringliteral}{"Ref"};
2668                     \textcolor{keywordflow}{break};
2669 
2670                 \textcolor{keywordflow}{case} \textcolor{stringliteral}{"btnMenuBarcodeWizard"}:
2671                     SelInfo.IsWizard = \textcolor{keyword}{true};
2672                     SelInfo.AnalType = \textcolor{stringliteral}{"Sample"};
2673                     \textcolor{keywordflow}{break};
2674 
2675                 \textcolor{keywordflow}{case} \textcolor{stringliteral}{"btnMenuBarcodeWizardBkg"}:
2676                     SelInfo.IsWizard = \textcolor{keyword}{true};
2677                     SelInfo.AnalType = \textcolor{stringliteral}{"Bkg"};
2678                     \textcolor{keywordflow}{break};
2679 
2680                 \textcolor{keywordflow}{case} \textcolor{stringliteral}{"btnMenuBarcodeWizardRef"}:
2681                     SelInfo.IsWizard = \textcolor{keyword}{true};
2682                     SelInfo.AnalType = \textcolor{stringliteral}{"Ref"};
2683                     \textcolor{keywordflow}{break};
2684             \}
2685 
2686             \textcolor{keywordflow}{if} (\hyperlink{class_scintilab_1_1_form_main_a57c8340ae2caaec775ad70d8036514fb}{SelInfo}.\hyperlink{class_scintilab_1_1_selection_info_a96e2aa901380fdaf56f62adb7ed4a7c8}{IsWizard})
2687             \{
2688                 FormBarcodeSampleWizard form = \textcolor{keyword}{new} FormBarcodeSampleWizard(ref 
      \hyperlink{class_scintilab_1_1_form_main_a57c8340ae2caaec775ad70d8036514fb}{SelInfo});
2689                 form.ShowDialog();
2690                 \textcolor{keywordflow}{if} (form.DialogResult != DialogResult.OK)
2691                     \textcolor{keywordflow}{return};
2692 
2693                 \hyperlink{class_scintilab_1_1_form_main_a5aefdcf34c90024ca153c8b8f1200c01}{populateSampleView}(\hyperlink{class_scintilab_1_1_form_main_a57c8340ae2caaec775ad70d8036514fb}{SelInfo});
2694             \}
2695             \textcolor{keywordflow}{else}
2696             \{
2697                 \hyperlink{class_scintilab_1_1_form_main_a7919f1d4c3819a3c85df4107bbf82a59}{UpdateDetectorLists}();
2698                 tabs.SelectedTab = tabDetectors;
2699             \}
2700         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a267fcaa644ed5e84053883a9164adf6b}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Open\+Q\+A\+Plot\+\_\+\+Click@{btn\+Open\+Q\+A\+Plot\+\_\+\+Click}}
\index{btn\+Open\+Q\+A\+Plot\+\_\+\+Click@{btn\+Open\+Q\+A\+Plot\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Open\+Q\+A\+Plot\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Open\+Q\+A\+Plot\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a267fcaa644ed5e84053883a9164adf6b}
Hendelse for å vise Q\+A-\/plott under arkivet 

Definisjon på linje 2217 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2218         \{
2219             \textcolor{comment}{// Avbryt hvis ingen rad er merket}
2220             \textcolor{keywordflow}{if} (gridArchive.SelectedRows.Count == 0)
2221                 \textcolor{keywordflow}{return};
2222 
2223             \textcolor{comment}{// Hent ut verdier fra grensesnittet}
2224             \textcolor{keywordtype}{string} cout;
2225             \textcolor{keywordtype}{string} operation = gridArchive.SelectedRows[0].Cells[\textcolor{stringliteral}{"Operation"}].Value as String;
2226             \textcolor{keywordtype}{string} specRef = gridArchive.SelectedRows[0].Cells[\textcolor{stringliteral}{"SpecRef"}].Value as String;
2227             \textcolor{keywordtype}{string} det = specRef.Substring(0, 2);
2228 
2229             \textcolor{keywordflow}{if} (operation == \textcolor{stringliteral}{"Prøve"})
2230             \{
2231                 MessageBox.Show(\textcolor{stringliteral}{"Du må velge en bakgrunn eller referansemåling"});
2232                 \textcolor{keywordflow}{return};
2233             \}
2234             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (operation == \textcolor{stringliteral}{"Ref"})
2235             \{
2236                 \textcolor{keywordtype}{string} parFile = gridArchive.SelectedRows[0].Cells[\textcolor{stringliteral}{"Base"}].Value as String;
2237                 \textcolor{keywordtype}{string} sampid = gridArchive.SelectedRows[0].Cells[\textcolor{stringliteral}{"SampleID"}].Value as String;
2238                 parFile += \textcolor{stringliteral}{".PAR"};
2239                 \textcolor{comment}{// Les inn jobb parametere fra fil}
2240                 JobParams jp = Utils.DeserializeJobParams(parFile);
2241                 \textcolor{keywordtype}{string} qaFile = Config.QADir + det + \textcolor{stringliteral}{"-"} + jp.Geometry + \textcolor{stringliteral}{"-"} + sampid + \textcolor{stringliteral}{".QAF"};
2242                 \textcolor{keywordflow}{if} (!File.Exists(qaFile))
2243                 \{
2244                     MessageBox.Show(\textcolor{stringliteral}{"QA filen "} + qaFile + \textcolor{stringliteral}{" finnes ikke"});
2245                     \textcolor{keywordflow}{return};
2246                 \}
2247                 \textcolor{comment}{// Kjør QA commando}
2248                 Utils.RunCommand(\textcolor{stringliteral}{"QA"}, qaFile, out cout, \textcolor{keyword}{false});
2249             \}
2250             \textcolor{keywordflow}{else}
2251             \{
2252                 \textcolor{keywordtype}{string} filename = Config.QADir + det + \textcolor{stringliteral}{"-BKG.QAF"};
2253                 \textcolor{keywordflow}{if} (!File.Exists(filename))
2254                 \{
2255                     MessageBox.Show(\textcolor{stringliteral}{"Finner ikke filen "} + filename);
2256                     \textcolor{keywordflow}{return};
2257                 \}
2258                 \textcolor{comment}{// Kjør QA commando}
2259                 Utils.RunCommand(\textcolor{stringliteral}{"QA"}, filename, out cout, \textcolor{keyword}{false});
2260             \}
2261         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a7cef2942c91ce3e6d209aec5e17f8751}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Samp\+Anal\+Bkg\+Sub\+\_\+\+Click@{btn\+Samp\+Anal\+Bkg\+Sub\+\_\+\+Click}}
\index{btn\+Samp\+Anal\+Bkg\+Sub\+\_\+\+Click@{btn\+Samp\+Anal\+Bkg\+Sub\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Samp\+Anal\+Bkg\+Sub\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Samp\+Anal\+Bkg\+Sub\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a7cef2942c91ce3e6d209aec5e17f8751}
Hendelse for å velge bakgrunnsfil under prøveinfo 

Definisjon på linje 2292 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2293         \{
2294             \textcolor{keywordtype}{string} filter = \textcolor{stringliteral}{"Bakgrunnsfiler|"} + lblToolsDetector.Text + \textcolor{stringliteral}{"*.CNF"};
2295             \textcolor{keywordtype}{string} bkgfile = \hyperlink{class_scintilab_1_1_form_main_aaac85ee2e1b1f107ed9f653435c6b025}{getFile}(\textcolor{stringliteral}{"Velg bakgrunnsfil"}, Config.BkgDir, filter);
2296             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(bkgfile))
2297                 tbSampAnalBkgSub.Text = bkgfile;
2298         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_aa1b4a5be131daa0da4742d5011088756}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Samp\+Anal\+N\+I\+D\+Lib\+\_\+\+Click@{btn\+Samp\+Anal\+N\+I\+D\+Lib\+\_\+\+Click}}
\index{btn\+Samp\+Anal\+N\+I\+D\+Lib\+\_\+\+Click@{btn\+Samp\+Anal\+N\+I\+D\+Lib\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Samp\+Anal\+N\+I\+D\+Lib\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Samp\+Anal\+N\+I\+D\+Lib\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_aa1b4a5be131daa0da4742d5011088756}
Hendelse for å velge N\+I\+D bibliotek under prøveinfo 

Definisjon på linje 2303 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2304         \{
2305             \textcolor{keywordtype}{string} nlbfile = \hyperlink{class_scintilab_1_1_form_main_aaac85ee2e1b1f107ed9f653435c6b025}{getFile}(\textcolor{stringliteral}{"Velg NID Bibliotek"}, Config.LibDir, \textcolor{stringliteral}{"NID Bibliotek|*.NLB"});
2306             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(nlbfile))
2307                 tbSampAnalNIDLib.Text = nlbfile;
2308         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a566e7914e95ee64d886ef430796b9f64}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Samp\+Read\+Barcode\+\_\+\+Click@{btn\+Samp\+Read\+Barcode\+\_\+\+Click}}
\index{btn\+Samp\+Read\+Barcode\+\_\+\+Click@{btn\+Samp\+Read\+Barcode\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Samp\+Read\+Barcode\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Samp\+Read\+Barcode\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a566e7914e95ee64d886ef430796b9f64}
Hendelse for innlesing av strekkode for en prøve 

Definisjon på linje 873 i filen Form\+Main.\+cs.


\begin{DoxyCode}
874         \{
875             \textcolor{comment}{// Les inn strekkode fra bruker}
876             FormBarcodeSample form = \textcolor{keyword}{new} FormBarcodeSample();
877             form.LimsExpDir = SysPar.LimsExport;
878             \textcolor{keywordflow}{if} (form.ShowDialog() == DialogResult.OK)
879             \{
880                 \textcolor{comment}{// Fyll inn felter i prøveinfo basert på fil valgt med strekkode}
881                 \hyperlink{class_scintilab_1_1_form_main_ace8f1fb51afa44804deec60a6dc42bcb}{populateSampGeom}(lblToolsDetector.Text);
882                 \hyperlink{class_scintilab_1_1_form_main_a93fd0bccb6ec721eca356f868939e68b}{populateSampleFromFile}(form.LimsFile);
883             \}
884         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a12209de63c7a7c7d6790466e9be3edd5}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!btn\+Samp\+Start\+\_\+\+Click@{btn\+Samp\+Start\+\_\+\+Click}}
\index{btn\+Samp\+Start\+\_\+\+Click@{btn\+Samp\+Start\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{btn\+Samp\+Start\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+btn\+Samp\+Start\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a12209de63c7a7c7d6790466e9be3edd5}
Hendelse som starter en ny jobb 

Definisjon på linje 1352 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1353         \{
1354             \textcolor{comment}{// Sjekk at alle påkrevde felter er fyllt inn og at verdier er gyldige}
1355             \textcolor{keywordflow}{if} (String.IsNullOrEmpty(tbSampAnalTolerance.Text)
1356                 || String.IsNullOrEmpty(tbSampAnalSigThresh.Text)
1357                 || String.IsNullOrEmpty(tbSampAnalContinuum.Text)
1358                 || String.IsNullOrEmpty(cboxSampAnalContinuumFunc.Text)
1359                 || String.IsNullOrEmpty(tbSampAnalMaxFWHMBetween.Text)
1360                 || String.IsNullOrEmpty(tbSampAnalMaxFWHMLeft.Text)
1361                 || String.IsNullOrEmpty(tbSampAnalMaxFWHMRight.Text)
1362                 || String.IsNullOrEmpty(tbSampRef.Text)
1363                 || String.IsNullOrEmpty(tbSampCollector.Text))
1364             \{
1365                 MessageBox.Show(\textcolor{stringliteral}{"En eller flere påkrevde felter er tomme"});
1366                 \textcolor{keywordflow}{return};
1367             \}
1368 
1369             \textcolor{keywordflow}{if} (String.IsNullOrEmpty(cboxSampAdvPreArea.Text) && String.IsNullOrEmpty(
      cboxSampAdvPreTime.Text))
1370             \{
1371                 MessageBox.Show(\textcolor{stringliteral}{"Preset: En eller flere påkrevde felter er tomme"});
1372                 \textcolor{keywordflow}{return};
1373             \}
1374 
1375             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(cboxSampAdvPreArea.Text))
1376             \{
1377                 \textcolor{keywordflow}{if} (String.IsNullOrEmpty(tbSampAdvPreAreaValue.Text)
1378                     || String.IsNullOrEmpty(tbSampAdvPreAreaChanFrom.Text)
1379                     || String.IsNullOrEmpty(tbSampAdvPreAreaChanTo.Text))
1380                 \{
1381                     MessageBox.Show(\textcolor{stringliteral}{"Preset: En eller flere påkrevde felter er tomme"});
1382                     \textcolor{keywordflow}{return};
1383                 \}   
1384             \}
1385 
1386             \textcolor{comment}{/*if (String.IsNullOrEmpty(cboxSampAdvPreArea.Text))}
1387 \textcolor{comment}{            \{}
1388 \textcolor{comment}{                if (!String.IsNullOrEmpty(tbSampAdvPreAreaValue.Text)}
1389 \textcolor{comment}{                    || !String.IsNullOrEmpty(tbSampAdvPreAreaChanFrom.Text)}
1390 \textcolor{comment}{                    || !String.IsNullOrEmpty(tbSampAdvPreAreaChanTo.Text))}
1391 \textcolor{comment}{                \{}
1392 \textcolor{comment}{                    MessageBox.Show("Preset: En eller flere ikke-påkrevde felter er fyllt inn");}
1393 \textcolor{comment}{                    return;}
1394 \textcolor{comment}{                \}}
1395 \textcolor{comment}{            \}*/}
1396 
1397             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(cboxSampAdvPreTime.Text))
1398             \{
1399                 \textcolor{keywordflow}{if} (String.IsNullOrEmpty(tbSampAdvPreTimeValue.Text)
1400                     || String.IsNullOrEmpty(cboxSampAdvPreTimeUnit.Text))
1401                 \{
1402                     MessageBox.Show(\textcolor{stringliteral}{"Preset: En eller flere påkrevde felter er tomme"});
1403                     \textcolor{keywordflow}{return};
1404                 \}
1405             \}
1406 
1407             \textcolor{comment}{/*if (String.IsNullOrEmpty(cboxSampAdvPreTime.Text))}
1408 \textcolor{comment}{            \{}
1409 \textcolor{comment}{                if (!String.IsNullOrEmpty(tbSampAdvPreTimeValue.Text))}
1410 \textcolor{comment}{                \{}
1411 \textcolor{comment}{                    MessageBox.Show("Preset: En eller flere ikke-påkrevde felter er fyllt inn");}
1412 \textcolor{comment}{                    return;}
1413 \textcolor{comment}{                \}}
1414 \textcolor{comment}{            \}*/}
1415 
1416             \textcolor{keywordflow}{if} (\hyperlink{class_scintilab_1_1_form_main_a57c8340ae2caaec775ad70d8036514fb}{SelInfo}.\hyperlink{class_scintilab_1_1_selection_info_aba3d0673e0d48ee2e2320fdb18179650}{AnalType} != \textcolor{stringliteral}{"Bkg"})
1417             \{
1418                 \textcolor{keywordflow}{if} (String.IsNullOrEmpty(cboxSampAnalEffCal.Text)
1419                     || String.IsNullOrEmpty(tbSampAnalBkgSub.Text)
1420                     || String.IsNullOrEmpty(tbSampAnalNIDLib.Text)
1421                     || String.IsNullOrEmpty(tbSampAnalNIDConfThresh.Text)
1422                     || String.IsNullOrEmpty(tbSampAnalMDAConfFac.Text)
1423                     || String.IsNullOrEmpty(cboxSampAdvCal.Text)
1424                     || String.IsNullOrEmpty(tbSampAdvRandErr.Text)
1425                     || String.IsNullOrEmpty(tbSampAdvSystErr.Text)
1426                     || String.IsNullOrEmpty(tbSampID.Text)
1427                     || String.IsNullOrEmpty(tbSampType.Text)
1428                     || String.IsNullOrEmpty(cboxSampGeom.Text)
1429                     || String.IsNullOrEmpty(tbSampQuant.Text)
1430                     || String.IsNullOrEmpty(cboxSampQuantUnit.Text)
1431                     || String.IsNullOrEmpty(tbSampQuantUnc.Text))
1432                 \{
1433                     MessageBox.Show(\textcolor{stringliteral}{"En eller flere påkrevde felter er tomme"});
1434                     \textcolor{keywordflow}{return};
1435                 \}
1436             \}
1437 
1438             \textcolor{comment}{// Opprett og fyll inn datastruktur for jobb parametere}
1439             JobParams jp = \textcolor{keyword}{new} JobParams();
1440             Detector d = \hyperlink{class_scintilab_1_1_form_main_aff4482e0919480013a53fe56cfb374ba}{getDetectorByName}(lblToolsDetector.Text);
1441 
1442             jp.Operation = SelInfo.AnalType;
1443             jp.OrderName = tbSampOrder.Text;
1444             jp.CollectorName = tbSampCollector.Text;
1445             jp.Description = tbSampDesc.Text;
1446             jp.SpecRef = tbSampRef.Text;
1447             jp.Comment = tbSampComment.Text;
1448             jp.SampleID = tbSampID.Text;
1449             jp.SampleType = tbSampType.Text;
1450             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbSampQuant.Text))
1451                 jp.SampleQuantity = Utils.ConvertToDouble(tbSampQuant.Text);
1452             \textcolor{keywordflow}{else} jp.SampleQuantity = 0;
1453             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbSampQuantUnc.Text))
1454                 jp.SampleQuantityError = Utils.ConvertToDouble(tbSampQuantUnc.Text);
1455             \textcolor{keywordflow}{else} jp.SampleQuantityError = 0;
1456             jp.SampleQuantityUnit = cboxSampQuantUnit.Text;
1457             jp.Geometry = cboxSampGeom.Text;
1458             jp.DetectorName = d.Name;
1459 
1460             \textcolor{keywordflow}{if} (jp.Operation == \textcolor{stringliteral}{"Ref"})
1461             \{
1462                 \textcolor{keywordtype}{string} qabox = \hyperlink{class_scintilab_1_1_form_main_ad8de93638ebc50f712d85af269ba383d}{getQABoxFromDetector}(d, jp.Geometry);
1463                 \textcolor{keywordflow}{if} (String.IsNullOrEmpty(qabox))
1464                 \{
1465                     MessageBox.Show(\textcolor{stringliteral}{"Kan ikke finne QA boks for detektor "} + d.Name + \textcolor{stringliteral}{" og beger "} + 
      jp.Geometry);
1466                     \hyperlink{class_scintilab_1_1_form_main_aca32a54e95297f770c9022441cb74a90}{btnBack\_Click}(sender, e);
1467                     \textcolor{keywordflow}{return};
1468                 \}
1469 
1470                 \textcolor{keywordtype}{string} qafFile = Config.QADir + jp.DetectorName + \textcolor{stringliteral}{"-"} + jp.Geometry + \textcolor{stringliteral}{"-"} + qabox + \textcolor{stringliteral}{".QAF"};
1471                 \textcolor{keywordflow}{if} (!File.Exists(qafFile))
1472                 \{
1473                     \textcolor{keywordtype}{string} defQafFile = Config.ScintilabDir + \textcolor{stringliteral}{"DEFAULT-"} + qabox + \textcolor{stringliteral}{".QAF"};
1474                     \textcolor{keywordflow}{if} (!File.Exists(defQafFile))
1475                     \{
1476                         MessageBox.Show(\textcolor{stringliteral}{"Mangler default QA fil "} + defQafFile + \textcolor{stringliteral}{", kan ikke fortsette"});
1477                         \hyperlink{class_scintilab_1_1_form_main_aca32a54e95297f770c9022441cb74a90}{btnBack\_Click}(sender, e);
1478                         \textcolor{keywordflow}{return};
1479                     \}
1480                     File.Copy(defQafFile, qafFile, \textcolor{keyword}{true});
1481                 \}
1482             \}
1483 
1484             jp.CalibrationFile = Config.CalDir + cboxSampAdvCal.Text;
1485             jp.SpectrumDate = DateTime.Now;
1486             jp.BuildupType = tabsBuildup.SelectedTab.Text.ToUpper();
1487             \textcolor{keywordflow}{if}(jp.BuildupType == \textcolor{stringliteral}{"NONE"})
1488             \{
1489                 \textcolor{keywordtype}{string} dtstr = dtSampBuildNoneDate.Value.ToShortDateString() + \textcolor{stringliteral}{" "} + dtSampBuildNoneTime.
      Value.ToLongTimeString();
1490                 jp.BuildupStartDate = DateTime.Parse(dtstr);
1491                 jp.BuildupEndDate = jp.BuildupStartDate; 
1492             \}
1493             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (jp.BuildupType == \textcolor{stringliteral}{"IRRAD"})
1494             \{
1495                 \textcolor{keywordtype}{string} dtstr = dtSampBuildIrradDateFrom.Value.ToShortDateString() + \textcolor{stringliteral}{" "} + 
      dtSampBuildIrradTimeFrom.Value.ToLongTimeString();
1496                 jp.BuildupStartDate = DateTime.Parse(dtstr);
1497                 dtstr = dtSampBuildIrradDateTo.Value.ToShortDateString() + \textcolor{stringliteral}{" "} + dtSampBuildIrradTimeTo.
      Value.ToLongTimeString();
1498                 jp.BuildupEndDate = DateTime.Parse(dtstr);
1499             \}
1500             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (jp.BuildupType == \textcolor{stringliteral}{"DEPOSIT"})
1501             \{
1502                 \textcolor{keywordtype}{string} dtstr = dtSampBuildDepDateFrom.Value.ToShortDateString() + \textcolor{stringliteral}{" "} + 
      dtSampBuildDepTimeFrom.Value.ToLongTimeString();
1503                 jp.BuildupStartDate = DateTime.Parse(dtstr);
1504                 dtstr = dtSampBuildDepDateTo.Value.ToShortDateString() + \textcolor{stringliteral}{" "} + dtSampBuildDepTimeTo.Value.
      ToLongTimeString();
1505                 jp.BuildupEndDate = DateTime.Parse(dtstr);
1506             \}
1507             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbSampAdvRandErr.Text))
1508                 jp.RandomError = Utils.ConvertToDouble(tbSampAdvRandErr.Text);
1509             \textcolor{keywordflow}{else} jp.RandomError = 0;
1510             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbSampAdvSystErr.Text))
1511                 jp.SystematicError = Utils.ConvertToDouble(tbSampAdvSystErr.Text);
1512             \textcolor{keywordflow}{else} jp.SystematicError = 0;
1513             jp.PresetCount = cboxSampAdvPreArea.Text;
1514             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(jp.PresetCount))
1515             \{
1516                 \textcolor{keywordflow}{if} (tbSampAdvPreAreaChanFrom.Text.Trim() == \textcolor{stringliteral}{"0"} || tbSampAdvPreAreaChanFrom.Text.Trim() == \textcolor{stringliteral}{
      "0"} || tbSampAdvPreAreaValue.Text.Trim() == \textcolor{stringliteral}{"0"})
1517                 \{
1518                     MessageBox.Show(\textcolor{stringliteral}{"Kan ikke bruke 0 som verdi i kanaler eller tellere"});
1519                     \textcolor{keywordflow}{return};
1520                 \}
1521             \}
1522             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbSampAdvPreAreaValue.Text))
1523                 jp.PresetCountValue = Convert.ToInt32(tbSampAdvPreAreaValue.Text);
1524             \textcolor{keywordflow}{else} jp.PresetCountValue = 0;
1525             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbSampAdvPreAreaChanFrom.Text))
1526                 jp.PresetCountChanFrom = Convert.ToInt32(tbSampAdvPreAreaChanFrom.Text);
1527             \textcolor{keywordflow}{else} jp.PresetCountChanFrom = 0;
1528             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbSampAdvPreAreaChanTo.Text))
1529             \{
1530                 jp.PresetCountChanTo = Convert.ToInt32(tbSampAdvPreAreaChanTo.Text);
1531                 \textcolor{keywordflow}{if} (jp.PresetCountChanTo > d.MaxChannels)
1532                 \{
1533                     MessageBox.Show(\textcolor{stringliteral}{"Maks antall kanaler for detektor ("} + d.MaxChannels.ToString() + \textcolor{stringliteral}{") er
       lavere enn angitt i 'Chan. To' ("} + jp.PresetCountChanTo.ToString() + \textcolor{stringliteral}{")"});
1534                     \textcolor{keywordflow}{return};
1535                 \}
1536                 \textcolor{keywordflow}{if} (jp.PresetCountChanFrom > 0 && jp.PresetCountChanFrom >= jp.PresetCountChanTo)
1537                 \{
1538                     MessageBox.Show(\textcolor{stringliteral}{"'Chan. From' kan ikke være større enn 'Chan. To'"});
1539                     \textcolor{keywordflow}{return};
1540                 \}
1541             \}
1542             \textcolor{keywordflow}{else} jp.PresetCountChanTo = 0;
1543 
1544             jp.PresetTime = cboxSampAdvPreTime.Text;
1545             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(jp.PresetTime))
1546             \{
1547                 \textcolor{keywordflow}{if} (tbSampAdvPreTimeValue.Text.Trim() == \textcolor{stringliteral}{"0"})
1548                 \{
1549                     MessageBox.Show(\textcolor{stringliteral}{"Kan ikke bruke 0 som verdi i kanaler eller tellere"});
1550                     \textcolor{keywordflow}{return};
1551                 \}
1552             \}
1553             jp.PresetTimeUnit = cboxSampAdvPreTimeUnit.Text;
1554             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbSampAdvPreTimeValue.Text))
1555                 jp.PresetTimeValue = Convert.ToInt32(tbSampAdvPreTimeValue.Text);
1556             \textcolor{keywordflow}{else} jp.PresetTimeValue = 0;
1557             \textcolor{keywordflow}{if} (jp.PresetTimeUnit == \textcolor{stringliteral}{"Minutter"})
1558                 jp.PresetTimeValue *= 60;
1559             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(jp.PresetTimeUnit == \textcolor{stringliteral}{"Timer"})
1560                 jp.PresetTimeValue *= 3600;
1561             jp.SearchRegionFrom = d.SearchRegionFrom;
1562             jp.SearchRegionTo = d.SearchRegionTo;
1563             jp.Tolerance = Utils.ConvertToDouble(tbSampAnalTolerance.Text);
1564             jp.SignificanceThreshold = Utils.ConvertToDouble(tbSampAnalSigThresh.Text);
1565             jp.PeakAreaRegionFrom = d.PeakAreaRegionFrom;
1566             jp.PeakAreaRegionTo = d.PeakAreaRegionTo;
1567             jp.Continuum = Utils.ConvertToDouble(tbSampAnalContinuum.Text);
1568             jp.ContinuumFunction = cboxSampAnalContinuumFunc.Text;
1569             jp.CriticalLevel = cbSampAnalCritLev.Checked;
1570             jp.FitSinglets = cbSampAnalFitSinglets.Checked;
1571             jp.DisplayROIs = cbSampAnalDispRois.Checked;
1572             jp.UseFixedTailParameter = cbSampAnalUseFixed.Checked;
1573             jp.RejectZeroAreaPeaks = cbSampAnalRejectZero.Checked;
1574             jp.UseFixedFWHM = cbSampAnalFixedFWHM.Checked;
1575 
1576             jp.MaxFWHMSBetweenPeaks = Utils.ConvertToDouble(tbSampAnalMaxFWHMBetween.Text);
1577             jp.MaxFWHMSForLeftLimit = Utils.ConvertToDouble(tbSampAnalMaxFWHMLeft.Text);
1578             jp.MaxFWHMSForRightLimit = Utils.ConvertToDouble(tbSampAnalMaxFWHMRight.Text);
1579             jp.BackgroundSubtractFile = tbSampAnalBkgSub.Text;
1580             jp.EfficiencyCalibrationType = cboxSampAnalEffCal.Text;
1581             jp.NIDLibraryFile = tbSampAnalNIDLib.Text;
1582             jp.NIDConfidenceThreshold = Utils.ConvertToDouble(tbSampAnalNIDConfThresh.Text);
1583             jp.MDAConfidenceFactor = Utils.ConvertToDouble(tbSampAnalMDAConfFac.Text);
1584             jp.InhibitATDCorrection = cbSampAnalInhibitATD.Checked;
1585             jp.UseStoredLibrary = cbSampAnalUseStoredLib.Checked;
1586             jp.PerformMDATest = cbSampAnalPerformMDA.Checked;
1587             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(tbAdmSigma.Text))
1588                 jp.Sigma = Convert.ToInt32(tbAdmSigma.Text);
1589             \textcolor{keywordflow}{else} jp.Sigma = 2;
1590             jp.ReportTemplateFile = tbAdmTemplate.Text;
1591 
1592             \textcolor{keywordflow}{if} (jp.Operation == \textcolor{stringliteral}{"Bkg"})
1593                 jp.ReportSection = \textcolor{stringliteral}{"HEADER"};
1594             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (jp.Operation == \textcolor{stringliteral}{"Ref"})
1595                 jp.ReportSection = \textcolor{stringliteral}{"HEADER"};
1596             \textcolor{keywordflow}{else}
1597             \{
1598                 jp.ReportSection = cboxAdmSection.Text;
1599                 \textcolor{keywordflow}{if} (jp.ReportSection == \textcolor{stringliteral}{"ALL"})
1600                     jp.ReportSection = \textcolor{stringliteral}{""};
1601             \}
1602 
1603             \textcolor{comment}{// Generer .BAT fil og kjør denne}
1604             \textcolor{keywordtype}{string} cout;
1605             \textcolor{keywordflow}{if} (!\hyperlink{class_scintilab_1_1_form_main_a389e9c6697c567d84058d178053a837c}{isReanal})
1606             \{
1607                 \textcolor{keywordtype}{string} parFile = Config.JobDir + lblToolsDetector.Text + \textcolor{stringliteral}{".PAR"};
1608                 \textcolor{keywordflow}{if} (!\hyperlink{class_scintilab_1_1_form_main_ac34ad4400cb8a7b5d38feca1f620b3cb}{GenerateBatFromParams}(jp))
1609                     \textcolor{keywordflow}{return};
1610                 Utils.RunCommand(Config.JobDir + jp.DetectorName + \textcolor{stringliteral}{".BAT"}, \textcolor{stringliteral}{"1>"} + Config.JobDir + 
      jp.DetectorName + \textcolor{stringliteral}{".OUT"}, out cout, \textcolor{keyword}{false});
1611                 \textcolor{comment}{// Lagre jobb parametere til fil}
1612                 Utils.SerializeJobParams(jp, parFile);
1613             \}
1614             \textcolor{keywordflow}{else}
1615             \{
1616                 \textcolor{keywordtype}{string} tmpName = Config.TempDir + jp.SpecRef;
1617                 \textcolor{keywordtype}{string} archiveName = gridArchive.SelectedRows[0].Cells[\textcolor{stringliteral}{"Base"}].Value as String;
1618 
1619                 \hyperlink{class_scintilab_1_1_form_main_ab1eef461219a3b724d3bf3af0cd68e94}{GenerateReanalBatFromParams}(tmpName, archiveName, jp);
1620                 lblStatus.Text = \textcolor{stringliteral}{"Reanalyserer spekter "} + jp.SpecRef + \textcolor{stringliteral}{". Vennligst vent..."};
1621                 Application.DoEvents(); \textcolor{comment}{// Sørg for at lblStatus oppdateres umiddelbart}
1622 
1623                 Utils.RunCommand(tmpName + \textcolor{stringliteral}{".BAT"}, \textcolor{stringliteral}{"1>"} + tmpName + \textcolor{stringliteral}{".OUT"}, out cout, \textcolor{keyword}{true});
1624                 \textcolor{comment}{// Lagre jobb parametere til fil}
1625                 Utils.SerializeJobParams(jp, tmpName + \textcolor{stringliteral}{".PAR"});
1626 
1627                 \textcolor{comment}{// Vis rapport for reanalysering}
1628                 FormJobReport form = \textcolor{keyword}{new} FormJobReport(tmpName, archiveName, \textcolor{keyword}{true}, ref d, 
      \hyperlink{class_scintilab_1_1_form_main_ad41498eb151a72c77ad94c7285d0f506}{SysPar});
1629                 form.ShowDialog();
1630             \}
1631 
1632             tabs.SelectedTab = tabMenu;
1633         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a262b28336ad08680d43100f4cd5afe03}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!cbox\+Samp\+Geom\+\_\+\+Selected\+Index\+Changed@{cbox\+Samp\+Geom\+\_\+\+Selected\+Index\+Changed}}
\index{cbox\+Samp\+Geom\+\_\+\+Selected\+Index\+Changed@{cbox\+Samp\+Geom\+\_\+\+Selected\+Index\+Changed}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{cbox\+Samp\+Geom\+\_\+\+Selected\+Index\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+cbox\+Samp\+Geom\+\_\+\+Selected\+Index\+Changed (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a262b28336ad08680d43100f4cd5afe03}
Hendelse for valg av beger under prøveinfo 

Definisjon på linje 1012 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1013         \{
1014             \textcolor{comment}{// Avbryt hvis ingen beger er valgt}
1015             \textcolor{keywordflow}{if} (String.IsNullOrEmpty(cboxSampGeom.Text))
1016                 \textcolor{keywordflow}{return};
1017 
1018             \textcolor{comment}{// Fyll inn .CAL filer for valgt detektor/beger}
1019             Detector d = \hyperlink{class_scintilab_1_1_form_main_aff4482e0919480013a53fe56cfb374ba}{getDetectorByName}(lblToolsDetector.Text);
1020             \textcolor{keywordtype}{string} beakerName = cboxSampGeom.Text;
1021             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < d.BeakerInfoList.Count; i++)
1022                 \textcolor{keywordflow}{if} (beakerName.ToUpper() == d.BeakerInfoList[i].BeakerName.ToUpper())
1023                     \hyperlink{class_scintilab_1_1_form_main_ab744904cac6a4bf90ebbe326b658e2e5}{addCalFilesToSamp}(d, beakerName);
1024             
1025             \textcolor{keywordflow}{if} (!\hyperlink{class_scintilab_1_1_form_main_a389e9c6697c567d84058d178053a837c}{isReanal})
1026             \{
1027                 \textcolor{keywordflow}{if} (\hyperlink{class_scintilab_1_1_form_main_a57c8340ae2caaec775ad70d8036514fb}{SelInfo}.\hyperlink{class_scintilab_1_1_selection_info_aba3d0673e0d48ee2e2320fdb18179650}{AnalType} == \textcolor{stringliteral}{"Ref"})
1028                 \{
1029                     \textcolor{comment}{// Fyll inn felter for referanse målinger}
1030                     \textcolor{keywordtype}{string} qabName = \hyperlink{class_scintilab_1_1_form_main_ad8de93638ebc50f712d85af269ba383d}{getQABoxFromDetector}(d, beakerName);
1031                     QABeaker qab = \hyperlink{class_scintilab_1_1_form_main_ae8b1f6bb6a734ec6ad54794d345ce650}{getQABeakerByName}(qabName);
1032                     tbSampDesc.Text = \textcolor{stringliteral}{"Referansemåling "} + DateTime.Now.ToShortDateString();
1033                     tbSampQuant.Text = qab.SampleQuantity.ToString();
1034                     tbSampID.Text = qabName;
1035                     tbSampType.Text = qab.SampleType;
1036                     cboxSampQuantUnit.Text = qab.Unit;
1037                     tbSampQuantUnc.Text = qab.Uncertainty.ToString();
1038                     dtSampBuildNoneDate.Value = qab.RefDate;
1039                     dtSampBuildNoneTime.Value = qab.RefDate;
1040                 \}
1041             \}
1042         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a072f08bc198944051dffd3d8fac4cc9d}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!check\+For\+Errors@{check\+For\+Errors}}
\index{check\+For\+Errors@{check\+For\+Errors}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{check\+For\+Errors}]{\setlength{\rightskip}{0pt plus 5cm}bool Scintilab.\+Form\+Main.\+check\+For\+Errors (
\begin{DoxyParamCaption}
\item[{string}]{filename}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a072f08bc198944051dffd3d8fac4cc9d}
Funksjon for å sjekke om noe gikk galt under kjøring av .B\+A\+T fil.


\begin{DoxyParams}{Parametre}
{\em filename} & Fil som skal sjekkes for feilmeldinger. Filinnholdet skal være \char`\"{}standard output\char`\"{} fra kjøring av .B\+A\+T filen\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returnerer}
Sant hvis det ble funnet en feilmelding, Usant ellers 
\end{DoxyReturn}


Definisjon på linje 610 i filen Form\+Main.\+cs.


\begin{DoxyCode}
611         \{            
612             StreamReader sr = \textcolor{keyword}{new} StreamReader(filename);
613             \textcolor{keywordtype}{string} content = sr.ReadToEnd(); \textcolor{comment}{// Les inn hele filen}
614             sr.Close();
615             \textcolor{comment}{// Returner true hvis ordet " Error " finnes i filen}
616             \textcolor{keywordflow}{return} content.IndexOf(\textcolor{stringliteral}{" Error "}) != -1;
617         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ac7955a16efd0a7b15614c904db1c4d20}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!check\+Valid\+Decimal@{check\+Valid\+Decimal}}
\index{check\+Valid\+Decimal@{check\+Valid\+Decimal}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{check\+Valid\+Decimal}]{\setlength{\rightskip}{0pt plus 5cm}bool Scintilab.\+Form\+Main.\+check\+Valid\+Decimal (
\begin{DoxyParamCaption}
\item[{string}]{txt, }
\item[{char}]{ch}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ac7955a16efd0a7b15614c904db1c4d20}
Funksjon for å sjekke om kombinasjonen av en streng og et tegn gir et gyldig desimal-\/tall


\begin{DoxyParams}{Parametre}
{\em txt} & Streng som skal valideres \\
\hline
{\em ch} & Tegn som skal legges til txt\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returnerer}
Sant hvis resultatet er et gyldig desimal-\/tall, usant ellers 
\end{DoxyReturn}


Definisjon på linje 2415 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2416         \{            
2417             \textcolor{keywordtype}{bool} hasPeriod = \textcolor{keyword}{false};
2418             \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{char} c \textcolor{keywordflow}{in} txt)
2419                 \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'.'} || c == \textcolor{charliteral}{','})
2420                     hasPeriod = \textcolor{keyword}{true};
2421 
2422             \textcolor{keywordflow}{if} (ch.ToString() == Thread.CurrentThread.CurrentCulture.NumberFormat.NumberGroupSeparator)
2423             \{
2424                 MessageBox.Show(\textcolor{stringliteral}{"Karakteren '"} + ch + \textcolor{stringliteral}{"' er gruppe separator på systemet du sitter på"});
2425                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2426             \}
2427 
2428             \textcolor{keywordflow}{if} ((ch == \textcolor{charliteral}{'.'} || ch == \textcolor{charliteral}{','}) && !hasPeriod)
2429                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
2430 
2431             \textcolor{keywordflow}{if} ((ch >= \textcolor{charliteral}{'0'} && ch <= \textcolor{charliteral}{'9'}) || ch == \textcolor{charliteral}{'\(\backslash\)b'})
2432                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
2433 
2434             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2435         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a6cb8b069c0d1b488dbf0abef2b8fcfb3}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!check\+Valid\+Integer@{check\+Valid\+Integer}}
\index{check\+Valid\+Integer@{check\+Valid\+Integer}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{check\+Valid\+Integer}]{\setlength{\rightskip}{0pt plus 5cm}bool Scintilab.\+Form\+Main.\+check\+Valid\+Integer (
\begin{DoxyParamCaption}
\item[{char}]{ch}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a6cb8b069c0d1b488dbf0abef2b8fcfb3}
Funksjon for å sjekke om et tegn er et gyldig hel-\/tall

\begin{DoxyReturn}{Returnerer}
Sant hvis tegnet er et tall, usant ellers 
\end{DoxyReturn}


Definisjon på linje 2399 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2400         \{
2401             \textcolor{keywordflow}{if} ((ch >= \textcolor{charliteral}{'0'} && ch <= \textcolor{charliteral}{'9'}) || ch == \textcolor{charliteral}{'\(\backslash\)b'})
2402                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
2403 
2404             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2405         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_af1716116c6d9b7a6900fb3ac10b7cf26}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!clear\+Adm\+Beakers@{clear\+Adm\+Beakers}}
\index{clear\+Adm\+Beakers@{clear\+Adm\+Beakers}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{clear\+Adm\+Beakers}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+clear\+Adm\+Beakers (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_af1716116c6d9b7a6900fb3ac10b7cf26}
Tøm alle felter under administrasjon av begere 

Definisjon på linje 167 i filen Form\+Main.\+cs.


\begin{DoxyCode}
168         \{
169             tbAdmGeomManufacturer.Text = \textcolor{stringliteral}{""};
170             cbAdmGeomInUse.Checked = \textcolor{keyword}{false};
171         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a79453298b8521054e8012d9df6fe6b93}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!clear\+Adm\+Detectors@{clear\+Adm\+Detectors}}
\index{clear\+Adm\+Detectors@{clear\+Adm\+Detectors}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{clear\+Adm\+Detectors}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+clear\+Adm\+Detectors (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a79453298b8521054e8012d9df6fe6b93}
Tøm alle felter under administrasjon av detektorer 

Definisjon på linje 124 i filen Form\+Main.\+cs.


\begin{DoxyCode}
125         \{
126             tbAdmDetSearchRegionFrom.Text = \textcolor{stringliteral}{""};
127             tbAdmDetSearchRegionTo.Text = \textcolor{stringliteral}{""};
128             tbAdmDetTolerance.Text = \textcolor{stringliteral}{""};
129             tbAdmDetSignThresh.Text = \textcolor{stringliteral}{""};
130             tbAdmDetPeakAreaRegionFrom.Text = \textcolor{stringliteral}{""};
131             tbAdmDetPeakAreaRegionTo.Text = \textcolor{stringliteral}{""};
132             tbAdmDetContinuum.Text = \textcolor{stringliteral}{""};
133             cboxAdmDetContinuumFunc.Text = \textcolor{stringliteral}{""};
134             cbAdmDetCriticalLevel.Checked = \textcolor{keyword}{false};
135             cbAdmDetFitSinglets.Checked = \textcolor{keyword}{false};
136             cbAdmDetDisplayROIs.Checked = \textcolor{keyword}{false};
137             cbAdmDetUseFixedTailParam.Checked = \textcolor{keyword}{false};
138             cbAdmDetRejectZeroAreaPeaks.Checked = \textcolor{keyword}{false};
139             cbAdmDetUseFixedFWHM.Checked = \textcolor{keyword}{false};
140             cboxAdmDetEffCalType.Text = \textcolor{stringliteral}{""};
141             tbAdmDetMaxFHWMBetPeaks.Text = \textcolor{stringliteral}{""};
142             tbAdmDetMaxFHWMLeftLim.Text = \textcolor{stringliteral}{""};
143             tbAdmDetMaxFHWMRightLim.Text = \textcolor{stringliteral}{""};
144             tbAdmDetBkgSub.Text = \textcolor{stringliteral}{""};
145             tbAdmDetNIDLib.Text = \textcolor{stringliteral}{""};
146             tbAdmDetNIDConfThresh.Text = \textcolor{stringliteral}{""};
147             tbAdmDetMDAConfFac.Text = \textcolor{stringliteral}{""};
148             cbAdmDetInhibitATDCorr.Checked = \textcolor{keyword}{false};
149             cbAdmDetUseStoredLib.Checked = \textcolor{keyword}{false};
150             cbAdmDetPerfMDATest.Checked = \textcolor{keyword}{false};
151 
152             cboxAdmDetPresetArea.Text = \textcolor{stringliteral}{""};
153             tbAdmDetPresetAreaValue.Text = \textcolor{stringliteral}{""};
154             tbAdmDetPresetAreaChanFrom.Text = \textcolor{stringliteral}{""};
155             tbAdmDetPresetAreaChanTo.Text = \textcolor{stringliteral}{""};
156             cboxAdmDetPresetTime.Text = \textcolor{stringliteral}{""};
157             tbAdmDetPresetTimeValue.Text = \textcolor{stringliteral}{""};
158             cboxAdmDetPresetTimeUnit.Text = \textcolor{stringliteral}{""};
159             tbAdmDetRandErr.Text = \textcolor{stringliteral}{""};
160             tbAdmDetSysErr.Text = \textcolor{stringliteral}{""};
161             gridAdmDetGeomCalQA.Rows.Clear();
162         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a94e0c785ff92478f3bb21311a6bdf50f}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!clear\+Adm\+Q\+A\+Beakers@{clear\+Adm\+Q\+A\+Beakers}}
\index{clear\+Adm\+Q\+A\+Beakers@{clear\+Adm\+Q\+A\+Beakers}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{clear\+Adm\+Q\+A\+Beakers}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+clear\+Adm\+Q\+A\+Beakers (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a94e0c785ff92478f3bb21311a6bdf50f}
Tøm alle felter under administrasjon av Q\+A-\/begere 

Definisjon på linje 176 i filen Form\+Main.\+cs.


\begin{DoxyCode}
177         \{
178             cbAdmQAInUse.Checked = \textcolor{keyword}{false};
179             cboxAdmQABeaker.Text = \textcolor{stringliteral}{""};
180             dtAdmQARefDate.Value = DateTime.Now;
181             dtAdmQARefTime.Value = DateTime.Now;
182             tbAdmQASampType.Text = \textcolor{stringliteral}{""};
183             tbAdmQASampQuant.Text = \textcolor{stringliteral}{""};
184             cboxAdmQASampUnit.Text = \textcolor{stringliteral}{""};
185             tbAdmQASampUnc.Text = \textcolor{stringliteral}{""};
186         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a01c213a0d1456773b92d4d431a9d1cdb}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!clear\+Samp\+Params@{clear\+Samp\+Params}}
\index{clear\+Samp\+Params@{clear\+Samp\+Params}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{clear\+Samp\+Params}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+clear\+Samp\+Params (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a01c213a0d1456773b92d4d431a9d1cdb}
Tøm alle felter under prøveinfo 

Definisjon på linje 191 i filen Form\+Main.\+cs.


\begin{DoxyCode}
192         \{
193             tbSampOrder.Text = \textcolor{stringliteral}{""};
194             tbSampDesc.Text = \textcolor{stringliteral}{""};
195             tbSampID.Text = \textcolor{stringliteral}{""};
196             tbSampType.Text = \textcolor{stringliteral}{""};
197             cboxSampGeom.Text = \textcolor{stringliteral}{""};
198             tbSampQuant.Text = \textcolor{stringliteral}{""};
199             cboxSampQuantUnit.Text = \textcolor{stringliteral}{""};
200             tbSampQuantUnc.Text = \textcolor{stringliteral}{""};
201             tbSampRef.Text = \textcolor{stringliteral}{""};
202             tbSampCollector.Text = \textcolor{stringliteral}{""};
203             tbSampComment.Text = \textcolor{stringliteral}{""};
204             dtSampBuildNoneDate.Value = DateTime.Now;
205             dtSampBuildNoneTime.Value = DateTime.Now;
206             dtSampBuildIrradDateFrom.Value = DateTime.Now;
207             dtSampBuildIrradTimeFrom.Value = DateTime.Now;
208             dtSampBuildIrradDateTo.Value = DateTime.Now;
209             dtSampBuildIrradTimeTo.Value = DateTime.Now;
210             dtSampBuildDepDateFrom.Value = DateTime.Now;
211             dtSampBuildDepTimeFrom.Value = DateTime.Now;
212             dtSampBuildDepDateTo.Value = DateTime.Now;
213             dtSampBuildDepTimeTo.Value = DateTime.Now;
214 
215             cboxSampAdvCal.Text = \textcolor{stringliteral}{""};
216             tbSampAdvRandErr.Text = \textcolor{stringliteral}{""};
217             tbSampAdvSystErr.Text = \textcolor{stringliteral}{""};
218             cboxSampAdvPreArea.Text = \textcolor{stringliteral}{""};
219             tbSampAdvPreAreaValue.Text = \textcolor{stringliteral}{""};
220             tbSampAdvPreAreaChanFrom.Text = \textcolor{stringliteral}{""};
221             tbSampAdvPreAreaChanTo.Text = \textcolor{stringliteral}{""};
222             cboxSampAdvPreTime.Text = \textcolor{stringliteral}{""};
223             tbSampAdvPreTimeValue.Text = \textcolor{stringliteral}{""};
224             cboxSampAdvPreTimeUnit.Text = \textcolor{stringliteral}{""};
225 
226             tbSampAnalTolerance.Text = \textcolor{stringliteral}{""};
227             tbSampAnalSigThresh.Text = \textcolor{stringliteral}{""};
228             tbSampAnalContinuum.Text = \textcolor{stringliteral}{""};
229             cboxSampAnalContinuumFunc.Text = \textcolor{stringliteral}{""};
230             cbSampAnalCritLev.Checked = \textcolor{keyword}{false};
231             cbSampAnalFitSinglets.Checked = \textcolor{keyword}{false};
232             cbSampAnalDispRois.Checked = \textcolor{keyword}{false};
233             cbSampAnalUseFixed.Checked = \textcolor{keyword}{false};
234             cbSampAnalRejectZero.Checked = \textcolor{keyword}{false};
235             cbSampAnalFixedFWHM.Checked = \textcolor{keyword}{false};
236             cboxSampAnalEffCal.Text = \textcolor{stringliteral}{""};
237             tbSampAnalMaxFWHMBetween.Text = \textcolor{stringliteral}{""};
238             tbSampAnalMaxFWHMLeft.Text = \textcolor{stringliteral}{""};
239             tbSampAnalMaxFWHMRight.Text = \textcolor{stringliteral}{""};
240             tbSampAnalBkgSub.Text = \textcolor{stringliteral}{""};
241             tbSampAnalNIDLib.Text = \textcolor{stringliteral}{""};
242             tbSampAnalNIDConfThresh.Text = \textcolor{stringliteral}{""};
243             tbSampAnalMDAConfFac.Text = \textcolor{stringliteral}{""};
244             cbSampAnalInhibitATD.Checked = \textcolor{keyword}{false};
245             cbSampAnalUseStoredLib.Checked = \textcolor{keyword}{false};
246             cbSampAnalPerformMDA.Checked = \textcolor{keyword}{false};
247 
248             tabsSamples.SelectedTab = tabSamplesParams;
249         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a8b2aed106bf6da84eade77654137b723}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Decimal\+\_\+\+Key\+Press@{Decimal\+\_\+\+Key\+Press}}
\index{Decimal\+\_\+\+Key\+Press@{Decimal\+\_\+\+Key\+Press}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Decimal\+\_\+\+Key\+Press}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+Decimal\+\_\+\+Key\+Press (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Key\+Press\+Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a8b2aed106bf6da84eade77654137b723}
Hendelse for å validere inntasting av desimal-\/tall 

Definisjon på linje 2452 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2453         \{
2454             \textcolor{keywordtype}{string} text = ((TextBox)sender).Text;
2455             \textcolor{keywordflow}{if}(!\hyperlink{class_scintilab_1_1_form_main_ac7955a16efd0a7b15614c904db1c4d20}{checkValidDecimal}(text, e.KeyChar))
2456             \{
2457                 e.Handled = \textcolor{keyword}{true};
2458                 \textcolor{keywordflow}{return};
2459             \}
2460         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a0fc122d41cfd2269400517c27dfb2aa3}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Detector\+Has\+Job@{Detector\+Has\+Job}}
\index{Detector\+Has\+Job@{Detector\+Has\+Job}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Detector\+Has\+Job}]{\setlength{\rightskip}{0pt plus 5cm}bool Scintilab.\+Form\+Main.\+Detector\+Has\+Job (
\begin{DoxyParamCaption}
\item[{{\bf Detector}}]{d}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a0fc122d41cfd2269400517c27dfb2aa3}
Funksjon som sjekker om en detektor har en aktiv jobb


\begin{DoxyParams}{Parametre}
{\em d} & Detektor som skal sjekkes\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returnerer}
Sant hvis detektoren har en jobb, Usant ellers 
\end{DoxyReturn}


Definisjon på linje 776 i filen Form\+Main.\+cs.


\begin{DoxyCode}
777         \{
778             \textcolor{keywordflow}{if} (File.Exists(Config.JobDir + d.Name + \textcolor{stringliteral}{".BAT"}))
779                 \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \textcolor{comment}{// Detektoren har en .BAT fil i jobb katalogen}
780             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
781         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a6c96beb015193d225dd65035759f8484}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Form\+Main\+\_\+\+Load@{Form\+Main\+\_\+\+Load}}
\index{Form\+Main\+\_\+\+Load@{Form\+Main\+\_\+\+Load}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Form\+Main\+\_\+\+Load}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+Form\+Main\+\_\+\+Load (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a6c96beb015193d225dd65035759f8484}
Hendelse for programstart 

Definisjon på linje 331 i filen Form\+Main.\+cs.


\begin{DoxyCode}
332         \{
333             \textcolor{keywordflow}{try}
334             \{
335                 tabs.HideTabs = \textcolor{keyword}{true}; \textcolor{comment}{// Skjul faner i grensesnitt}
336                 Width = 800; \textcolor{comment}{// Bredde på vindu}
337                 Height = 550; \textcolor{comment}{// Høyde på vindu}
338                 lblToolsInterface.Text = tabs.SelectedTab.Text; \textcolor{comment}{// Vis navnet på valgt fane i toppmenyen}
339                 lblToolsDetector.Text = \textcolor{stringliteral}{""}; \textcolor{comment}{// Tøm navn på valgt detektor i toppmenyen}
340 
341                 \textcolor{comment}{// Opprett og vis vindu for innlogging}
342                 FormLogin form = \textcolor{keyword}{new} FormLogin();
343                 form.ShowDialog();
344                 \textcolor{keywordflow}{if} (form.DialogResult != System.Windows.Forms.DialogResult.OK)
345                     \textcolor{comment}{// Avslutt Scintilab hvis innlogging avbrytes}
346                     Close();
347 
348                 Config.Username = form.Username; \textcolor{comment}{// Lagre brukernavn i konfigurasjon}
349                 lblStatusUsername.Text = \hyperlink{class_scintilab_1_1_config_a46bec74f1139be16639b257d38580f22}{Config.Username}; \textcolor{comment}{// Sett brukernavn i toppmenyen}
350 
351                 \textcolor{comment}{// Hent verdien til miljøvariabelen "SCINTILAB"}
352                 \textcolor{keywordtype}{string} envDir = Environment.GetEnvironmentVariable(\textcolor{stringliteral}{"SCINTILAB"});
353                 \textcolor{keywordflow}{if} (envDir == null)
354                 \{
355                     \textcolor{comment}{// Miljøvariabelen "SCINTILAB" ble ikke funnet, vis feilmelding og avslutt Scintilab}
356                     MessageBox.Show(\textcolor{stringliteral}{"Miljøvariabelen SCINTILAB ble ikke funnet. Avslutter"});
357                     Close();
358                 \}
359 
360                 \textcolor{comment}{// Sett opp alle konfigurasjonsparametere}
361                 Config.ScintilabDir = envDir + Path.DirectorySeparatorChar;
362                 \textcolor{keywordflow}{if} (!Directory.Exists(Config.ScintilabDir))
363                     Directory.CreateDirectory(Config.ScintilabDir);
364                 Config.BkgDir = Config.ScintilabDir + \textcolor{stringliteral}{"BACKGROUND\(\backslash\)\(\backslash\)"};
365                 \textcolor{keywordflow}{if} (!Directory.Exists(Config.BkgDir))
366                     Directory.CreateDirectory(Config.BkgDir);
367                 Config.LibDir = Config.ScintilabDir + \textcolor{stringliteral}{"LIBRARY\(\backslash\)\(\backslash\)"};
368                 \textcolor{keywordflow}{if} (!Directory.Exists(Config.LibDir))
369                     Directory.CreateDirectory(Config.LibDir);
370                 Config.CalDir = Config.ScintilabDir + \textcolor{stringliteral}{"CALIBRATION\(\backslash\)\(\backslash\)"};
371                 \textcolor{keywordflow}{if} (!Directory.Exists(Config.CalDir))
372                     Directory.CreateDirectory(Config.CalDir);
373                 Config.TemplateDir = Config.ScintilabDir + \textcolor{stringliteral}{"TEMPLATE\(\backslash\)\(\backslash\)"};
374                 \textcolor{keywordflow}{if} (!Directory.Exists(Config.TemplateDir))
375                     Directory.CreateDirectory(Config.TemplateDir);
376                 Config.ArchiveDir = Config.ScintilabDir + \textcolor{stringliteral}{"ARCHIVE\(\backslash\)\(\backslash\)"};
377                 \textcolor{keywordflow}{if} (!Directory.Exists(Config.ArchiveDir))
378                     Directory.CreateDirectory(Config.ArchiveDir);
379                 Config.JobDir = Config.ScintilabDir + \textcolor{stringliteral}{"JOBS\(\backslash\)\(\backslash\)"};
380                 \textcolor{keywordflow}{if} (!Directory.Exists(Config.JobDir))
381                     Directory.CreateDirectory(Config.JobDir);
382                 Config.TempDir = Config.ScintilabDir + \textcolor{stringliteral}{"TEMP\(\backslash\)\(\backslash\)"};
383                 \textcolor{keywordflow}{if} (!Directory.Exists(Config.TempDir))
384                     Directory.CreateDirectory(Config.TempDir);
385                 Config.QADir = Config.ScintilabDir + \textcolor{stringliteral}{"QA\(\backslash\)\(\backslash\)"};
386                 \textcolor{keywordflow}{if} (!Directory.Exists(Config.QADir))
387                     Directory.CreateDirectory(Config.QADir);
388 
389                 \textcolor{comment}{// Hent katalogbane for Scintilab.exe}
390                 Config.ExeDir = (\textcolor{keyword}{new} FileInfo(System.Reflection.Assembly.GetEntryAssembly().Location))
      .Directory + \textcolor{stringliteral}{"\(\backslash\)\(\backslash\)"};      
391                 Config.TemplDir = Config.ExeDir + \textcolor{stringliteral}{"Templates"} + Path.DirectorySeparatorChar; 
392 
393                 Config.SysFile = Config.ScintilabDir + \textcolor{stringliteral}{"SYSTEM.XML"};
394                 \textcolor{keywordflow}{if} (!File.Exists(Config.SysFile))
395                     File.Copy(Config.TemplDir + Path.DirectorySeparatorChar + \textcolor{stringliteral}{"TEMPLATE-SYSTEM.XML"}, Config
      .SysFile); 
396                 Config.DetFile = Config.ScintilabDir + \textcolor{stringliteral}{"DETECTORS.XML"};
397                 \textcolor{keywordflow}{if} (!File.Exists(Config.DetFile))
398                     File.Copy(Config.TemplDir + Path.DirectorySeparatorChar + \textcolor{stringliteral}{"TEMPLATE-DETECTORS.XML"}, 
      Config.DetFile); 
399                 Config.BeakerFile = Config.ScintilabDir + \textcolor{stringliteral}{"BEAKERS.XML"};
400                 \textcolor{keywordflow}{if} (!File.Exists(Config.BeakerFile))
401                     File.Copy(Config.TemplDir + Path.DirectorySeparatorChar + \textcolor{stringliteral}{"TEMPLATE-BEAKERS.XML"}, 
      Config.BeakerFile); 
402                 Config.QABeakerFile = Config.ScintilabDir + \textcolor{stringliteral}{"QABEAKERS.XML"};
403                 \textcolor{keywordflow}{if} (!File.Exists(Config.QABeakerFile))
404                     File.Copy(Config.TemplDir + Path.DirectorySeparatorChar + \textcolor{stringliteral}{"TEMPLATE-QABEAKERS.XML"}, 
      Config.QABeakerFile); 
405                 Config.DefaultBkgQAFFile = Config.ScintilabDir + \textcolor{stringliteral}{"DEFAULT-BKG.QAF"};
406                 \textcolor{keywordflow}{if} (!File.Exists(Config.DefaultBkgQAFFile))
407                     File.Copy(Config.TemplDir + Path.DirectorySeparatorChar + \textcolor{stringliteral}{"TEMPLATE-DEFAULT-BKG.QAF"}, 
      Config.DefaultBkgQAFFile);
408 
409                 \textcolor{comment}{// Opprett REPORT.TPL basert på TEMPLATE-REPORT.TPL hvis den ikke finnes fra før under
       arbeidskatalogen}
410                 \textcolor{keywordflow}{if} (!File.Exists(Config.TemplateDir + \textcolor{stringliteral}{"REPORT.TPL"}))
411                     File.Copy(Config.TemplDir + \textcolor{stringliteral}{"TEMPLATE-REPORT.TPL"}, Config.TemplateDir + \textcolor{stringliteral}{"REPORT.TPL"});
412 
413                 \textcolor{comment}{// Opprett LIBRARY.NLB basert på TEMPLATE-LIBRARY.NLB hvis den ikke finnes fra før under
       arbeidskatalogen}
414                 \textcolor{keywordflow}{if} (!File.Exists(Config.LibDir + \textcolor{stringliteral}{"LIBRARY.NLB"}))
415                     File.Copy(Config.TemplDir + \textcolor{stringliteral}{"TEMPLATE-LIBRARY.NLB"}, Config.LibDir + \textcolor{stringliteral}{"LIBRARY.NLB"});
416 
417                 \textcolor{comment}{// Last inn systemparametere fra fil}
418                 \hyperlink{class_scintilab_1_1_form_main_ad41498eb151a72c77ad94c7285d0f506}{SysPar} = Utils.DeserializeSysPar();
419 
420                 \textcolor{comment}{// Be brukeren velge Genie2k katalog hvis systemparameter ikke har en gyldig en fra før}
421                 \textcolor{keywordflow}{if} (!Utils.ValidateGeniePath(\hyperlink{class_scintilab_1_1_form_main_ad41498eb151a72c77ad94c7285d0f506}{SysPar}, \hyperlink{class_scintilab_1_1_form_main_ad41498eb151a72c77ad94c7285d0f506}{SysPar}.
      \hyperlink{class_scintilab_1_1_system_parameters_a0a5d782455fab30269e4cd8263f89e99}{GenieDirectory}))
422                     Close();
423 
424                 \textcolor{comment}{// Sjekk at valgt Genie2k katalog ser fornuftig ut}
425                 \textcolor{keywordflow}{if}(!Directory.Exists(\hyperlink{class_scintilab_1_1_form_main_ad41498eb151a72c77ad94c7285d0f506}{SysPar}.\hyperlink{class_scintilab_1_1_system_parameters_a0a5d782455fab30269e4cd8263f89e99}{GenieDirectory} + Path.
      DirectorySeparatorChar + \textcolor{stringliteral}{"EXEFILES"}))
426                 \{
427                     MessageBox.Show(\textcolor{stringliteral}{"Finner ikke 'EXEFILES' katalogen, sjekk at rett katalog er valgt"});
428                     Close();
429                 \}
430 
431                 \textcolor{keywordflow}{if} (!File.Exists(\hyperlink{class_scintilab_1_1_form_main_ad41498eb151a72c77ad94c7285d0f506}{SysPar}.\hyperlink{class_scintilab_1_1_system_parameters_a0a5d782455fab30269e4cd8263f89e99}{GenieDirectory} + Path.DirectorySeparatorChar + \textcolor{stringliteral}{
      "EXEFILES"} + Path.DirectorySeparatorChar + \textcolor{stringliteral}{"QA.EXE"}))
432                 \{
433                     MessageBox.Show(\textcolor{stringliteral}{"Finner ikke QA.EXE, sjekk at 'Quality Assurance Software' pakken er
       installert"});
434                     Close();
435                 \}
436 
437                 \textcolor{comment}{// Legg til katalogseparatorer hvis de mangler}
438                 Utils.FixDirectorySeparator(ref SysPar.LimsExport);
439                 Utils.FixDirectorySeparator(ref SysPar.LimsImport);
440 
441                 \textcolor{comment}{// Kopier programmet mcainfo.exe fra "template" instalasjonskatalogen hvis den ikke finnes
       fra før}
442                 \textcolor{keywordflow}{if} (!File.Exists(Config.ExeDir + \textcolor{stringliteral}{"mcainfo.exe"}))
443                     File.Copy(Config.TemplDir + \textcolor{stringliteral}{"TEMPLATE-MCAINFO.EXE"}, Config.ExeDir + \textcolor{stringliteral}{"mcainfo.exe"});
444 
445                 \textcolor{comment}{// Last inn detektor definisjoner fra fil}
446                 \hyperlink{class_scintilab_1_1_form_main_a88f16134102d9e4c5630adf5ff97f090}{Detectors} = Utils.DeserializeDetectors();
447 
448                 \textcolor{comment}{// Se etter nye detektorer definert i Genie2k}
449                 \textcolor{keywordflow}{if} (!\hyperlink{class_scintilab_1_1_form_main_a158d3b89f669d3b2a24ba750caef3eec}{LookupNewDetectors}())
450                 \{
451                     \textcolor{comment}{// Deaktiver grensesnitt hvis filen for Genie2k detektordefinisjoner ikke finnes}
452                     btnMenuRegSample.Enabled = \textcolor{keyword}{false};
453                     btnMenuRefSample.Enabled = \textcolor{keyword}{false};
454                     btnMenuBkgSample.Enabled = \textcolor{keyword}{false};
455                     btnMenuBarcodeWizard.Enabled = \textcolor{keyword}{false};
456                     btnMenuBarcodeWizardRef.Enabled = \textcolor{keyword}{false};
457                     btnMenuBarcodeWizardBkg.Enabled = \textcolor{keyword}{false};
458                 \}
459 
460                 \textcolor{comment}{// Oppdater detektorer i grensesnittet}
461                 \hyperlink{class_scintilab_1_1_form_main_a7919f1d4c3819a3c85df4107bbf82a59}{UpdateDetectorLists}();
462 
463                 \textcolor{comment}{// Last inn geometrier fra fil}
464                 \hyperlink{class_scintilab_1_1_form_main_aaff2cbfd906f576997bce08ece74dae8}{Beakers} = Utils.DeserializeBeakers();
465 
466                 \textcolor{comment}{// Oppdater geometrier i grensesnittet}
467                 cboxAdmQABeaker.Items.Clear();
468                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Beakers.Count(); i++)
469                 \{
470                     lbAdmGeomList.Items.Add(\hyperlink{class_scintilab_1_1_form_main_aaff2cbfd906f576997bce08ece74dae8}{Beakers}[i].Name);
471                     \textcolor{comment}{//if(Beakers[i].InUse)}
472                         cboxAdmQABeaker.Items.Add(\hyperlink{class_scintilab_1_1_form_main_aaff2cbfd906f576997bce08ece74dae8}{Beakers}[i].Name);
473                 \}
474 
475                 \textcolor{comment}{// Last inn QA-geometrier fra fil}
476                 \hyperlink{class_scintilab_1_1_form_main_af318208d55e4a144a14abde1adc7559d}{QABeakers} = Utils.DeserializeQABeakers();
477                 \textcolor{comment}{// Oppdater QA-geometrier i grensesnittet}
478                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < QABeakers.Count(); i++)
479                 \{
480                     lbAdmQAList.Items.Add(\hyperlink{class_scintilab_1_1_form_main_af318208d55e4a144a14abde1adc7559d}{QABeakers}[i].Name);
481                 \}
482 
483                 \textcolor{comment}{// Oppdater diverse felter i grensesnittet}
484                 tbAdmGenieFolder.Text = SysPar.GenieDirectory;
485                 tbAdmSigma.Text = SysPar.ErrorMultiplier.ToString();
486                 tbAdmTemplate.Text = SysPar.ReportTemplate;
487                 cboxAdmSection.Text = SysPar.ReportSection;
488                 cboxAdmPlotScaleY.Text = SysPar.ReportScaleY;
489                 cboxAdmPlotScaleX.Text = SysPar.ReportScaleX;
490                 tbAdmLIMSImport.Text = SysPar.LimsImport;
491                 tbAdmLIMSExport.Text = SysPar.LimsExport;
492 
493                 cboxSampAdvPreTimeUnit.SelectedIndex = 0;
494                 cboxAdmDetPresetTimeUnit.SelectedIndex = 0;
495                 cboxAdmSection.SelectedIndex = 0;
496                 cboxSampQuantUnit.SelectedIndex = 0;
497                 cboxAdmQASampUnit.SelectedIndex = 0;
498                 cboxAdmDetContinuumFunc.SelectedIndex = 0;
499                 cboxAdmDetEffCalType.SelectedIndex = 0;
500 
501                 \textcolor{comment}{// Start objektet for overvåkning av jobb katalogen}
502                 watcher.Path = \hyperlink{class_scintilab_1_1_config_a0810c3c214672429b456af8f77e98632}{Config.JobDir};
503                 watcher.NotifyFilter = NotifyFilters.FileName;
504                 watcher.Filter = \textcolor{stringliteral}{"*.RPT"};
505                 watcher.Created += \textcolor{keyword}{new} FileSystemEventHandler(\hyperlink{class_scintilab_1_1_form_main_ab53847bf056f4cec151f5ad5d5e0ceec}{OnJobsChanged});
506                 watcher.Deleted += \textcolor{keyword}{new} FileSystemEventHandler(\hyperlink{class_scintilab_1_1_form_main_ab53847bf056f4cec151f5ad5d5e0ceec}{OnJobsChanged});
507                 watcher.EnableRaisingEvents = \textcolor{keyword}{true};
508 
509                 \textcolor{comment}{// Sett opp en "Idle" hendelse for Scintilab}
510                 Application.Idle += \textcolor{keyword}{new} EventHandler(\hyperlink{class_scintilab_1_1_form_main_ab8ea1ca503bf5fecfdf241a6813fbbca}{Application\_Idle});
511             \}
512             \textcolor{keywordflow}{catch} (Exception ex)
513             \{
514                 \textcolor{comment}{// Noe gikk galt under oppstart, vis feilmelding og avslutt}
515                 MessageBox.Show(ex.Message);
516                 Close();
517             \}
518         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ac34ad4400cb8a7b5d38feca1f620b3cb}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Generate\+Bat\+From\+Params@{Generate\+Bat\+From\+Params}}
\index{Generate\+Bat\+From\+Params@{Generate\+Bat\+From\+Params}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Generate\+Bat\+From\+Params}]{\setlength{\rightskip}{0pt plus 5cm}bool Scintilab.\+Form\+Main.\+Generate\+Bat\+From\+Params (
\begin{DoxyParamCaption}
\item[{{\bf Job\+Params}}]{jp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{class_scintilab_1_1_form_main_ac34ad4400cb8a7b5d38feca1f620b3cb}
Funksjon som genererer en .B\+A\+T fil som skal kjøres av Genie2k


\begin{DoxyParams}{Parametre}
{\em jp} & Data-\/struktur med parametere som skal benyttes i .B\+A\+T filen\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returnerer}
Sant hvis .B\+A\+T filen ble generert uten problemer, usant ellers 
\end{DoxyReturn}


Definisjon på linje 1642 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1643         \{
1644             \textcolor{comment}{// Opprett .BAT fil for analysering og skriv inn kommandoer og parametere}
1645             StreamWriter sw = \textcolor{keyword}{new} StreamWriter(Config.JobDir + jp.DetectorName + \textcolor{stringliteral}{".BAT"}, \textcolor{keyword}{false}, Encoding.
      GetEncoding(865));
1646             
1647             sw.Write(\textcolor{stringliteral}{"pars det:"} + jp.DetectorName + \textcolor{stringliteral}{" "});
1648             sw.Write(\textcolor{stringliteral}{"/stitle=\(\backslash\)""} + jp.OrderName + \textcolor{stringliteral}{"\(\backslash\)" "});
1649             sw.Write(\textcolor{stringliteral}{"/scollname=\(\backslash\)""} + jp.CollectorName + \textcolor{stringliteral}{"\(\backslash\)" "});
1650             sw.Write(\textcolor{stringliteral}{"/sdesc1=\(\backslash\)""} + jp.Description + \textcolor{stringliteral}{"\(\backslash\)" "});
1651             sw.Write(\textcolor{stringliteral}{"/sdesc4=\(\backslash\)""} + jp.SpecRef + \textcolor{stringliteral}{"\(\backslash\)" "});
1652             sw.Write(\textcolor{stringliteral}{"/sident=\(\backslash\)""} + jp.SampleID + \textcolor{stringliteral}{"\(\backslash\)" "});
1653             sw.Write(\textcolor{stringliteral}{"/stype=\(\backslash\)""} + jp.SampleType + \textcolor{stringliteral}{"\(\backslash\)" "});
1654             sw.Write(\textcolor{stringliteral}{"/squant="} + jp.SampleQuantity.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + \textcolor{stringliteral}{" "});
1655             sw.Write(\textcolor{stringliteral}{"/squanterr="} + jp.SampleQuantityError.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + \textcolor{stringliteral}{" "});
1656             sw.Write(\textcolor{stringliteral}{"/sunits=\(\backslash\)""} + jp.SampleQuantityUnit + \textcolor{stringliteral}{"\(\backslash\)" "});
1657             sw.Write(\textcolor{stringliteral}{"/sgeomtry=\(\backslash\)""} + jp.Geometry + \textcolor{stringliteral}{"\(\backslash\)" "});
1658             sw.Write(\textcolor{stringliteral}{"/builduptype=\(\backslash\)""} + jp.BuildupType + \textcolor{stringliteral}{"\(\backslash\)" "});
1659             sw.Write(\textcolor{stringliteral}{"/stime=\(\backslash\)""} + jp.BuildupStartDate.ToString() + \textcolor{stringliteral}{"\(\backslash\)" "});
1660             \textcolor{keywordflow}{if} (jp.BuildupType != \textcolor{stringliteral}{"NONE"})
1661                 sw.Write(\textcolor{stringliteral}{"/sdeposit=\(\backslash\)""} + jp.BuildupEndDate.ToString() + \textcolor{stringliteral}{"\(\backslash\)" "});
1662             sw.Write(\textcolor{stringliteral}{"/ssyserr="} + jp.RandomError.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + \textcolor{stringliteral}{" "});
1663             sw.Write(\textcolor{stringliteral}{"/ssysterr="} + jp.SystematicError.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + Environment.NewLine);
1664 
1665             \textcolor{keywordflow}{if} (jp.Operation != \textcolor{stringliteral}{"Bkg"})
1666                 sw.Write(\textcolor{stringliteral}{"movedata \(\backslash\)""} + jp.CalibrationFile + \textcolor{stringliteral}{"\(\backslash\)" det:"} + jp.DetectorName + \textcolor{stringliteral}{" /effcal
       /overwrite"} + Environment.NewLine);
1667 
1668             sw.Write(\textcolor{stringliteral}{"startmca det:"} + jp.DetectorName + \textcolor{stringliteral}{" "});
1669             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(jp.PresetCount))
1670                 sw.Write(\textcolor{stringliteral}{"/"} + jp.PresetCount + \textcolor{stringliteral}{"="} + jp.PresetCountValue.ToString() + \textcolor{stringliteral}{","} + 
      jp.PresetCountChanFrom.ToString() + \textcolor{stringliteral}{","} + jp.PresetCountChanTo.ToString() + \textcolor{stringliteral}{" "});
1671             \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(jp.PresetTime))
1672                 sw.Write(\textcolor{stringliteral}{"/"} + jp.PresetTime + \textcolor{stringliteral}{"="} + jp.PresetTimeValue.ToString());
1673             sw.WriteLine();
1674 
1675             sw.WriteLine(\textcolor{stringliteral}{"wait det:"} + jp.DetectorName + \textcolor{stringliteral}{" /acq"});
1676 
1677             sw.WriteLine(\textcolor{stringliteral}{"peak\_dif det:"} + jp.DetectorName + \textcolor{stringliteral}{" /channels="} + jp.SearchRegionFrom.ToString()
       + \textcolor{stringliteral}{","} + jp.SearchRegionTo.ToString() + \textcolor{stringliteral}{" /signif="} + jp.SignificanceThreshold.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) 
      + \textcolor{stringliteral}{" /ftol="} + jp.Tolerance.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}));
1678             sw.Write(\textcolor{stringliteral}{"area\_nl1 det:"} + jp.DetectorName + \textcolor{stringliteral}{" /channels="} + jp.PeakAreaRegionFrom.ToString() +
       \textcolor{stringliteral}{","} + jp.PeakAreaRegionTo.ToString() + \textcolor{stringliteral}{" "});
1679             sw.Write(\textcolor{stringliteral}{"/fcont="} + jp.Continuum.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + \textcolor{stringliteral}{" "});
1680             \textcolor{keywordflow}{if} (jp.CriticalLevel)
1681                 sw.Write(\textcolor{stringliteral}{"/critlevel "});
1682             \textcolor{keywordflow}{if} (jp.FitSinglets)
1683                 sw.Write(\textcolor{stringliteral}{"/fit "});
1684             \textcolor{keywordflow}{if} (jp.DisplayROIs)
1685                 sw.Write(\textcolor{stringliteral}{"/display\_rois "});
1686             \textcolor{keywordflow}{if} (jp.UseFixedTailParameter)
1687                 sw.Write(\textcolor{stringliteral}{"/fixtail "});
1688             \textcolor{keywordflow}{if} (jp.UseFixedFWHM)
1689                 sw.Write(\textcolor{stringliteral}{"/fixfwhm "});
1690             sw.WriteLine();
1691 
1692             sw.Write(\textcolor{stringliteral}{"pars det:"} + jp.DetectorName + \textcolor{stringliteral}{" /roipsbtyp=\(\backslash\)""} + jp.ContinuumFunction + \textcolor{stringliteral}{"\(\backslash\)"
       /prreject0pks="} + (jp.RejectZeroAreaPeaks ? \textcolor{stringliteral}{"1"} : \textcolor{stringliteral}{"0"}) + \textcolor{stringliteral}{" /prfwhmpkmult="} + jp.MaxFWHMSBetweenPeaks.ToString()
      .Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + \textcolor{stringliteral}{" "});
1693             sw.WriteLine(\textcolor{stringliteral}{"/prfwhmpkleft="} + jp.MaxFWHMSForLeftLimit.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + \textcolor{stringliteral}{"
       /prfwhmpkrght="} + jp.MaxFWHMSForRightLimit.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}));
1694 
1695             \textcolor{keywordflow}{if} (jp.Operation != \textcolor{stringliteral}{"Bkg"})
1696             \{
1697                 sw.WriteLine(\textcolor{stringliteral}{"areacor det:"} + jp.DetectorName + \textcolor{stringliteral}{" /bkgnd=\(\backslash\)""} + jp.BackgroundSubtractFile + \textcolor{stringliteral}{
      "\(\backslash\)""});
1698                 sw.WriteLine(\textcolor{stringliteral}{"effcor det:"} + jp.DetectorName + \textcolor{stringliteral}{" /"} + jp.EfficiencyCalibrationType);
1699                 sw.Write(\textcolor{stringliteral}{"nid\_intf det:"} + jp.DetectorName + \textcolor{stringliteral}{" /library=\(\backslash\)""} + jp.NIDLibraryFile + \textcolor{stringliteral}{"\(\backslash\)"
       /confid="} + jp.NIDConfidenceThreshold.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + \textcolor{stringliteral}{" "});
1700                 \textcolor{keywordflow}{if} (jp.PerformMDATest)
1701                     sw.Write(\textcolor{stringliteral}{"/mda\_test "});
1702                 \textcolor{keywordflow}{if} (jp.InhibitATDCorrection)
1703                     sw.Write(\textcolor{stringliteral}{"/noacqdecay "});
1704                 sw.WriteLine();
1705 
1706                 sw.WriteLine(\textcolor{stringliteral}{"pars det:"} + jp.DetectorName + \textcolor{stringliteral}{" /prusestrlib="} + (jp.UseStoredLibrary ? \textcolor{stringliteral}{"1"} 
      : \textcolor{stringliteral}{"0"}) + \textcolor{stringliteral}{" /mdaconfid="} + jp.MDAConfidenceFactor);
1707 
1708                 sw.WriteLine(\textcolor{stringliteral}{"MDA det:"} + jp.DetectorName);
1709                 sw.WriteLine(\textcolor{stringliteral}{"pars det:"} + jp.DetectorName + \textcolor{stringliteral}{" /activunits=\(\backslash\)"Bq\(\backslash\)" /activmult=37000"});
1710             \}
1711             sw.WriteLine(\textcolor{stringliteral}{"report det:"} + jp.DetectorName + \textcolor{stringliteral}{" /template=\(\backslash\)""} + jp.ReportTemplateFile + \textcolor{stringliteral}{"\(\backslash\)"
       /newfile /firstpg /newpg /outfile=\(\backslash\)""} + Config.JobDir + jp.DetectorName + \textcolor{stringliteral}{".RPT\(\backslash\)" /section=\(\backslash\)""} + 
      jp.ReportSection + \textcolor{stringliteral}{"\(\backslash\)" /EM="} + jp.Sigma.ToString());
1712             sw.WriteLine(\textcolor{stringliteral}{"movedata det:"} + jp.DetectorName + \textcolor{stringliteral}{" \(\backslash\)""} + Config.JobDir + jp.DetectorName + \textcolor{stringliteral}{"
      .CNF\(\backslash\)" /overwrite"});
1713 
1714             \textcolor{keywordflow}{if} (jp.Operation == \textcolor{stringliteral}{"Bkg"})
1715             \{
1716                 \textcolor{keywordtype}{string} qafFile = Config.QADir + jp.DetectorName + \textcolor{stringliteral}{"-BKG.QAF"};
1717                 \textcolor{keywordflow}{if}(!File.Exists(qafFile))
1718                     File.Copy(Config.DefaultBkgQAFFile, qafFile, \textcolor{keyword}{true});
1719                 sw.WriteLine(\textcolor{stringliteral}{"qaxfer det:"} + jp.DetectorName + \textcolor{stringliteral}{" \(\backslash\)""} + qafFile + \textcolor{stringliteral}{"\(\backslash\)""});
1720                 \textcolor{comment}{//sw.WriteLine("qaanalyz \(\backslash\)"" + qafFile + "\(\backslash\)" /REPORT=LAST /SAMPLE /SCREEN 1>>\(\backslash\)"" +
       Config.JobDir + jp.DetectorName + ".RPT\(\backslash\)"");}
1721                 sw.WriteLine(\textcolor{stringliteral}{"qaanalyz \(\backslash\)""} + qafFile + \textcolor{stringliteral}{"\(\backslash\)" /REPORT=LAST /SCREEN 1>>\(\backslash\)""} + Config.JobDir + 
      jp.DetectorName + \textcolor{stringliteral}{".RPT\(\backslash\)""});
1722             \}
1723             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (jp.Operation == \textcolor{stringliteral}{"Ref"})
1724             \{
1725                 Detector d = \hyperlink{class_scintilab_1_1_form_main_aff4482e0919480013a53fe56cfb374ba}{getDetectorByName}(jp.DetectorName);
1726                 \textcolor{keywordtype}{string} qabox = \hyperlink{class_scintilab_1_1_form_main_ad8de93638ebc50f712d85af269ba383d}{getQABoxFromDetector}(d, jp.Geometry);
1727                 \textcolor{keywordtype}{string} qafFile = Config.QADir + jp.DetectorName + \textcolor{stringliteral}{"-"} + jp.Geometry + \textcolor{stringliteral}{"-"} + qabox + \textcolor{stringliteral}{".QAF"};
1728                 \textcolor{comment}{/*if (!File.Exists(qafFile))}
1729 \textcolor{comment}{                \{}
1730 \textcolor{comment}{                    string defQafFile = Config.ScintilabDir + "DEFAULT-" + qabox + ".QAF";}
1731 \textcolor{comment}{                    if (!File.Exists(defQafFile))}
1732 \textcolor{comment}{                    \{}
1733 \textcolor{comment}{                        sw.Close();}
1734 \textcolor{comment}{                        MessageBox.Show("Mangler default QA fil " + defQafFile);}
1735 \textcolor{comment}{                        return false;}
1736 \textcolor{comment}{                    \}}
1737 \textcolor{comment}{                    File.Copy(defQafFile, qafFile, true);}
1738 \textcolor{comment}{                \}*/}
1739                 sw.WriteLine(\textcolor{stringliteral}{"qaxfer det:"} + jp.DetectorName + \textcolor{stringliteral}{" \(\backslash\)""} + qafFile + \textcolor{stringliteral}{"\(\backslash\)""});
1740                 sw.WriteLine(\textcolor{stringliteral}{"qaanalyz \(\backslash\)""} + qafFile + \textcolor{stringliteral}{"\(\backslash\)" /REPORT=LAST /SCREEN 1>>\(\backslash\)""} + Config.JobDir + 
      jp.DetectorName + \textcolor{stringliteral}{".RPT\(\backslash\)""});
1741             \}
1742             
1743             sw.Close();
1744             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1745         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ab1eef461219a3b724d3bf3af0cd68e94}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Generate\+Reanal\+Bat\+From\+Params@{Generate\+Reanal\+Bat\+From\+Params}}
\index{Generate\+Reanal\+Bat\+From\+Params@{Generate\+Reanal\+Bat\+From\+Params}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Generate\+Reanal\+Bat\+From\+Params}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+Generate\+Reanal\+Bat\+From\+Params (
\begin{DoxyParamCaption}
\item[{string}]{temp\+Name, }
\item[{string}]{archive\+Name, }
\item[{{\bf Job\+Params}}]{jp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{class_scintilab_1_1_form_main_ab1eef461219a3b724d3bf3af0cd68e94}
Funksjon som genererer en .B\+A\+T fil for reanalysering som skal kjøres av Genie2k


\begin{DoxyParams}{Parametre}
{\em temp\+Name} & Filbane (uten ending) hvor filer skal genereres \\
\hline
{\em archive\+Name} & Filbane (uten ending) hvor tidligere filer hentes fra \\
\hline
{\em jp} & Data-\/struktur med parametere som skal benyttes i .B\+A\+T filen \\
\hline
\end{DoxyParams}


Definisjon på linje 1754 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1755         \{
1756             \textcolor{comment}{// Opprett .BAT fil for reanalysering og skriv inn kommandoer og parametere}
1757             StreamWriter sw = \textcolor{keyword}{new} StreamWriter(tempName + \textcolor{stringliteral}{".BAT"});
1758             
1759             \textcolor{keywordtype}{string} cnfFile = archiveName + \textcolor{stringliteral}{".CNF"};
1760             \textcolor{keywordtype}{string} tmpCnfFile = tempName + \textcolor{stringliteral}{".CNF"};
1761             File.Copy(cnfFile, tmpCnfFile, \textcolor{keyword}{true});
1762 
1763             sw.Write(\textcolor{stringliteral}{"pars "} + tmpCnfFile + \textcolor{stringliteral}{" "});
1764             sw.Write(\textcolor{stringliteral}{"/stitle=\(\backslash\)""} + jp.OrderName + \textcolor{stringliteral}{"\(\backslash\)" "});
1765             sw.Write(\textcolor{stringliteral}{"/scollname=\(\backslash\)""} + jp.CollectorName + \textcolor{stringliteral}{"\(\backslash\)" "});
1766             sw.Write(\textcolor{stringliteral}{"/sdesc1=\(\backslash\)""} + jp.Description + \textcolor{stringliteral}{"\(\backslash\)" "});
1767             sw.Write(\textcolor{stringliteral}{"/sdesc4=\(\backslash\)""} + jp.SpecRef + \textcolor{stringliteral}{"\(\backslash\)" "});
1768             sw.Write(\textcolor{stringliteral}{"/sident=\(\backslash\)""} + jp.SampleID + \textcolor{stringliteral}{"\(\backslash\)" "});
1769             sw.Write(\textcolor{stringliteral}{"/stype=\(\backslash\)""} + jp.SampleType + \textcolor{stringliteral}{"\(\backslash\)" "});
1770             sw.Write(\textcolor{stringliteral}{"/squant="} + jp.SampleQuantity.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + \textcolor{stringliteral}{" "});
1771             sw.Write(\textcolor{stringliteral}{"/squanterr="} + jp.SampleQuantityError.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + \textcolor{stringliteral}{" "});
1772             sw.Write(\textcolor{stringliteral}{"/sunits=\(\backslash\)""} + jp.SampleQuantityUnit + \textcolor{stringliteral}{"\(\backslash\)" "});
1773             sw.Write(\textcolor{stringliteral}{"/sgeomtry=\(\backslash\)""} + jp.Geometry + \textcolor{stringliteral}{"\(\backslash\)" "});
1774             sw.Write(\textcolor{stringliteral}{"/builduptype=\(\backslash\)""} + jp.BuildupType + \textcolor{stringliteral}{"\(\backslash\)" "});
1775             sw.Write(\textcolor{stringliteral}{"/stime=\(\backslash\)""} + jp.BuildupStartDate.ToString() + \textcolor{stringliteral}{"\(\backslash\)" "});
1776             \textcolor{keywordflow}{if} (jp.BuildupType != \textcolor{stringliteral}{"NONE"})
1777                 sw.Write(\textcolor{stringliteral}{"/sdeposit=\(\backslash\)""} + jp.BuildupEndDate.ToString() + \textcolor{stringliteral}{"\(\backslash\)" "});
1778             sw.Write(\textcolor{stringliteral}{"/ssyserr="} + jp.RandomError.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + \textcolor{stringliteral}{" "});
1779             sw.Write(\textcolor{stringliteral}{"/ssysterr="} + jp.SystematicError.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + Environment.NewLine);
1780             
1781             sw.Write(\textcolor{stringliteral}{"movedata \(\backslash\)""} + jp.CalibrationFile + \textcolor{stringliteral}{"\(\backslash\)" "} + tmpCnfFile + \textcolor{stringliteral}{" /effcal /overwrite"} + 
      Environment.NewLine);
1782 
1783             sw.WriteLine(\textcolor{stringliteral}{"peak\_dif "} + tmpCnfFile + \textcolor{stringliteral}{" /channels="} + jp.SearchRegionFrom.ToString() + \textcolor{stringliteral}{","} + 
      jp.SearchRegionTo.ToString() + \textcolor{stringliteral}{" /signif="} + jp.SignificanceThreshold.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + \textcolor{stringliteral}{"
       /ftol="} + jp.Tolerance.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}));
1784             sw.Write(\textcolor{stringliteral}{"area\_nl1 "} + tmpCnfFile + \textcolor{stringliteral}{" /channels="} + jp.PeakAreaRegionFrom.ToString() + \textcolor{stringliteral}{","} + jp
      .PeakAreaRegionTo.ToString() + \textcolor{stringliteral}{" "});
1785             sw.Write(\textcolor{stringliteral}{"/fcont="} + jp.Continuum.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + \textcolor{stringliteral}{" "});
1786             \textcolor{keywordflow}{if} (jp.CriticalLevel)
1787                 sw.Write(\textcolor{stringliteral}{"/critlevel "});
1788             \textcolor{keywordflow}{if} (jp.FitSinglets)
1789                 sw.Write(\textcolor{stringliteral}{"/fit "});
1790             \textcolor{keywordflow}{if} (jp.DisplayROIs)
1791                 sw.Write(\textcolor{stringliteral}{"/display\_rois "});
1792             \textcolor{keywordflow}{if} (jp.UseFixedTailParameter)
1793                 sw.Write(\textcolor{stringliteral}{"/fixtail "});
1794             \textcolor{keywordflow}{if} (jp.UseFixedFWHM)
1795                 sw.Write(\textcolor{stringliteral}{"/fixfwhm "});
1796             sw.WriteLine();
1797 
1798             sw.Write(\textcolor{stringliteral}{"pars "} + tmpCnfFile + \textcolor{stringliteral}{" /roipsbtyp=\(\backslash\)""} + jp.ContinuumFunction + \textcolor{stringliteral}{"\(\backslash\)" /prreject0pks="} +
       (jp.RejectZeroAreaPeaks ? \textcolor{stringliteral}{"1"} : \textcolor{stringliteral}{"0"}) + \textcolor{stringliteral}{" /prfwhmpkmult="} + jp.MaxFWHMSBetweenPeaks.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{
      '.'}) + \textcolor{stringliteral}{" "});
1799             sw.WriteLine(\textcolor{stringliteral}{"/prfwhmpkleft="} + jp.MaxFWHMSForLeftLimit.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + \textcolor{stringliteral}{"
       /prfwhmpkrght="} + jp.MaxFWHMSForRightLimit.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}));
1800 
1801             sw.WriteLine(\textcolor{stringliteral}{"areacor "} + tmpCnfFile + \textcolor{stringliteral}{" /bkgnd=\(\backslash\)""} + jp.BackgroundSubtractFile + \textcolor{stringliteral}{"\(\backslash\)""});
1802             sw.WriteLine(\textcolor{stringliteral}{"effcor "} + tmpCnfFile + \textcolor{stringliteral}{" /"} + jp.EfficiencyCalibrationType);
1803             sw.Write(\textcolor{stringliteral}{"nid\_intf "} + tmpCnfFile + \textcolor{stringliteral}{" /library=\(\backslash\)""} + jp.NIDLibraryFile + \textcolor{stringliteral}{"\(\backslash\)" /confid="} + 
      jp.NIDConfidenceThreshold.ToString().Replace(\textcolor{charliteral}{','}, \textcolor{charliteral}{'.'}) + \textcolor{stringliteral}{" "});
1804             \textcolor{keywordflow}{if} (jp.PerformMDATest)
1805                 sw.Write(\textcolor{stringliteral}{"/mda\_test "});
1806             \textcolor{keywordflow}{if} (jp.InhibitATDCorrection)
1807                 sw.Write(\textcolor{stringliteral}{"/noacqdecay "});
1808             sw.WriteLine();
1809 
1810             sw.WriteLine(\textcolor{stringliteral}{"pars "} + tmpCnfFile + \textcolor{stringliteral}{" /prusestrlib="} + (jp.UseStoredLibrary ? \textcolor{stringliteral}{"1"} : \textcolor{stringliteral}{"0"}) + \textcolor{stringliteral}{"
       /mdaconfid="} + jp.MDAConfidenceFactor);
1811 
1812             sw.WriteLine(\textcolor{stringliteral}{"MDA "} + tmpCnfFile);
1813             sw.WriteLine(\textcolor{stringliteral}{"pars "} + tmpCnfFile + \textcolor{stringliteral}{" /activunits=\(\backslash\)"Bq\(\backslash\)" /activmult=37000"});
1814 
1815             sw.WriteLine(\textcolor{stringliteral}{"report "} + tmpCnfFile + \textcolor{stringliteral}{" /template=\(\backslash\)""} + jp.ReportTemplateFile + \textcolor{stringliteral}{"\(\backslash\)" /newfile
       /firstpg /newpg /outfile=\(\backslash\)""} + Config.TempDir + jp.SpecRef + \textcolor{stringliteral}{".RPT\(\backslash\)" /section=\(\backslash\)""} + jp.ReportSection + \textcolor{stringliteral}{"\(\backslash\)"
       /EM="} + jp.Sigma.ToString());
1816             
1817             sw.Close();
1818         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a28d6ae4e27996e005e989b7256a45460}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!get\+Beaker\+By\+Name@{get\+Beaker\+By\+Name}}
\index{get\+Beaker\+By\+Name@{get\+Beaker\+By\+Name}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{get\+Beaker\+By\+Name}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Beaker} Scintilab.\+Form\+Main.\+get\+Beaker\+By\+Name (
\begin{DoxyParamCaption}
\item[{string}]{name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a28d6ae4e27996e005e989b7256a45460}
Hent beger basert på navn


\begin{DoxyParams}{Parametre}
{\em name} & Navn på beger\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returnerer}
Beger, eller null hvis ikke funnet 
\end{DoxyReturn}


Definisjon på linje 78 i filen Form\+Main.\+cs.


\begin{DoxyCode}
79         \{
80             \textcolor{comment}{// Sjekk om navn på beger finnes i lista over begere}
81 
82             \textcolor{comment}{// Mellomlager for funnet beger}
83             Beaker b = null;
84             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Beakers.Count; i++)
85             \{
86                 \textcolor{keywordflow}{if} (\hyperlink{class_scintilab_1_1_form_main_aaff2cbfd906f576997bce08ece74dae8}{Beakers}[i].Name.ToUpper() == name.ToUpper())
87                 \{
88                     \textcolor{comment}{// Beger funnet, mellomlagre beger og avslutt løkke}
89                     b = \hyperlink{class_scintilab_1_1_form_main_aaff2cbfd906f576997bce08ece74dae8}{Beakers}[i];
90                     \textcolor{keywordflow}{break};
91                 \}
92             \}
93             \textcolor{keywordflow}{return} b;
94         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_aff4482e0919480013a53fe56cfb374ba}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!get\+Detector\+By\+Name@{get\+Detector\+By\+Name}}
\index{get\+Detector\+By\+Name@{get\+Detector\+By\+Name}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{get\+Detector\+By\+Name}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Detector} Scintilab.\+Form\+Main.\+get\+Detector\+By\+Name (
\begin{DoxyParamCaption}
\item[{string}]{name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_aff4482e0919480013a53fe56cfb374ba}
Hent detektor basert på navn


\begin{DoxyParams}{Parametre}
{\em name} & Navn på detektor som skal hentes\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returnerer}
Detektor, eller null hvis ikke funnet 
\end{DoxyReturn}


Definisjon på linje 53 i filen Form\+Main.\+cs.


\begin{DoxyCode}
54         \{
55             \textcolor{comment}{// Sjekk om navn på detektor finnes i lista over detektorer}
56 
57             \textcolor{comment}{// Mellomlager for funnet detektor}
58             Detector d = null;
59             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Detectors.Count; i++)
60             \{
61                 \textcolor{keywordflow}{if} (\hyperlink{class_scintilab_1_1_form_main_a88f16134102d9e4c5630adf5ff97f090}{Detectors}[i].Name.ToUpper() == name.ToUpper())
62                 \{
63                     \textcolor{comment}{// Detektor funnet, mellomlagre detektor og avslutt løkke}
64                     d = \hyperlink{class_scintilab_1_1_form_main_a88f16134102d9e4c5630adf5ff97f090}{Detectors}[i];
65                     \textcolor{keywordflow}{break};
66                 \}
67             \}
68             \textcolor{keywordflow}{return} d;
69         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_aaac85ee2e1b1f107ed9f653435c6b025}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!get\+File@{get\+File}}
\index{get\+File@{get\+File}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{get\+File}]{\setlength{\rightskip}{0pt plus 5cm}string Scintilab.\+Form\+Main.\+get\+File (
\begin{DoxyParamCaption}
\item[{string}]{title, }
\item[{string}]{dir, }
\item[{string}]{filter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_aaac85ee2e1b1f107ed9f653435c6b025}
Funksjon for å be brukeren velge en fil


\begin{DoxyParams}{Parametre}
{\em title} & Tittel på filvelgeren \\
\hline
{\em dir} & Startkatalog for filvelgeren \\
\hline
{\em filter} & Filter for filvelgeren\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returnerer}
Filbanen til valgt fil, eller tom streng hvis brukeren avbryter 
\end{DoxyReturn}


Definisjon på linje 1222 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1223         \{
1224             \textcolor{comment}{// Fyll inn dialog med default verdier}
1225             ofd.InitialDirectory = dir;
1226             ofd.Filter = filter;
1227             ofd.Title = title;
1228             \textcolor{comment}{// Vis dialog og returner valgt filbane}
1229             \textcolor{keywordflow}{if} (ofd.ShowDialog() == System.Windows.Forms.DialogResult.OK)
1230                 \textcolor{keywordflow}{return} ofd.FileName;
1231             \textcolor{keywordflow}{return} \textcolor{stringliteral}{""};
1232         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_af1dbdd5d9d15c9a665a249394091b4f1}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!get\+Folder@{get\+Folder}}
\index{get\+Folder@{get\+Folder}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{get\+Folder}]{\setlength{\rightskip}{0pt plus 5cm}string Scintilab.\+Form\+Main.\+get\+Folder (
\begin{DoxyParamCaption}
\item[{string}]{title}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_af1dbdd5d9d15c9a665a249394091b4f1}
Funksjon for å be brukeren velge en katalog


\begin{DoxyParams}{Parametre}
{\em title} & Tittel på katalogvelgeren\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returnerer}
Katalogbanen til valgt katalog, eller tom streng hvis brukeren avbryter 
\end{DoxyReturn}


Definisjon på linje 1241 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1242         \{
1243             \textcolor{comment}{// Fyll inn dialog med default verdier}
1244             fbd.SelectedPath = Path.GetPathRoot(Environment.SystemDirectory);            
1245             fbd.ShowNewFolderButton = \textcolor{keyword}{false};
1246             fbd.Description = title;
1247             \textcolor{comment}{// Vis dialog og returner valgt katalogbane}
1248             \textcolor{keywordflow}{if} (fbd.ShowDialog() == System.Windows.Forms.DialogResult.OK)
1249                 \textcolor{keywordflow}{return} fbd.SelectedPath;
1250             \textcolor{keywordflow}{return} \textcolor{stringliteral}{""};
1251         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ae8b1f6bb6a734ec6ad54794d345ce650}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!get\+Q\+A\+Beaker\+By\+Name@{get\+Q\+A\+Beaker\+By\+Name}}
\index{get\+Q\+A\+Beaker\+By\+Name@{get\+Q\+A\+Beaker\+By\+Name}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{get\+Q\+A\+Beaker\+By\+Name}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Q\+A\+Beaker} Scintilab.\+Form\+Main.\+get\+Q\+A\+Beaker\+By\+Name (
\begin{DoxyParamCaption}
\item[{string}]{name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ae8b1f6bb6a734ec6ad54794d345ce650}
Hent Q\+A-\/beger basert på navn


\begin{DoxyParams}{Parametre}
{\em name} & Navn på Q\+A-\/beger\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returnerer}
Q\+A-\/beger, eller null hvis ikke funnet 
\end{DoxyReturn}


Definisjon på linje 103 i filen Form\+Main.\+cs.


\begin{DoxyCode}
104         \{
105             \textcolor{comment}{// Sjekk om navn på QA-beger finnes i lista over QA-begere}
106 
107             \textcolor{comment}{// Mellomlager for funnet QA-beger}
108             QABeaker b = null;
109             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < QABeakers.Count; i++)
110             \{
111                 \textcolor{keywordflow}{if} (\hyperlink{class_scintilab_1_1_form_main_af318208d55e4a144a14abde1adc7559d}{QABeakers}[i].Name.ToUpper() == name.ToUpper())
112                 \{
113                     \textcolor{comment}{// QA-beger funnet, mellomlagre QA-beger og avslutt løkke}
114                     b = \hyperlink{class_scintilab_1_1_form_main_af318208d55e4a144a14abde1adc7559d}{QABeakers}[i];
115                     \textcolor{keywordflow}{break};
116                 \}
117             \}
118             \textcolor{keywordflow}{return} b;
119         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ad8de93638ebc50f712d85af269ba383d}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!get\+Q\+A\+Box\+From\+Detector@{get\+Q\+A\+Box\+From\+Detector}}
\index{get\+Q\+A\+Box\+From\+Detector@{get\+Q\+A\+Box\+From\+Detector}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{get\+Q\+A\+Box\+From\+Detector}]{\setlength{\rightskip}{0pt plus 5cm}string Scintilab.\+Form\+Main.\+get\+Q\+A\+Box\+From\+Detector (
\begin{DoxyParamCaption}
\item[{{\bf Detector}}]{d, }
\item[{string}]{geom}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ad8de93638ebc50f712d85af269ba383d}
Funksjon som henter navn på Q\+A-\/beger fra detektor


\begin{DoxyParams}{Parametre}
{\em d} & Detektor det skal hentes fra \\
\hline
{\em geom} & Beger det skal hentes fra\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returnerer}
Navn på Q\+A-\/beger funnet, eller tom streng hvis Q\+A-\/beger ikke ble funnet 
\end{DoxyReturn}


Definisjon på linje 1828 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1829         \{
1830             \textcolor{comment}{// Gå gjennom alle QA-begere definert for valgt detektor}
1831             \textcolor{keywordflow}{foreach} (BeakerInfo bi \textcolor{keywordflow}{in} d.BeakerInfoList)
1832             \{
1833                 \textcolor{comment}{// Returner navn på QA-beger hvis funnet}
1834                 \textcolor{keywordflow}{if} (bi.BeakerName.ToUpper() == geom.ToUpper())
1835                 \{
1836                     \textcolor{keywordflow}{return} bi.QAName;
1837                 \}
1838             \}
1839             \textcolor{keywordflow}{return} null;
1840         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ae3cd051584a2767807a47d1d45a13d4e}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Integer\+\_\+\+Key\+Press@{Integer\+\_\+\+Key\+Press}}
\index{Integer\+\_\+\+Key\+Press@{Integer\+\_\+\+Key\+Press}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Integer\+\_\+\+Key\+Press}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+Integer\+\_\+\+Key\+Press (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Key\+Press\+Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ae3cd051584a2767807a47d1d45a13d4e}
Hendelse for validere inntasting av hel-\/tall 

Definisjon på linje 2440 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2441         \{
2442             \textcolor{keywordflow}{if} (!\hyperlink{class_scintilab_1_1_form_main_a6cb8b069c0d1b488dbf0abef2b8fcfb3}{checkValidInteger}(e.KeyChar))
2443             \{
2444                 e.Handled = \textcolor{keyword}{true};
2445                 \textcolor{keywordflow}{return};
2446             \}
2447         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ab155e944ae752fdde630c1f4a4827902}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!lb\+Adm\+Det\+List\+\_\+\+Selected\+Index\+Changed@{lb\+Adm\+Det\+List\+\_\+\+Selected\+Index\+Changed}}
\index{lb\+Adm\+Det\+List\+\_\+\+Selected\+Index\+Changed@{lb\+Adm\+Det\+List\+\_\+\+Selected\+Index\+Changed}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{lb\+Adm\+Det\+List\+\_\+\+Selected\+Index\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+lb\+Adm\+Det\+List\+\_\+\+Selected\+Index\+Changed (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ab155e944ae752fdde630c1f4a4827902}
Hendelse for valg av detektor under administrasjonssidene 

Definisjon på linje 889 i filen Form\+Main.\+cs.


\begin{DoxyCode}
890         \{
891             \textcolor{comment}{// Deaktiver høyre panel hvis ingen detektor er valgt}
892             \textcolor{keywordflow}{if} (lbAdmDetList.SelectedIndices.Count == 0)
893             \{
894                 splitAdmDet.Panel2.Enabled = \textcolor{keyword}{false};
895                 \textcolor{keywordflow}{return};
896             \}
897 
898             \textcolor{comment}{// Fyll inn felter under admin detektor info med valgt detektor}
899             splitAdmDet.Panel2.Enabled = \textcolor{keyword}{true};
900             Detector d = \hyperlink{class_scintilab_1_1_form_main_aff4482e0919480013a53fe56cfb374ba}{getDetectorByName}(lbAdmDetList.SelectedItem.ToString());
901             \hyperlink{class_scintilab_1_1_form_main_a79453298b8521054e8012d9df6fe6b93}{clearAdmDetectors}();
902             cbAdmDetInUse.Checked = d.InUse;
903             tbAdmDetSearchRegionFrom.Text = d.SearchRegionFrom.ToString();
904             tbAdmDetSearchRegionTo.Text = d.SearchRegionTo.ToString(); 
905             tbAdmDetTolerance.Text = d.Tolerance.ToString();
906             tbAdmDetSignThresh.Text = d.SignificanceThreshold.ToString();
907             tbAdmDetPeakAreaRegionFrom.Text = d.PeakAreaRegionFrom.ToString();
908             tbAdmDetPeakAreaRegionTo.Text = d.PeakAreaRegionTo.ToString();
909             tbAdmDetContinuum.Text = d.Continuum.ToString();
910             cboxAdmDetContinuumFunc.Text = d.ContinuumFunction;
911             cbAdmDetCriticalLevel.Checked = d.CriticalLevel;
912             cbAdmDetFitSinglets.Checked = d.FitSinglets;
913             cbAdmDetDisplayROIs.Checked = d.DisplayROIs;
914             cbAdmDetUseFixedTailParam.Checked = d.UseFixedTailParameter;
915             cbAdmDetRejectZeroAreaPeaks.Checked = d.RejectZeroAreaPeaks;
916             cbAdmDetUseFixedFWHM.Checked = d.UseFixedFWHM;
917             tbAdmDetMaxFHWMBetPeaks.Text = d.MaxFWHMSBetweenPeaks.ToString();
918             tbAdmDetMaxFHWMLeftLim.Text = d.MaxFWHMSForLeftLimit.ToString();
919             tbAdmDetMaxFHWMRightLim.Text = d.MaxFWHMSForRightLimit.ToString();
920             tbAdmDetBkgSub.Text = d.BackgroundSubtract;
921             cboxAdmDetEffCalType.Text = d.EfficiencyCalibrationType;
922             tbAdmDetNIDLib.Text = d.NIDLibrary;
923             tbAdmDetNIDConfThresh.Text = d.NIDConfidenceThreshold.ToString();
924             tbAdmDetMDAConfFac.Text = d.MDAConfidenceFactor.ToString();
925             cbAdmDetInhibitATDCorr.Checked = d.InhibitATDCorrection;
926             cbAdmDetUseStoredLib.Checked = d.UseStoredLibrary;
927             cbAdmDetPerfMDATest.Checked = d.PerformMDATest;
928             cboxAdmDetPresetArea.Text = d.PresetCount;
929             tbAdmDetPresetAreaValue.Text = d.PresetCountValue.ToString();
930             tbAdmDetPresetAreaChanFrom.Text = d.PresetCountChanFrom.ToString();
931             tbAdmDetPresetAreaChanTo.Text = d.PresetCountChanTo.ToString();
932             cboxAdmDetPresetTime.Text = d.PresetTime;
933             tbAdmDetPresetTimeValue.Text = d.PresetTimeValue.ToString();
934             cboxAdmDetPresetTimeUnit.Text = d.PresetTimeUnit;
935             tbAdmDetRandErr.Text = d.RandomError.ToString();
936             tbAdmDetSysErr.Text = d.SystematicError.ToString();
937             \textcolor{comment}{// Fyll inn grid for beaker/calibration/QA for valgt detektor}
938             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < d.BeakerInfoList.Count; j++)
939             \{
940                 BeakerInfo bi = d.BeakerInfoList[j];
941                 gridAdmDetGeomCalQA.Rows.Add(bi.BeakerName, bi.CalibrationFile, bi.QAName);
942             \}
943 
944             cboxAdmDetQAPresetArea.Text = d.QARefPresetArea;
945             tbAdmDetQAPresetAreaValue.Text = d.QARefPresetAreaValue.ToString();
946             tbAdmDetQAPresetAreaChanFrom.Text = d.QARefPresetAreaChanFrom.ToString();
947             tbAdmDetQAPresetAreaChanTo.Text = d.QARefPresetAreaChanTo.ToString();
948 
949             cboxAdmDetQAPresetTime.Text = d.QARefPresetTime;
950             tbAdmDetQAPresetTimeValue.Text = d.QARefPresetTimeValue.ToString();
951             cboxAdmDetQAPresetTimeUnit.Text = d.QARefPresetTimeUnit;
952 
953             cboxAdmDetBkgPresetArea.Text = d.QABkgPresetArea;
954             tbAdmDetBkgPresetAreaValue.Text = d.QABkgPresetAreaValue.ToString();
955             tbAdmDetBkgPresetAreaChanFrom.Text = d.QABkgPresetAreaChanFrom.ToString();
956             tbAdmDetBkgPresetAreaChanTo.Text = d.QABkgPresetAreaChanTo.ToString();
957 
958             cboxAdmDetBkgPresetTime.Text = d.QABkgPresetTime;
959             tbAdmDetBkgPresetTimeValue.Text = d.QABkgPresetTimeValue.ToString();
960             cboxAdmDetBkgPresetTimeUnit.Text = d.QABkgPresetTimeUnit;
961         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ae3ae1f6cec4d61f964b0c4e0a4468a4c}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!lb\+Adm\+Geom\+List\+\_\+\+Selected\+Index\+Changed@{lb\+Adm\+Geom\+List\+\_\+\+Selected\+Index\+Changed}}
\index{lb\+Adm\+Geom\+List\+\_\+\+Selected\+Index\+Changed@{lb\+Adm\+Geom\+List\+\_\+\+Selected\+Index\+Changed}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{lb\+Adm\+Geom\+List\+\_\+\+Selected\+Index\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+lb\+Adm\+Geom\+List\+\_\+\+Selected\+Index\+Changed (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ae3ae1f6cec4d61f964b0c4e0a4468a4c}
Hendelse for valg av beger under administrasjonssidene 

Definisjon på linje 966 i filen Form\+Main.\+cs.


\begin{DoxyCode}
967         \{
968             \textcolor{comment}{// Avslutt hvis ingen geometri er valgt}
969             \textcolor{keywordflow}{if} (lbAdmGeomList.SelectedIndices.Count == 0)
970             \{
971                 splitAdmGeom.Panel2.Enabled = \textcolor{keyword}{false};
972                 \textcolor{keywordflow}{return};
973             \}
974 
975             \textcolor{comment}{// Fyll inn felter under admin beaker info for valgt beger}
976             splitAdmGeom.Panel2.Enabled = \textcolor{keyword}{true};
977             \hyperlink{class_scintilab_1_1_form_main_af1716116c6d9b7a6900fb3ac10b7cf26}{clearAdmBeakers}();
978             Beaker b = \hyperlink{class_scintilab_1_1_form_main_a28d6ae4e27996e005e989b7256a45460}{getBeakerByName}(lbAdmGeomList.SelectedItem.ToString());
979             cbAdmGeomInUse.Checked = b.InUse;
980             tbAdmGeomManufacturer.Text = b.Manufacturer;
981         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_adb8fdd0575ceff94bb6a842e25b9f0f1}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!lb\+Adm\+Q\+A\+List\+\_\+\+Selected\+Index\+Changed@{lb\+Adm\+Q\+A\+List\+\_\+\+Selected\+Index\+Changed}}
\index{lb\+Adm\+Q\+A\+List\+\_\+\+Selected\+Index\+Changed@{lb\+Adm\+Q\+A\+List\+\_\+\+Selected\+Index\+Changed}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{lb\+Adm\+Q\+A\+List\+\_\+\+Selected\+Index\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+lb\+Adm\+Q\+A\+List\+\_\+\+Selected\+Index\+Changed (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_adb8fdd0575ceff94bb6a842e25b9f0f1}
Hendelse for valg av Q\+A-\/beger under administrasjonssidene 

Definisjon på linje 986 i filen Form\+Main.\+cs.


\begin{DoxyCode}
987         \{
988             \textcolor{comment}{// Avbryt hvis ingen QA-beger er valgt}
989             \textcolor{keywordflow}{if} (lbAdmQAList.SelectedIndices.Count == 0)
990             \{
991                 splitAdmQA.Panel2.Enabled = \textcolor{keyword}{false};
992                 \textcolor{keywordflow}{return};
993             \}
994 
995             \textcolor{comment}{// Fyll inn felter under admin QA-beger info med valgt QA-beger}
996             splitAdmQA.Panel2.Enabled = \textcolor{keyword}{true};
997             \hyperlink{class_scintilab_1_1_form_main_a94e0c785ff92478f3bb21311a6bdf50f}{clearAdmQABeakers}();
998             QABeaker b = \hyperlink{class_scintilab_1_1_form_main_ae8b1f6bb6a734ec6ad54794d345ce650}{getQABeakerByName}(lbAdmQAList.SelectedItem.ToString());
999             cbAdmQAInUse.Checked = b.InUse;
1000             cboxAdmQABeaker.Text = b.BeakerName;
1001             dtAdmQARefDate.Value = b.RefDate;
1002             dtAdmQARefTime.Value = b.RefDate;
1003             tbAdmQASampType.Text = b.SampleType;
1004             tbAdmQASampQuant.Text = b.SampleQuantity.ToString();
1005             cboxAdmQASampUnit.Text = b.Unit;
1006             tbAdmQASampUnc.Text = b.Uncertainty.ToString();
1007         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a158d3b89f669d3b2a24ba750caef3eec}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Lookup\+New\+Detectors@{Lookup\+New\+Detectors}}
\index{Lookup\+New\+Detectors@{Lookup\+New\+Detectors}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Lookup\+New\+Detectors}]{\setlength{\rightskip}{0pt plus 5cm}bool Scintilab.\+Form\+Main.\+Lookup\+New\+Detectors (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a158d3b89f669d3b2a24ba750caef3eec}
Funksjon for å sjekke om det finnes nye detektor definisjoner i Genie2k som ikke er funnet før. Eventuelle nye detektorer vil bli lagt til i \hyperlink{namespace_scintilab}{Scintilab} hvis brukeren ønsker det

\begin{DoxyReturn}{Returnerer}
Usant hvis Genie2k .W\+S\+P filen ikke finnes, Sant ellers 
\end{DoxyReturn}


Definisjon på linje 562 i filen Form\+Main.\+cs.


\begin{DoxyCode}
563         \{
564             \textcolor{comment}{// Opprett filbane til Genie2k detektor definisjoner}
565             \textcolor{keywordtype}{string} machineName = Environment.MachineName;
566             \textcolor{keywordtype}{string} wspFile = SysPar.GenieDirectory + \textcolor{stringliteral}{"/MIDFILES/"} + machineName + \textcolor{stringliteral}{".WSP"};
567             \textcolor{keywordflow}{if} (!File.Exists(wspFile))
568             \{
569                 \textcolor{comment}{// Genie2k detektor definisjoner ble ikke funnet, vis feilmelding og avslutt}
570                 MessageBox.Show(\textcolor{stringliteral}{"WSP filen "} + wspFile + \textcolor{stringliteral}{" ble ikke funnet"});
571                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
572             \}
573 
574             \textcolor{comment}{// Les inn detektor definisjoner fra Genie2k}
575             StreamReader sr = \textcolor{keyword}{new} StreamReader(wspFile);
576             \textcolor{keywordtype}{bool} found;
577             \textcolor{keywordflow}{while} (!sr.EndOfStream)
578             \{
579                 found = \textcolor{keyword}{false};
580                 \textcolor{keywordtype}{string} det = sr.ReadLine().Trim(); \textcolor{comment}{// Les neste detektornavn fra filen}
581                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Detectors.Count; i++)
582                 \{
583                     \textcolor{keywordflow}{if} (\hyperlink{class_scintilab_1_1_form_main_a88f16134102d9e4c5630adf5ff97f090}{Detectors}[i].Name.ToUpper() == det.ToUpper())
584                         found = \textcolor{keyword}{true}; \textcolor{comment}{// Detektornavnet finnes fra før}
585                 \}
586 
587                 \textcolor{keywordflow}{if} (!found)
588                 \{
589                     \textcolor{comment}{// Ny detektor funnet i Genie2k, spør brukeren om den skal legges til i Scintilab}
590                      DialogResult res = MessageBox.Show(\textcolor{stringliteral}{"Vil du legge til detektor "} + det + \textcolor{stringliteral}{"?"} + 
      Environment.NewLine + Environment.NewLine + \textcolor{stringliteral}{"Husk å konfigurere nye detektorer under Administrasjonssiden"}, \textcolor{stringliteral}{"Ny
       detektor funnet"}, MessageBoxButtons.YesNo);
591                      \textcolor{keywordflow}{if} (res == DialogResult.Yes)
592                      \{
593                          \textcolor{comment}{// Opprett og legg til ny detektor}
594                          Detector newDet = \textcolor{keyword}{new} Detector();
595                          newDet.Name = det;
596                          Detectors.Add(newDet);
597                      \}
598                 \}
599             \}
600             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
601         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a4793aee20cbfead78e08f36997b9837c}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!lv\+Detectors\+\_\+\+Selected\+Index\+Changed@{lv\+Detectors\+\_\+\+Selected\+Index\+Changed}}
\index{lv\+Detectors\+\_\+\+Selected\+Index\+Changed@{lv\+Detectors\+\_\+\+Selected\+Index\+Changed}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{lv\+Detectors\+\_\+\+Selected\+Index\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+lv\+Detectors\+\_\+\+Selected\+Index\+Changed (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a4793aee20cbfead78e08f36997b9837c}
Hendelse for valg av detektor 

Definisjon på linje 786 i filen Form\+Main.\+cs.


\begin{DoxyCode}
787         \{
788             \textcolor{keywordflow}{if} (lvDetectors.SelectedIndices.Count == 0) \textcolor{comment}{// Avbryt hvis ingen detektor er valgt}
789                 \textcolor{keywordflow}{return};
790             
791             Detector d = \hyperlink{class_scintilab_1_1_form_main_aff4482e0919480013a53fe56cfb374ba}{getDetectorByName}(lvDetectors.SelectedItems[0].Text);
792 
793             \textcolor{comment}{// Hvis valgt detektor allerede har en pågående jobb, gå til jobb info og avbryt}
794             \textcolor{keywordflow}{if} (\hyperlink{class_scintilab_1_1_form_main_a0fc122d41cfd2269400517c27dfb2aa3}{DetectorHasJob}(d))
795             \{
796                 tabs.SelectedTab = tabJobs;
797                 \textcolor{keywordflow}{return};
798             \}
799 
800             \textcolor{comment}{// Oppdater status}
801             lblStatus.Text = \textcolor{stringliteral}{"Sjekker om detektor "} + d.Name + \textcolor{stringliteral}{" er klar"};
802             Application.DoEvents();
803 
804             \textcolor{comment}{// SJekk om detektor er klar for bruk}
805             \textcolor{keywordflow}{if} (!Utils.IsDetectorReady(d, ref lblStatus))
806             \{
807                 tabs.SelectedTab = tabMenu;
808                 \textcolor{keywordflow}{return};
809             \}
810             
811             \textcolor{comment}{// Lagre valgt detektor i parameter strukturen og fyll inn felter i prøveinfo}
812             SelInfo.SelectedDetector = d;
813             \hyperlink{class_scintilab_1_1_form_main_a5aefdcf34c90024ca153c8b8f1200c01}{populateSampleView}(\hyperlink{class_scintilab_1_1_form_main_a57c8340ae2caaec775ad70d8036514fb}{SelInfo});
814         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a2432aabab8e149c90ce3c5de9779d33a}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Menu\+Item\+Admin\+\_\+\+Click@{Menu\+Item\+Admin\+\_\+\+Click}}
\index{Menu\+Item\+Admin\+\_\+\+Click@{Menu\+Item\+Admin\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Menu\+Item\+Admin\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+Menu\+Item\+Admin\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a2432aabab8e149c90ce3c5de9779d33a}
Hendelse for å vise administrasjonssidene 

Definisjon på linje 679 i filen Form\+Main.\+cs.


\begin{DoxyCode}
680         \{
681             \textcolor{comment}{// Skift til admin fanen}
682             tabs.SelectedTab = tabAdmin;
683         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a14289005c3867f1744618030dc33d79c}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Menu\+Item\+Exit\+\_\+\+Click@{Menu\+Item\+Exit\+\_\+\+Click}}
\index{Menu\+Item\+Exit\+\_\+\+Click@{Menu\+Item\+Exit\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Menu\+Item\+Exit\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+Menu\+Item\+Exit\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a14289005c3867f1744618030dc33d79c}
Hendelse for program avslutt 

Definisjon på linje 306 i filen Form\+Main.\+cs.


\begin{DoxyCode}
307         \{
308             \textcolor{comment}{// Avslutt Scintilab}
309             Close();
310         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a6d7ebeb5c9dadf53b29f7faccdad6102}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Menu\+Item\+Logout\+\_\+\+Click@{Menu\+Item\+Logout\+\_\+\+Click}}
\index{Menu\+Item\+Logout\+\_\+\+Click@{Menu\+Item\+Logout\+\_\+\+Click}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Menu\+Item\+Logout\+\_\+\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+Menu\+Item\+Logout\+\_\+\+Click (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a6d7ebeb5c9dadf53b29f7faccdad6102}
Hendelse for å logge ut av \hyperlink{namespace_scintilab}{Scintilab} 

Definisjon på linje 2377 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2378         \{
2379             \textcolor{comment}{// Tøm felter for bruker}
2380             tabs.SelectedTab = tabMenu;
2381             lblStatusUsername.Text = \textcolor{stringliteral}{""};
2382 
2383             \textcolor{comment}{// Vis vindu for innlogging}
2384             FormLogin form = \textcolor{keyword}{new} FormLogin();
2385             form.ShowDialog();
2386             \textcolor{keywordflow}{if} (form.DialogResult != System.Windows.Forms.DialogResult.OK)
2387                 Close(); \textcolor{comment}{// Avslutt Scintilab}
2388 
2389             \textcolor{comment}{// Sett felter for bruker (har logget inn)}
2390             Config.Username = form.Username;
2391             lblStatusUsername.Text = \hyperlink{class_scintilab_1_1_config_a46bec74f1139be16639b257d38580f22}{Config.Username};
2392         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ab53847bf056f4cec151f5ad5d5e0ceec}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!On\+Jobs\+Changed@{On\+Jobs\+Changed}}
\index{On\+Jobs\+Changed@{On\+Jobs\+Changed}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{On\+Jobs\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+On\+Jobs\+Changed (
\begin{DoxyParamCaption}
\item[{object}]{source, }
\item[{File\+System\+Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ab53847bf056f4cec151f5ad5d5e0ceec}
Hendelse for endringer i J\+O\+B\+S katalogen 

Definisjon på linje 547 i filen Form\+Main.\+cs.


\begin{DoxyCode}
548         \{
549             \textcolor{comment}{// Hvis jobb katalogen har forandringer, sett en indikator for oppdatering av grensesnittet}
550             \textcolor{keywordflow}{if} (e.ChangeType == WatcherChangeTypes.Created || e.ChangeType == WatcherChangeTypes.Deleted)
551             \{
552                 \hyperlink{class_scintilab_1_1_form_main_a751a47b90ebd11367991fc095818d8a2}{updateJobs} = \textcolor{keyword}{true};
553             \}
554         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ace8f1fb51afa44804deec60a6dc42bcb}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!populate\+Samp\+Geom@{populate\+Samp\+Geom}}
\index{populate\+Samp\+Geom@{populate\+Samp\+Geom}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{populate\+Samp\+Geom}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+populate\+Samp\+Geom (
\begin{DoxyParamCaption}
\item[{string}]{det\+Name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ace8f1fb51afa44804deec60a6dc42bcb}
Fyll inn gyldige begere under prøveinfo for valg detektor


\begin{DoxyParams}{Parametre}
{\em det\+Name} & Navn på valgt detektor \\
\hline
\end{DoxyParams}


Definisjon på linje 256 i filen Form\+Main.\+cs.


\begin{DoxyCode}
257         \{
258             Detector d = \hyperlink{class_scintilab_1_1_form_main_aff4482e0919480013a53fe56cfb374ba}{getDetectorByName}(detName); \textcolor{comment}{// Hent datastruktur for detektor}
259             cboxSampGeom.Items.Clear(); \textcolor{comment}{// Tøm dropdown for geometrier}
260             \textcolor{comment}{// Legg til alle detektorens geometrier i dropdown for geometrier}
261             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < d.BeakerInfoList.Count; i++)
262                 cboxSampGeom.Items.Add(d.BeakerInfoList[i].BeakerName);
263         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a2d2ec0fa77e4dd0a81bb186b8021b210}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!populate\+Samp\+Geom\+With\+Q\+A@{populate\+Samp\+Geom\+With\+Q\+A}}
\index{populate\+Samp\+Geom\+With\+Q\+A@{populate\+Samp\+Geom\+With\+Q\+A}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{populate\+Samp\+Geom\+With\+Q\+A}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+populate\+Samp\+Geom\+With\+Q\+A (
\begin{DoxyParamCaption}
\item[{string}]{det\+Name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a2d2ec0fa77e4dd0a81bb186b8021b210}
Fyll inn gyldige begere under prøveinfo for valg detektor (kun de som har Q\+A-\/beger)


\begin{DoxyParams}{Parametre}
{\em det\+Name} & Navn på valgt detektor \\
\hline
\end{DoxyParams}


Definisjon på linje 270 i filen Form\+Main.\+cs.


\begin{DoxyCode}
271         \{
272             Detector d = \hyperlink{class_scintilab_1_1_form_main_aff4482e0919480013a53fe56cfb374ba}{getDetectorByName}(detName); \textcolor{comment}{// Hent datastruktur for detektor}
273             cboxSampGeom.Items.Clear(); \textcolor{comment}{// Tøm dropdown for geometrier}
274             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < d.BeakerInfoList.Count; i++)
275                 \textcolor{comment}{// Legg til geometri hvis den har QA-geometri definert}
276                 \textcolor{keywordflow}{if} (!String.IsNullOrEmpty(d.BeakerInfoList[i].QAName))
277                     cboxSampGeom.Items.Add(d.BeakerInfoList[i].BeakerName);
278         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a93fd0bccb6ec721eca356f868939e68b}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!populate\+Sample\+From\+File@{populate\+Sample\+From\+File}}
\index{populate\+Sample\+From\+File@{populate\+Sample\+From\+File}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{populate\+Sample\+From\+File}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+populate\+Sample\+From\+File (
\begin{DoxyParamCaption}
\item[{string}]{filename}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a93fd0bccb6ec721eca356f868939e68b}
Funksjon for å fylle inn feltene under prøveinfo fra en fil


\begin{DoxyParams}{Parametre}
{\em filename} & Filbanen til filen med parametere \\
\hline
\end{DoxyParams}


Definisjon på linje 1324 i filen Form\+Main.\+cs.


\begin{DoxyCode}
1325         \{
1326             \textcolor{comment}{// Fyll inn felter under prøve info med parametere fra fil}
1327             \textcolor{keywordtype}{string} line;
1328             StreamReader sr = File.OpenText(filename);
1329             line = sr.ReadLine();
1330             \textcolor{keywordtype}{char}[] sep = \{ \textcolor{charliteral}{'|'} \};
1331             \textcolor{keywordtype}{string}[] Items = line.Split(sep);
1332             tbSampOrder.Text = Items[0];
1333             tbSampID.Text = Items[1];
1334             tbSampType.Text = Items[2];
1335             tbSampQuant.Text = Items[3];
1336             tbSampQuantUnc.Text = Items[4];
1337             cboxSampQuantUnit.Text = Items[5];
1338             cboxSampGeom.Text = Items[6];
1339             DateTime dt = DateTime.Parse(Items[7]);
1340             dtSampBuildNoneDate.Value = dt;
1341             dtSampBuildNoneTime.Value = dt;
1342             tbSampComment.Text = Items[8];
1343             tabsSamples.SelectedTab = tabSamplesParams;
1344             tabsBuildup.SelectedTab = tabBuildupNone;
1345             tabs.SelectedTab = tabSample;
1346             sr.Close();
1347         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a5aefdcf34c90024ca153c8b8f1200c01}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!populate\+Sample\+View@{populate\+Sample\+View}}
\index{populate\+Sample\+View@{populate\+Sample\+View}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{populate\+Sample\+View}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+populate\+Sample\+View (
\begin{DoxyParamCaption}
\item[{{\bf Selection\+Info}}]{si}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a5aefdcf34c90024ca153c8b8f1200c01}
Funksjon for å fylle inn feltene under prøveinfo


\begin{DoxyParams}{Parametre}
{\em si} & Data-\/struktur med parametere som skal fylles inn i feltene \\
\hline
\end{DoxyParams}


Definisjon på linje 2514 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2515         \{
2516             Detector d = si.SelectedDetector;
2517 
2518             \hyperlink{class_scintilab_1_1_form_main_a01c213a0d1456773b92d4d431a9d1cdb}{clearSampParams}();
2519             \hyperlink{class_scintilab_1_1_form_main_ace8f1fb51afa44804deec60a6dc42bcb}{populateSampGeom}(d.Name);
2520 
2521             lblToolsDetector.Text = d.Name;
2522             tbSampCollector.Text = \hyperlink{class_scintilab_1_1_config_a46bec74f1139be16639b257d38580f22}{Config.Username};
2523 
2524             tbSampAdvRandErr.Text = d.RandomError.ToString();
2525             tbSampAdvSystErr.Text = d.SystematicError.ToString();
2526 
2527             tbSampAnalTolerance.Text = d.Tolerance.ToString();
2528             tbSampAnalSigThresh.Text = d.SignificanceThreshold.ToString();
2529             tbSampAnalContinuum.Text = d.Continuum.ToString();
2530             cboxSampAnalContinuumFunc.Text = d.ContinuumFunction;
2531             cbSampAnalCritLev.Checked = d.CriticalLevel;
2532             cbSampAnalFitSinglets.Checked = d.FitSinglets;
2533             cbSampAnalDispRois.Checked = d.DisplayROIs;
2534             cbSampAnalUseFixed.Checked = d.UseFixedTailParameter;
2535             cbSampAnalRejectZero.Checked = d.RejectZeroAreaPeaks;
2536             cbSampAnalFixedFWHM.Checked = d.UseFixedFWHM;
2537             cboxSampAnalEffCal.Text = d.EfficiencyCalibrationType;
2538             tbSampAnalMaxFWHMBetween.Text = d.MaxFWHMSBetweenPeaks.ToString();
2539             tbSampAnalMaxFWHMLeft.Text = d.MaxFWHMSForLeftLimit.ToString();
2540             tbSampAnalMaxFWHMRight.Text = d.MaxFWHMSForRightLimit.ToString();
2541             tbSampAnalBkgSub.Text = d.BackgroundSubtract;
2542             tbSampAnalNIDLib.Text = d.NIDLibrary;
2543             tbSampAnalNIDConfThresh.Text = d.NIDConfidenceThreshold.ToString();
2544             tbSampAnalMDAConfFac.Text = d.MDAConfidenceFactor.ToString();
2545             cbSampAnalInhibitATD.Checked = d.InhibitATDCorrection;
2546             cbSampAnalUseStoredLib.Checked = d.UseStoredLibrary;
2547             cbSampAnalPerformMDA.Checked = d.PerformMDATest;
2548 
2549             \textcolor{keywordflow}{if} (si.AnalType == \textcolor{stringliteral}{"Bkg"})
2550             \{
2551                 lblSampAnalType.Text = \textcolor{stringliteral}{"Bakgrunnsmåling"};
2552                 tbSampDesc.Text = \textcolor{stringliteral}{"Bakgrunn "} + DateTime.Now.ToShortDateString();
2553                 cboxSampGeom.Text = \textcolor{stringliteral}{""};
2554                 tbSampQuant.Text = \textcolor{stringliteral}{"0"};
2555                 cboxSampAdvPreArea.Text = d.QABkgPresetArea;
2556                 tbSampAdvPreAreaValue.Text = d.QABkgPresetAreaValue.ToString();
2557                 tbSampAdvPreAreaChanFrom.Text = d.QABkgPresetAreaChanFrom.ToString();
2558                 tbSampAdvPreAreaChanTo.Text = d.QABkgPresetAreaChanTo.ToString();
2559                 cboxSampAdvPreTime.Text = d.QABkgPresetTime;
2560                 tbSampAdvPreTimeValue.Text = d.QABkgPresetTimeValue.ToString();
2561                 cboxSampAdvPreTimeUnit.Text = d.QABkgPresetTimeUnit;
2562                 lblSampAnalType.Text = \textcolor{stringliteral}{"Bakgrunnsmåling"};
2563                 \hyperlink{class_scintilab_1_1_form_main_ad85e690e8d5fa96cbf9c0a7632bd7140}{SetSampleFieldsStatus}(\textcolor{keyword}{false});
2564             \}
2565             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (si.AnalType == \textcolor{stringliteral}{"Ref"})
2566             \{
2567                 lblSampAnalType.Text = \textcolor{stringliteral}{"Referansemåling"};
2568                 \hyperlink{class_scintilab_1_1_form_main_a2d2ec0fa77e4dd0a81bb186b8021b210}{populateSampGeomWithQA}(si.SelectedDetector.Name);
2569 
2570                 tbSampDesc.Text = \textcolor{stringliteral}{"Referansemåling "} + DateTime.Now.ToShortDateString();
2571                 \textcolor{keywordflow}{if} (si.IsWizard)
2572                 \{
2573                     cboxSampGeom.Text = si.SelectedBeakerInfo.BeakerName;
2574                     QABeaker qab = \hyperlink{class_scintilab_1_1_form_main_ae8b1f6bb6a734ec6ad54794d345ce650}{getQABeakerByName}(si.SelectedBeakerInfo.QAName);
2575                     tbSampQuant.Text = qab.SampleQuantity.ToString();
2576                     tbSampID.Text = si.SelectedBeakerInfo.QAName;
2577                     tbSampType.Text = qab.SampleType;
2578                     cboxSampQuantUnit.Text = qab.Unit;
2579                     tbSampQuantUnc.Text = qab.Uncertainty.ToString();
2580                     \hyperlink{class_scintilab_1_1_form_main_ab744904cac6a4bf90ebbe326b658e2e5}{addCalFilesToSamp}(d, si.SelectedBeakerInfo.BeakerName);
2581                     dtSampBuildNoneDate.Value = qab.RefDate;
2582                     dtSampBuildNoneTime.Value = qab.RefDate;
2583                 \}
2584                 cboxSampAdvPreArea.Text = d.QARefPresetArea;
2585                 tbSampAdvPreAreaValue.Text = d.QARefPresetAreaValue.ToString();
2586                 tbSampAdvPreAreaChanFrom.Text = d.QARefPresetAreaChanFrom.ToString();
2587                 tbSampAdvPreAreaChanTo.Text = d.QARefPresetAreaChanTo.ToString();
2588                 cboxSampAdvPreTime.Text = d.QARefPresetTime;
2589                 tbSampAdvPreTimeValue.Text = d.QARefPresetTimeValue.ToString();
2590                 cboxSampAdvPreTimeUnit.Text = d.QARefPresetTimeUnit;
2591                 lblSampAnalType.Text = \textcolor{stringliteral}{"Referansemåling"};
2592                 tabsBuildup.SelectedTab = tabBuildupNone;
2593                 \hyperlink{class_scintilab_1_1_form_main_ad85e690e8d5fa96cbf9c0a7632bd7140}{SetSampleFieldsStatus}(\textcolor{keyword}{false});
2594                 \textcolor{keywordflow}{if}(!si.IsWizard)
2595                     cboxSampGeom.Enabled = \textcolor{keyword}{true};
2596             \}
2597             \textcolor{keywordflow}{else}
2598             \{
2599                 lblSampAnalType.Text = \textcolor{stringliteral}{"Regulær måling"};
2600                 \textcolor{keywordflow}{if} (cboxSampGeom.Items.Count == 1)
2601                     cboxSampGeom.SelectedIndex = 0;
2602 
2603                 \textcolor{keywordflow}{if}(si.IsWizard)
2604                     \hyperlink{class_scintilab_1_1_form_main_a93fd0bccb6ec721eca356f868939e68b}{populateSampleFromFile}(si.SelectedLIMSFile);
2605 
2606                 cboxSampAdvPreArea.Text = d.PresetCount;
2607                 tbSampAdvPreAreaValue.Text = d.PresetCountValue.ToString();
2608                 tbSampAdvPreAreaChanFrom.Text = d.PresetCountChanFrom.ToString();
2609                 tbSampAdvPreAreaChanTo.Text = d.PresetCountChanTo.ToString();
2610                 cboxSampAdvPreTime.Text = d.PresetTime;
2611                 tbSampAdvPreTimeValue.Text = d.PresetTimeValue.ToString();
2612                 cboxSampAdvPreTimeUnit.Text = d.PresetTimeUnit;
2613                 tbSampAnalTolerance.Text = d.Tolerance.ToString();
2614                 tbSampAnalSigThresh.Text = d.SignificanceThreshold.ToString();
2615                 tbSampAnalContinuum.Text = d.Continuum.ToString();
2616                 cboxSampAnalContinuumFunc.Text = d.ContinuumFunction;
2617                 cbSampAnalCritLev.Checked = d.CriticalLevel;
2618                 cbSampAnalFitSinglets.Checked = d.FitSinglets;
2619                 cbSampAnalDispRois.Checked = d.DisplayROIs;
2620                 cbSampAnalUseFixed.Checked = d.UseFixedTailParameter;
2621                 cbSampAnalRejectZero.Checked = d.RejectZeroAreaPeaks;
2622                 cbSampAnalFixedFWHM.Checked = d.UseFixedFWHM;
2623                 cboxSampAnalEffCal.Text = d.EfficiencyCalibrationType;
2624                 tbSampAnalMaxFWHMBetween.Text = d.MaxFWHMSBetweenPeaks.ToString();
2625                 tbSampAnalMaxFWHMLeft.Text = d.MaxFWHMSForLeftLimit.ToString();
2626                 tbSampAnalMaxFWHMRight.Text = d.MaxFWHMSForRightLimit.ToString();
2627                 tbSampAnalBkgSub.Text = d.BackgroundSubtract;
2628                 tbSampAnalNIDLib.Text = d.NIDLibrary;
2629                 tbSampAnalNIDConfThresh.Text = d.NIDConfidenceThreshold.ToString();
2630                 tbSampAnalMDAConfFac.Text = d.MDAConfidenceFactor.ToString();
2631                 cbSampAnalInhibitATD.Checked = d.InhibitATDCorrection;
2632                 cbSampAnalUseStoredLib.Checked = d.UseStoredLibrary;
2633                 cbSampAnalPerformMDA.Checked = d.PerformMDATest;
2634                 \hyperlink{class_scintilab_1_1_form_main_ad85e690e8d5fa96cbf9c0a7632bd7140}{SetSampleFieldsStatus}(\textcolor{keyword}{true});
2635             \}
2636 
2637             tabs.SelectedTab = tabSample;
2638 
2639             \textcolor{keywordflow}{if} (si.DoStart)
2640                 \hyperlink{class_scintilab_1_1_form_main_a12209de63c7a7c7d6790466e9be3edd5}{btnSampStart\_Click}(null, null);
2641         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_ad85e690e8d5fa96cbf9c0a7632bd7140}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Set\+Sample\+Fields\+Status@{Set\+Sample\+Fields\+Status}}
\index{Set\+Sample\+Fields\+Status@{Set\+Sample\+Fields\+Status}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Set\+Sample\+Fields\+Status}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+Set\+Sample\+Fields\+Status (
\begin{DoxyParamCaption}
\item[{bool}]{enable}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ad85e690e8d5fa96cbf9c0a7632bd7140}
Funksjon for å sette alle prøveinfofelter til enten aktiv eller inaktiv


\begin{DoxyParams}{Parametre}
{\em enable} & Status som feltene skal settes til \\
\hline
\end{DoxyParams}


Definisjon på linje 821 i filen Form\+Main.\+cs.


\begin{DoxyCode}
822         \{
823             \textcolor{comment}{// Sett status på alle felter i prøveinfo}
824             btnSampReadBarcode.Enabled = enable;
825             tbSampOrder.Enabled = enable;
826             tbSampDesc.Enabled = enable;
827             tbSampID.Enabled = enable;
828             tbSampType.Enabled = enable;
829             tbSampQuant.Enabled = enable;
830             tbSampQuantUnc.Enabled = enable;
831             cboxSampQuantUnit.Enabled = enable;
832             cboxSampGeom.Enabled = enable;
833             tbSampComment.Enabled = enable;
834             tabsBuildup.Enabled = enable;
835             cboxSampAdvCal.Enabled = enable;
836             tbSampAdvRandErr.Enabled = enable;
837             tbSampAdvSystErr.Enabled = enable;
838             cboxSampAdvPreArea.Enabled = enable;
839             tbSampAdvPreAreaValue.Enabled = enable;
840             tbSampAdvPreAreaChanFrom.Enabled = enable;
841             tbSampAdvPreAreaChanTo.Enabled = enable;
842             cboxSampAdvPreTime.Enabled = enable;
843             tbSampAdvPreTimeValue.Enabled = enable;
844             cboxSampAdvPreTimeUnit.Enabled = enable;
845             tbSampAnalTolerance.Enabled = enable;
846             tbSampAnalSigThresh.Enabled = enable;
847             tbSampAnalContinuum.Enabled = enable;
848             cboxSampAnalContinuumFunc.Enabled = enable;
849             cbSampAnalCritLev.Enabled = enable;
850             cbSampAnalFitSinglets.Enabled = enable;
851             cbSampAnalDispRois.Enabled = enable;
852             cbSampAnalUseFixed.Enabled = enable;
853             cbSampAnalRejectZero.Enabled = enable;
854             cbSampAnalFixedFWHM.Enabled = enable;
855             cboxSampAnalEffCal.Enabled = enable;
856             tbSampAnalMaxFWHMBetween.Enabled = enable;
857             tbSampAnalMaxFWHMLeft.Enabled = enable;
858             tbSampAnalMaxFWHMRight.Enabled = enable;
859             tbSampAnalBkgSub.Enabled = enable;
860             tbSampAnalNIDLib.Enabled = enable;
861             tbSampAnalNIDConfThresh.Enabled = enable;
862             tbSampAnalMDAConfFac.Enabled = enable;
863             cbSampAnalInhibitATD.Enabled = enable;
864             cbSampAnalUseStoredLib.Enabled = enable;
865             cbSampAnalPerformMDA.Enabled = enable;
866             btnSampAnalBkgSub.Enabled = enable;
867             btnSampAnalNIDLib.Enabled = enable;
868         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_aa8c918f5dc9b6c05a02109bf41eec156}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!tabs\+\_\+\+Selected\+Index\+Changed@{tabs\+\_\+\+Selected\+Index\+Changed}}
\index{tabs\+\_\+\+Selected\+Index\+Changed@{tabs\+\_\+\+Selected\+Index\+Changed}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{tabs\+\_\+\+Selected\+Index\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+tabs\+\_\+\+Selected\+Index\+Changed (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_aa8c918f5dc9b6c05a02109bf41eec156}
Hendelse for skifte av aktivt skilleark 

Definisjon på linje 697 i filen Form\+Main.\+cs.


\begin{DoxyCode}
698         \{
699             \textcolor{comment}{// Diverse oppdateringer i grensesnittet}
700             lblToolsInterface.Text = tabs.SelectedTab.Text;
701             lblStatus.Text = \textcolor{stringliteral}{""};
702 
703             \textcolor{comment}{// Aktiver/Deaktiver "back" knappen basert på valgt fane}
704             \textcolor{keywordflow}{if} (tabs.SelectedTab == tabMenu)
705                 btnBack.Enabled = \textcolor{keyword}{false};
706             \textcolor{keywordflow}{else}
707                 btnBack.Enabled = \textcolor{keyword}{true};
708 
709             \textcolor{comment}{// Oppdater jobb informasjon hvis valgt fane er jobb fanen}
710             \textcolor{keywordflow}{if}(tabs.SelectedTab == tabJobs)
711                 \hyperlink{class_scintilab_1_1_form_main_a26420269c1a616c31de7521deebbef5f}{updateGridJobs}();
712 
713             \textcolor{comment}{// Oppdater grensesnittet hvis valgt fane ikke prøve informasjon}
714             \textcolor{keywordflow}{if} (tabs.SelectedTab != tabSample)
715             \{
716                 tabsSamples.SelectedTab = tabSamplesParams;
717                 tabsBuildup.SelectedTab = tabBuildupNone;
718 
719                 lblToolsDetector.Text = \textcolor{stringliteral}{""};
720                 \hyperlink{class_scintilab_1_1_form_main_a389e9c6697c567d84058d178053a837c}{isReanal} = \textcolor{keyword}{false};
721                 cboxSampAdvPreArea.Enabled = \textcolor{keyword}{true};
722                 tbSampAdvPreAreaValue.Enabled = \textcolor{keyword}{true};
723                 tbSampAdvPreAreaChanFrom.Enabled = \textcolor{keyword}{true};
724                 tbSampAdvPreAreaChanTo.Enabled = \textcolor{keyword}{true};
725                 cboxSampAdvPreTime.Enabled = \textcolor{keyword}{true};
726                 tbSampAdvPreTimeValue.Enabled = \textcolor{keyword}{true};
727                 cboxSampAdvPreTimeUnit.Enabled = \textcolor{keyword}{true};
728             \}
729             \textcolor{keywordflow}{else}
730             \{
731                 \textcolor{comment}{// Valgt fane er prøve informasjon}
732 
733                 \textcolor{comment}{// Hent valgt detektor}
734                 Detector d = \hyperlink{class_scintilab_1_1_form_main_aff4482e0919480013a53fe56cfb374ba}{getDetectorByName}(lblToolsDetector.Text);
735 
736                 \textcolor{comment}{// Oppdater grensesnittet basert på om dette er en reanalysering eller ikke}
737                 \textcolor{keywordflow}{if} (\hyperlink{class_scintilab_1_1_form_main_a389e9c6697c567d84058d178053a837c}{isReanal})
738                 \{
739                     lblSampIsReanal.Text = \textcolor{stringliteral}{"Reanalysering"};
740                     btnSampStart.Text = \textcolor{stringliteral}{"Reanalyser"};
741                 \}
742                 \textcolor{keywordflow}{else}
743                 \{
744                     lblSampIsReanal.Text = \textcolor{stringliteral}{""};
745                     btnSampStart.Text = \textcolor{stringliteral}{"Start"};
746                     tbSampRef.Text = d.Name + DateTime.Now.Year.ToString().Substring(2, 2) + String.Format(\textcolor{stringliteral}{
      "\{0:0000\}"}, d.SpectrumCounter + 1);
747                 \}
748             \}
749 
750             \textcolor{comment}{// Oppdater grensesnittet hvis valgt fane er admin}
751             \textcolor{keywordflow}{if} (tabs.SelectedTab != tabAdmin)
752             \{
753                 \hyperlink{class_scintilab_1_1_form_main_af1716116c6d9b7a6900fb3ac10b7cf26}{clearAdmBeakers}();
754                 lbAdmGeomList.ClearSelected();
755                 \hyperlink{class_scintilab_1_1_form_main_a79453298b8521054e8012d9df6fe6b93}{clearAdmDetectors}();
756                 lbAdmDetList.ClearSelected();
757                 \hyperlink{class_scintilab_1_1_form_main_a94e0c785ff92478f3bb21311a6bdf50f}{clearAdmQABeakers}();
758                 lbAdmQAList.ClearSelected();
759             \}
760 
761             \textcolor{comment}{// Oppdater grensesnittet hvis valgt fane er detektor meny}
762             \textcolor{keywordflow}{if} (tabs.SelectedTab == tabDetectors)
763             \{
764                 \textcolor{keywordflow}{foreach} (ListViewItem item \textcolor{keywordflow}{in} lvDetectors.Items)
765                     item.Selected = \textcolor{keyword}{false};
766             \}
767         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a947d821789ec1a55af6af94c2faea82d}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!tv\+Archive\+\_\+\+After\+Select@{tv\+Archive\+\_\+\+After\+Select}}
\index{tv\+Archive\+\_\+\+After\+Select@{tv\+Archive\+\_\+\+After\+Select}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{tv\+Archive\+\_\+\+After\+Select}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+tv\+Archive\+\_\+\+After\+Select (
\begin{DoxyParamCaption}
\item[{object}]{sender, }
\item[{Tree\+View\+Event\+Args}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a947d821789ec1a55af6af94c2faea82d}
Hendelse for skifte av kategori under arkivet 

Definisjon på linje 2002 i filen Form\+Main.\+cs.


\begin{DoxyCode}
2003         \{
2004             \textcolor{keywordflow}{if} (e.Node.Level == 0) \textcolor{comment}{// Detektorer}
2005             \{
2006                 \textcolor{comment}{// Opprett en årstall node for hver katalog som finnes under denne detektor katalogen}
2007                 \textcolor{keywordtype}{string} selectedDir = e.Node.Text;
2008                 e.Node.Nodes.Clear();
2009                 gridArchive.Rows.Clear();
2010                 \textcolor{keywordtype}{char}[] seps = \{ Path.DirectorySeparatorChar \};
2011                 \textcolor{keywordtype}{string}[] dirs = Directory.GetDirectories(Config.ArchiveDir + Path.DirectorySeparatorChar + 
      selectedDir);
2012                 \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{string} dir \textcolor{keywordflow}{in} dirs)
2013                 \{
2014                     \textcolor{keywordtype}{string}[] pathItems = dir.Split(seps, StringSplitOptions.RemoveEmptyEntries);
2015                     TreeNode tn = \textcolor{keyword}{new} TreeNode(pathItems[pathItems.Length - 1]);
2016                     e.Node.Nodes.Add(tn);
2017                 \}
2018             \}
2019             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (e.Node.Level == 1) \textcolor{comment}{// Årstall}
2020             \{
2021                 \textcolor{comment}{// Fyll inn alle analyseresultater i arkivlista}
2022                 \textcolor{keywordtype}{string} yearDir = e.Node.Text;
2023                 \textcolor{keywordtype}{string} detDir = e.Node.Parent.Text;
2024                 \textcolor{keywordtype}{string}[] files = Directory.GetFiles(Config.ArchiveDir + detDir + 
      Path.DirectorySeparatorChar + yearDir, \textcolor{stringliteral}{"*.CNF"});
2025                 \textcolor{keywordtype}{char}[] seps = \{ \textcolor{charliteral}{'-'} \};
2026                 gridArchive.Rows.Clear();
2027                 \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{string} file \textcolor{keywordflow}{in} files)
2028                 \{
2029                     \textcolor{keywordtype}{string} baseName = file.Substring(0, file.Length - 4);
2030 
2031                     \textcolor{keywordtype}{string}[] items = Path.GetFileNameWithoutExtension(file).Split(seps);
2032                     \textcolor{keywordtype}{int} ant = items.Length;
2033                     \textcolor{keywordflow}{if} (items[2] == \textcolor{stringliteral}{"Sample"}) \textcolor{comment}{// FIXME}
2034                         items[2] = \textcolor{stringliteral}{"Prøve"};
2035 
2036                     \textcolor{keywordtype}{string} fn = Path.GetFileName(file);
2037                     \textcolor{keywordtype}{int} pos1 = fn.IndexOf(\textcolor{charliteral}{'-'});
2038                     \textcolor{keywordtype}{int} pos2 = fn.LastIndexOf(\textcolor{charliteral}{'-'});
2039                     \textcolor{keywordtype}{string} tmp = fn.Substring(pos1, pos2 - pos1);
2040                     pos2 = tmp.LastIndexOf(\textcolor{charliteral}{'-'});
2041                     tmp = tmp.Substring(0, pos2);
2042 
2043                     gridArchive.Rows.Add(items[0], tmp.Substring(1, tmp.Length-1), items[ant-2], items[ant-
      1], baseName);
2044                 \}
2045             \}
2046         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a7919f1d4c3819a3c85df4107bbf82a59}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Update\+Detector\+Lists@{Update\+Detector\+Lists}}
\index{Update\+Detector\+Lists@{Update\+Detector\+Lists}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Update\+Detector\+Lists}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+Update\+Detector\+Lists (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a7919f1d4c3819a3c85df4107bbf82a59}
Oppdater detektor lister 

Definisjon på linje 315 i filen Form\+Main.\+cs.


\begin{DoxyCode}
316         \{
317             lbAdmDetList.Items.Clear(); \textcolor{comment}{// Tøm detektorliste på admin-sidene}
318             lvDetectors.Items.Clear(); \textcolor{comment}{// Tøm detektorliste på meny-sidene}
319             \textcolor{comment}{// Fyll inn detektorlistene på nytt, basert på lista med definerte detektorstrukturer}
320             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < Detectors.Count(); i++)
321             \{
322                 lbAdmDetList.Items.Add(\hyperlink{class_scintilab_1_1_form_main_a88f16134102d9e4c5630adf5ff97f090}{Detectors}[i].Name);
323                 \textcolor{keywordflow}{if} (\hyperlink{class_scintilab_1_1_form_main_a88f16134102d9e4c5630adf5ff97f090}{Detectors}[i].InUse) \textcolor{comment}{// Legg til i menylista kun hvis den er i bruk}
324                     lvDetectors.Items.Add(\hyperlink{class_scintilab_1_1_form_main_a88f16134102d9e4c5630adf5ff97f090}{Detectors}[i].Name, 0);
325             \}
326         \}
\end{DoxyCode}
\hypertarget{class_scintilab_1_1_form_main_a26420269c1a616c31de7521deebbef5f}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!update\+Grid\+Jobs@{update\+Grid\+Jobs}}
\index{update\+Grid\+Jobs@{update\+Grid\+Jobs}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{update\+Grid\+Jobs}]{\setlength{\rightskip}{0pt plus 5cm}void Scintilab.\+Form\+Main.\+update\+Grid\+Jobs (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a26420269c1a616c31de7521deebbef5f}
Funksjon for å oppdatere oversikten over eksisterende jobber 

Definisjon på linje 622 i filen Form\+Main.\+cs.


\begin{DoxyCode}
623         \{
624             \textcolor{comment}{// Oppdater jobb informasjon}
625             gridJobs.Rows.Clear(); \textcolor{comment}{// Tøm grensesnitt}
626             \textcolor{keywordtype}{string}[] batFiles = Directory.GetFiles(\hyperlink{class_scintilab_1_1_config_a0810c3c214672429b456af8f77e98632}{Config.JobDir}, \textcolor{stringliteral}{"*.BAT"}); \textcolor{comment}{// Finn alle .BAT
       filer}
627             \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{string} batFile \textcolor{keywordflow}{in} batFiles) \textcolor{comment}{// For hver .BAT fil}
628             \{
629                 \textcolor{keywordtype}{string} status = \textcolor{stringliteral}{"Pågår"};
630                 \textcolor{keywordtype}{string} det = Path.GetFileNameWithoutExtension(batFile);
631                 \textcolor{comment}{// Opprett filbaner til .RPT og .OUT filer}
632                 \textcolor{keywordtype}{string} rptFile = Path.GetDirectoryName(batFile) + Path.DirectorySeparatorChar + det + \textcolor{stringliteral}{".RPT
      "};
633                 \textcolor{keywordtype}{string} outFile = Path.GetDirectoryName(batFile) + Path.DirectorySeparatorChar + det + \textcolor{stringliteral}{".OUT
      "};
634                 \textcolor{comment}{// SJekk om .RPT filen finnes}
635                 \textcolor{keywordflow}{if} (File.Exists(rptFile))
636                 \{
637                     \textcolor{comment}{// Sett status til "Ferdig" hvis .BAT filen har en tilhørende .RPT fil}
638                     status = \textcolor{stringliteral}{"Ferdig"};
639                     lblStatus.Text = \textcolor{stringliteral}{""};
640                 \}
641                 gridJobs.Rows.Add(det, status); \textcolor{comment}{// Oppdater grensesnitt}
642             \}
643         \}
\end{DoxyCode}


\subsection{Medlemsdata-\/dokumentasjon}
\hypertarget{class_scintilab_1_1_form_main_aaff2cbfd906f576997bce08ece74dae8}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Beakers@{Beakers}}
\index{Beakers@{Beakers}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Beakers}]{\setlength{\rightskip}{0pt plus 5cm}List$<${\bf Beaker}$>$ Scintilab.\+Form\+Main.\+Beakers = null\hspace{0.3cm}{\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_aaff2cbfd906f576997bce08ece74dae8}
Liste med geometri datastrukturer 

Definisjon på linje 26 i filen Form\+Main.\+cs.

\hypertarget{class_scintilab_1_1_form_main_a88f16134102d9e4c5630adf5ff97f090}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Detectors@{Detectors}}
\index{Detectors@{Detectors}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Detectors}]{\setlength{\rightskip}{0pt plus 5cm}List$<${\bf Detector}$>$ Scintilab.\+Form\+Main.\+Detectors = null}}\label{class_scintilab_1_1_form_main_a88f16134102d9e4c5630adf5ff97f090}
Liste med detektor datastrukturer 

Definisjon på linje 24 i filen Form\+Main.\+cs.

\hypertarget{class_scintilab_1_1_form_main_a389e9c6697c567d84058d178053a837c}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!is\+Reanal@{is\+Reanal}}
\index{is\+Reanal@{is\+Reanal}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{is\+Reanal}]{\setlength{\rightskip}{0pt plus 5cm}bool Scintilab.\+Form\+Main.\+is\+Reanal = false\hspace{0.3cm}{\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a389e9c6697c567d84058d178053a837c}
Angir om analyse er en reanalysering 

Definisjon på linje 36 i filen Form\+Main.\+cs.

\hypertarget{class_scintilab_1_1_form_main_af318208d55e4a144a14abde1adc7559d}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Q\+A\+Beakers@{Q\+A\+Beakers}}
\index{Q\+A\+Beakers@{Q\+A\+Beakers}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Q\+A\+Beakers}]{\setlength{\rightskip}{0pt plus 5cm}List$<${\bf Q\+A\+Beaker}$>$ Scintilab.\+Form\+Main.\+Q\+A\+Beakers = null\hspace{0.3cm}{\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_af318208d55e4a144a14abde1adc7559d}
Liste med Q\+A-\/geometri datastrukturer 

Definisjon på linje 28 i filen Form\+Main.\+cs.

\hypertarget{class_scintilab_1_1_form_main_a57c8340ae2caaec775ad70d8036514fb}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Sel\+Info@{Sel\+Info}}
\index{Sel\+Info@{Sel\+Info}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Sel\+Info}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Selection\+Info} Scintilab.\+Form\+Main.\+Sel\+Info = new {\bf Selection\+Info}()\hspace{0.3cm}{\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a57c8340ae2caaec775ad70d8036514fb}
Datastruktur med brukerens valgte parametere 

Definisjon på linje 30 i filen Form\+Main.\+cs.

\hypertarget{class_scintilab_1_1_form_main_ad41498eb151a72c77ad94c7285d0f506}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!Sys\+Par@{Sys\+Par}}
\index{Sys\+Par@{Sys\+Par}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{Sys\+Par}]{\setlength{\rightskip}{0pt plus 5cm}{\bf System\+Parameters} Scintilab.\+Form\+Main.\+Sys\+Par = null\hspace{0.3cm}{\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_ad41498eb151a72c77ad94c7285d0f506}
Datastruktur med systemparametere 

Definisjon på linje 22 i filen Form\+Main.\+cs.

\hypertarget{class_scintilab_1_1_form_main_a751a47b90ebd11367991fc095818d8a2}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!update\+Jobs@{update\+Jobs}}
\index{update\+Jobs@{update\+Jobs}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{update\+Jobs}]{\setlength{\rightskip}{0pt plus 5cm}bool Scintilab.\+Form\+Main.\+update\+Jobs = false\hspace{0.3cm}{\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a751a47b90ebd11367991fc095818d8a2}
Angir om det er nødvendig med en oppdatering av jobber 

Definisjon på linje 34 i filen Form\+Main.\+cs.

\hypertarget{class_scintilab_1_1_form_main_a0331bda673387e5d96deebd876575d1d}{\index{Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}!watcher@{watcher}}
\index{watcher@{watcher}!Scintilab\+::\+Form\+Main@{Scintilab\+::\+Form\+Main}}
\subsubsection[{watcher}]{\setlength{\rightskip}{0pt plus 5cm}File\+System\+Watcher Scintilab.\+Form\+Main.\+watcher = new File\+System\+Watcher()\hspace{0.3cm}{\ttfamily [private]}}}\label{class_scintilab_1_1_form_main_a0331bda673387e5d96deebd876575d1d}
Objekt for filsystemhendelser i jobb katalogen 

Definisjon på linje 32 i filen Form\+Main.\+cs.



Dokumentasjonen for denne klasse ble generert fra følgende fil\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{_form_main_8cs}{Form\+Main.\+cs}\end{DoxyCompactItemize}
